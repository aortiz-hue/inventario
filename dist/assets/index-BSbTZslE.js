var g_=Object.defineProperty;var p_=(t,e,r)=>e in t?g_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ie=(t,e,r)=>p_(t,typeof e!="symbol"?e+"":e,r);function Dg(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const A in n)if(A!=="default"&&!(A in t)){const i=Object.getOwnPropertyDescriptor(n,A);i&&Object.defineProperty(t,A,i.get?i:{enumerable:!0,get:()=>n[A]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))n(A);new MutationObserver(A=>{for(const i of A)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(A){const i={};return A.integrity&&(i.integrity=A.integrity),A.referrerPolicy&&(i.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?i.credentials="include":A.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(A){if(A.ep)return;A.ep=!0;const i=r(A);fetch(A.href,i)}})();var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ey(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function w_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var A=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,A.get?A:{enumerable:!0,get:function(){return t[n]}})}),r}var ty={exports:{}},Sh={},ry={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tl=Symbol.for("react.element"),m_=Symbol.for("react.portal"),B_=Symbol.for("react.fragment"),x_=Symbol.for("react.strict_mode"),y_=Symbol.for("react.profiler"),C_=Symbol.for("react.provider"),v_=Symbol.for("react.context"),E_=Symbol.for("react.forward_ref"),b_=Symbol.for("react.suspense"),__=Symbol.for("react.memo"),I_=Symbol.for("react.lazy"),Mp=Symbol.iterator;function S_(t){return t===null||typeof t!="object"?null:(t=Mp&&t[Mp]||t["@@iterator"],typeof t=="function"?t:null)}var ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ay=Object.assign,iy={};function Fo(t,e,r){this.props=t,this.context=e,this.refs=iy,this.updater=r||ny}Fo.prototype.isReactComponent={};Fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sy(){}sy.prototype=Fo.prototype;function kg(t,e,r){this.props=t,this.context=e,this.refs=iy,this.updater=r||ny}var Lg=kg.prototype=new sy;Lg.constructor=kg;Ay(Lg,Fo.prototype);Lg.isPureReactComponent=!0;var Dp=Array.isArray,oy=Object.prototype.hasOwnProperty,Pg={current:null},ay={key:!0,ref:!0,__self:!0,__source:!0};function ly(t,e,r){var n,A={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)oy.call(e,n)&&!ay.hasOwnProperty(n)&&(A[n]=e[n]);var c=arguments.length-2;if(c===1)A.children=r;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];A.children=u}if(t&&t.defaultProps)for(n in c=t.defaultProps,c)A[n]===void 0&&(A[n]=c[n]);return{$$typeof:Tl,type:t,key:i,ref:o,props:A,_owner:Pg.current}}function F_(t,e){return{$$typeof:Tl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tl}function T_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var kp=/\/+/g;function Ud(t,e){return typeof t=="object"&&t!==null&&t.key!=null?T_(""+t.key):e.toString(36)}function lu(t,e,r,n,A){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tl:case m_:o=!0}}if(o)return o=t,A=A(o),t=n===""?"."+Ud(o,0):n,Dp(A)?(r="",t!=null&&(r=t.replace(kp,"$&/")+"/"),lu(A,e,r,"",function(d){return d})):A!=null&&(Hg(A)&&(A=F_(A,r+(!A.key||o&&o.key===A.key?"":(""+A.key).replace(kp,"$&/")+"/")+t)),e.push(A)),1;if(o=0,n=n===""?".":n+":",Dp(t))for(var c=0;c<t.length;c++){i=t[c];var u=n+Ud(i,c);o+=lu(i,e,r,u,A)}else if(u=S_(t),typeof u=="function")for(t=u.call(t),c=0;!(i=t.next()).done;)i=i.value,u=n+Ud(i,c++),o+=lu(i,e,r,u,A);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tc(t,e,r){if(t==null)return t;var n=[],A=0;return lu(t,n,"","",function(i){return e.call(r,i,A++)}),n}function U_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ir={current:null},cu={transition:null},Q_={ReactCurrentDispatcher:Ir,ReactCurrentBatchConfig:cu,ReactCurrentOwner:Pg};function cy(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:tc,forEach:function(t,e,r){tc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return tc(t,function(){e++}),e},toArray:function(t){return tc(t,function(e){return e})||[]},only:function(t){if(!Hg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=Fo;Oe.Fragment=B_;Oe.Profiler=y_;Oe.PureComponent=kg;Oe.StrictMode=x_;Oe.Suspense=b_;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q_;Oe.act=cy;Oe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ay({},t.props),A=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Pg.current),e.key!==void 0&&(A=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)oy.call(e,u)&&!ay.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];n.children=c}return{$$typeof:Tl,type:t.type,key:A,ref:i,props:n,_owner:o}};Oe.createContext=function(t){return t={$$typeof:v_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:C_,_context:t},t.Consumer=t};Oe.createElement=ly;Oe.createFactory=function(t){var e=ly.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:E_,render:t}};Oe.isValidElement=Hg;Oe.lazy=function(t){return{$$typeof:I_,_payload:{_status:-1,_result:t},_init:U_}};Oe.memo=function(t,e){return{$$typeof:__,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=cu.transition;cu.transition={};try{t()}finally{cu.transition=e}};Oe.unstable_act=cy;Oe.useCallback=function(t,e){return Ir.current.useCallback(t,e)};Oe.useContext=function(t){return Ir.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return Ir.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return Ir.current.useEffect(t,e)};Oe.useId=function(){return Ir.current.useId()};Oe.useImperativeHandle=function(t,e,r){return Ir.current.useImperativeHandle(t,e,r)};Oe.useInsertionEffect=function(t,e){return Ir.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return Ir.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return Ir.current.useMemo(t,e)};Oe.useReducer=function(t,e,r){return Ir.current.useReducer(t,e,r)};Oe.useRef=function(t){return Ir.current.useRef(t)};Oe.useState=function(t){return Ir.current.useState(t)};Oe.useSyncExternalStore=function(t,e,r){return Ir.current.useSyncExternalStore(t,e,r)};Oe.useTransition=function(){return Ir.current.useTransition()};Oe.version="18.3.1";ry.exports=Oe;var Y=ry.exports;const Yi=ey(Y),O_=Dg({__proto__:null,default:Yi},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_=Y,R_=Symbol.for("react.element"),M_=Symbol.for("react.fragment"),D_=Object.prototype.hasOwnProperty,k_=N_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L_={key:!0,ref:!0,__self:!0,__source:!0};function uy(t,e,r){var n,A={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)D_.call(e,n)&&!L_.hasOwnProperty(n)&&(A[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)A[n]===void 0&&(A[n]=e[n]);return{$$typeof:R_,type:t,key:i,ref:o,props:A,_owner:k_.current}}Sh.Fragment=M_;Sh.jsx=uy;Sh.jsxs=uy;ty.exports=Sh;var _=ty.exports,Wf={},hy={exports:{}},on={},dy={exports:{}},fy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,ae){var pe=re.length;re.push(ae);e:for(;0<pe;){var Qe=pe-1>>>1,be=re[Qe];if(0<A(be,ae))re[Qe]=ae,re[pe]=be,pe=Qe;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var ae=re[0],pe=re.pop();if(pe!==ae){re[0]=pe;e:for(var Qe=0,be=re.length,Je=be>>>1;Qe<Je;){var Te=2*(Qe+1)-1,mt=re[Te],le=Te+1,Fr=re[le];if(0>A(mt,pe))le<be&&0>A(Fr,mt)?(re[Qe]=Fr,re[le]=pe,Qe=le):(re[Qe]=mt,re[Te]=pe,Qe=Te);else if(le<be&&0>A(Fr,pe))re[Qe]=Fr,re[le]=pe,Qe=le;else break e}}return ae}function A(re,ae){var pe=re.sortIndex-ae.sortIndex;return pe!==0?pe:re.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],d=[],p=1,m=null,x=3,C=!1,E=!1,v=!1,F=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(re){for(var ae=r(d);ae!==null;){if(ae.callback===null)n(d);else if(ae.startTime<=re)n(d),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=r(d)}}function N(re){if(v=!1,T(re),!E)if(r(u)!==null)E=!0,we(L);else{var ae=r(d);ae!==null&&ie(N,ae.startTime-re)}}function L(re,ae){E=!1,v&&(v=!1,S(K),K=-1),C=!0;var pe=x;try{for(T(ae),m=r(u);m!==null&&(!(m.expirationTime>ae)||re&&!oe());){var Qe=m.callback;if(typeof Qe=="function"){m.callback=null,x=m.priorityLevel;var be=Qe(m.expirationTime<=ae);ae=t.unstable_now(),typeof be=="function"?m.callback=be:m===r(u)&&n(u),T(ae)}else n(u);m=r(u)}if(m!==null)var Je=!0;else{var Te=r(d);Te!==null&&ie(N,Te.startTime-ae),Je=!1}return Je}finally{m=null,x=pe,C=!1}}var k=!1,D=null,K=-1,H=5,q=-1;function oe(){return!(t.unstable_now()-q<H)}function Z(){if(D!==null){var re=t.unstable_now();q=re;var ae=!0;try{ae=D(!0,re)}finally{ae?Ae():(k=!1,D=null)}}else k=!1}var Ae;if(typeof I=="function")Ae=function(){I(Z)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,V=ye.port2;ye.port1.onmessage=Z,Ae=function(){V.postMessage(null)}}else Ae=function(){F(Z,0)};function we(re){D=re,k||(k=!0,Ae())}function ie(re,ae){K=F(function(){re(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){E||C||(E=!0,we(L))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(re){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var pe=x;x=ae;try{return re()}finally{x=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,ae){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=x;x=re;try{return ae()}finally{x=pe}},t.unstable_scheduleCallback=function(re,ae,pe){var Qe=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Qe+pe:Qe):pe=Qe,re){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=pe+be,re={id:p++,callback:ae,priorityLevel:re,startTime:pe,expirationTime:be,sortIndex:-1},pe>Qe?(re.sortIndex=pe,e(d,re),r(u)===null&&re===r(d)&&(v?(S(K),K=-1):v=!0,ie(N,pe-Qe))):(re.sortIndex=be,e(u,re),E||C||(E=!0,we(L))),re},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(re){var ae=x;return function(){var pe=x;x=ae;try{return re.apply(this,arguments)}finally{x=pe}}}})(fy);dy.exports=fy;var P_=dy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_=Y,sn=P_;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gy=new Set,$a={};function gs(t,e){mo(t,e),mo(t+"Capture",e)}function mo(t,e){for($a[t]=e,t=0;t<e.length;t++)gy.add(e[t])}var EA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xf=Object.prototype.hasOwnProperty,j_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lp={},Pp={};function K_(t){return Xf.call(Pp,t)?!0:Xf.call(Lp,t)?!1:j_.test(t)?Pp[t]=!0:(Lp[t]=!0,!1)}function V_(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z_(t,e,r,n){if(e===null||typeof e>"u"||V_(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sr(t,e,r,n,A,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=A,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lr[t]=new Sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lr[e]=new Sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lr[t]=new Sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lr[t]=new Sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lr[t]=new Sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lr[t]=new Sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lr[t]=new Sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lr[t]=new Sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lr[t]=new Sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var jg=/[\-:]([a-z])/g;function Kg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jg,Kg);lr[e]=new Sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jg,Kg);lr[e]=new Sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jg,Kg);lr[e]=new Sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lr[t]=new Sr(t,1,!1,t.toLowerCase(),null,!1,!1)});lr.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lr[t]=new Sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vg(t,e,r,n){var A=lr.hasOwnProperty(e)?lr[e]:null;(A!==null?A.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(z_(e,r,A,n)&&(r=null),n||A===null?K_(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):A.mustUseProperty?t[A.propertyName]=r===null?A.type===3?!1:"":r:(e=A.attributeName,n=A.attributeNamespace,r===null?t.removeAttribute(e):(A=A.type,r=A===3||A===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var TA=H_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rc=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),zg=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),py=Symbol.for("react.provider"),wy=Symbol.for("react.context"),Gg=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),Wg=Symbol.for("react.memo"),VA=Symbol.for("react.lazy"),my=Symbol.for("react.offscreen"),Hp=Symbol.iterator;function $o(t){return t===null||typeof t!="object"?null:(t=Hp&&t[Hp]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,Qd;function pa(t){if(Qd===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Qd=e&&e[1]||""}return`
`+Qd+t}var Od=!1;function Nd(t,e){if(!t||Od)return"";Od=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var A=d.stack.split(`
`),i=n.stack.split(`
`),o=A.length-1,c=i.length-1;1<=o&&0<=c&&A[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(A[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||A[o]!==i[c]){var u=`
`+A[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=c);break}}}finally{Od=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?pa(t):""}function G_(t){switch(t.tag){case 5:return pa(t.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 2:case 15:return t=Nd(t.type,!1),t;case 11:return t=Nd(t.type.render,!1),t;case 1:return t=Nd(t.type,!0),t;default:return""}}function qf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xs:return"Fragment";case Ws:return"Portal";case Yf:return"Profiler";case zg:return"StrictMode";case Jf:return"Suspense";case Zf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wy:return(t.displayName||"Context")+".Consumer";case py:return(t._context.displayName||"Context")+".Provider";case Gg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wg:return e=t.displayName||null,e!==null?e:qf(t.type)||"Memo";case VA:e=t._payload,t=t._init;try{return qf(t(e))}catch{}}return null}function W_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qf(e);case 8:return e===zg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function By(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X_(t){var e=By(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var A=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return A.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nc(t){t._valueTracker||(t._valueTracker=X_(t))}function xy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=By(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $f(t,e){var r=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function jp(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=mi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yy(t,e){e=e.checked,e!=null&&Vg(t,"checked",e,!1)}function e0(t,e){yy(t,e);var r=mi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?t0(t,e.type,r):e.hasOwnProperty("defaultValue")&&t0(t,e.type,mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kp(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function t0(t,e,r){(e!=="number"||Tu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var wa=Array.isArray;function oo(t,e,r,n){if(t=t.options,e){e={};for(var A=0;A<r.length;A++)e["$"+r[A]]=!0;for(r=0;r<t.length;r++)A=e.hasOwnProperty("$"+t[r].value),t[r].selected!==A&&(t[r].selected=A),A&&n&&(t[r].defaultSelected=!0)}else{for(r=""+mi(r),e=null,A=0;A<t.length;A++){if(t[A].value===r){t[A].selected=!0,n&&(t[A].defaultSelected=!0);return}e!==null||t[A].disabled||(e=t[A])}e!==null&&(e.selected=!0)}}function r0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vp(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ee(92));if(wa(r)){if(1<r.length)throw Error(ee(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:mi(r)}}function Cy(t,e){var r=mi(e.value),n=mi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function zp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function n0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ac,Ey=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,A){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,A)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ac=Ac||document.createElement("div"),Ac.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ac.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function el(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y_=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(t){Y_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oa[e]=Oa[t]})});function by(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Oa.hasOwnProperty(t)&&Oa[t]?(""+e).trim():e+"px"}function _y(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,A=by(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,A):t[r]=A}}var J_=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A0(t,e){if(e){if(J_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function i0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s0=null;function Xg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var o0=null,ao=null,lo=null;function Gp(t){if(t=Ol(t)){if(typeof o0!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Oh(e),o0(t.stateNode,t.type,e))}}function Iy(t){ao?lo?lo.push(t):lo=[t]:ao=t}function Sy(){if(ao){var t=ao,e=lo;if(lo=ao=null,Gp(t),e)for(t=0;t<e.length;t++)Gp(e[t])}}function Fy(t,e){return t(e)}function Ty(){}var Rd=!1;function Uy(t,e,r){if(Rd)return t(e,r);Rd=!0;try{return Fy(t,e,r)}finally{Rd=!1,(ao!==null||lo!==null)&&(Ty(),Sy())}}function tl(t,e){var r=t.stateNode;if(r===null)return null;var n=Oh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ee(231,e,typeof r));return r}var a0=!1;if(EA)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){a0=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{a0=!1}function Z_(t,e,r,n,A,i,o,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(p){this.onError(p)}}var Na=!1,Uu=null,Qu=!1,l0=null,q_={onError:function(t){Na=!0,Uu=t}};function $_(t,e,r,n,A,i,o,c,u){Na=!1,Uu=null,Z_.apply(q_,arguments)}function eI(t,e,r,n,A,i,o,c,u){if($_.apply(this,arguments),Na){if(Na){var d=Uu;Na=!1,Uu=null}else throw Error(ee(198));Qu||(Qu=!0,l0=d)}}function ps(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Qy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wp(t){if(ps(t)!==t)throw Error(ee(188))}function tI(t){var e=t.alternate;if(!e){if(e=ps(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var r=t,n=e;;){var A=r.return;if(A===null)break;var i=A.alternate;if(i===null){if(n=A.return,n!==null){r=n;continue}break}if(A.child===i.child){for(i=A.child;i;){if(i===r)return Wp(A),t;if(i===n)return Wp(A),e;i=i.sibling}throw Error(ee(188))}if(r.return!==n.return)r=A,n=i;else{for(var o=!1,c=A.child;c;){if(c===r){o=!0,r=A,n=i;break}if(c===n){o=!0,n=A,r=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===r){o=!0,r=i,n=A;break}if(c===n){o=!0,n=i,r=A;break}c=c.sibling}if(!o)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?t:e}function Oy(t){return t=tI(t),t!==null?Ny(t):null}function Ny(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ny(t);if(e!==null)return e;t=t.sibling}return null}var Ry=sn.unstable_scheduleCallback,Xp=sn.unstable_cancelCallback,rI=sn.unstable_shouldYield,nI=sn.unstable_requestPaint,Qt=sn.unstable_now,AI=sn.unstable_getCurrentPriorityLevel,Yg=sn.unstable_ImmediatePriority,My=sn.unstable_UserBlockingPriority,Ou=sn.unstable_NormalPriority,iI=sn.unstable_LowPriority,Dy=sn.unstable_IdlePriority,Fh=null,iA=null;function sI(t){if(iA&&typeof iA.onCommitFiberRoot=="function")try{iA.onCommitFiberRoot(Fh,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:lI,oI=Math.log,aI=Math.LN2;function lI(t){return t>>>=0,t===0?32:31-(oI(t)/aI|0)|0}var ic=64,sc=4194304;function ma(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nu(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,A=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var c=o&~A;c!==0?n=ma(c):(i&=o,i!==0&&(n=ma(i)))}else o=r&~A,o!==0?n=ma(o):i!==0&&(n=ma(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&A)&&(A=n&-n,i=e&-e,A>=i||A===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ln(e),A=1<<r,n|=t[r],e&=~A;return n}function cI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,A=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ln(i),c=1<<o,u=A[o];u===-1?(!(c&r)||c&n)&&(A[o]=cI(c,e)):u<=e&&(t.expiredLanes|=c),i&=~c}}function c0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ky(){var t=ic;return ic<<=1,!(ic&4194240)&&(ic=64),t}function Md(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ul(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=r}function hI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var A=31-Ln(r),i=1<<A;e[A]=0,n[A]=-1,t[A]=-1,r&=~i}}function Jg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ln(r),A=1<<n;A&e|t[n]&e&&(t[n]|=e),r&=~A}}var Ye=0;function Ly(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Py,Zg,Hy,jy,Ky,u0=!1,oc=[],ii=null,si=null,oi=null,rl=new Map,nl=new Map,WA=[],dI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yp(t,e){switch(t){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":rl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(e.pointerId)}}function ta(t,e,r,n,A,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[A]},e!==null&&(e=Ol(e),e!==null&&Zg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,A!==null&&e.indexOf(A)===-1&&e.push(A),t)}function fI(t,e,r,n,A){switch(e){case"focusin":return ii=ta(ii,t,e,r,n,A),!0;case"dragenter":return si=ta(si,t,e,r,n,A),!0;case"mouseover":return oi=ta(oi,t,e,r,n,A),!0;case"pointerover":var i=A.pointerId;return rl.set(i,ta(rl.get(i)||null,t,e,r,n,A)),!0;case"gotpointercapture":return i=A.pointerId,nl.set(i,ta(nl.get(i)||null,t,e,r,n,A)),!0}return!1}function Vy(t){var e=Ji(t.target);if(e!==null){var r=ps(e);if(r!==null){if(e=r.tag,e===13){if(e=Qy(r),e!==null){t.blockedOn=e,Ky(t.priority,function(){Hy(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=h0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);s0=n,r.target.dispatchEvent(n),s0=null}else return e=Ol(r),e!==null&&Zg(e),t.blockedOn=r,!1;e.shift()}return!0}function Jp(t,e,r){uu(t)&&r.delete(e)}function gI(){u0=!1,ii!==null&&uu(ii)&&(ii=null),si!==null&&uu(si)&&(si=null),oi!==null&&uu(oi)&&(oi=null),rl.forEach(Jp),nl.forEach(Jp)}function ra(t,e){t.blockedOn===e&&(t.blockedOn=null,u0||(u0=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,gI)))}function Al(t){function e(A){return ra(A,t)}if(0<oc.length){ra(oc[0],t);for(var r=1;r<oc.length;r++){var n=oc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ii!==null&&ra(ii,t),si!==null&&ra(si,t),oi!==null&&ra(oi,t),rl.forEach(e),nl.forEach(e),r=0;r<WA.length;r++)n=WA[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<WA.length&&(r=WA[0],r.blockedOn===null);)Vy(r),r.blockedOn===null&&WA.shift()}var co=TA.ReactCurrentBatchConfig,Ru=!0;function pI(t,e,r,n){var A=Ye,i=co.transition;co.transition=null;try{Ye=1,qg(t,e,r,n)}finally{Ye=A,co.transition=i}}function wI(t,e,r,n){var A=Ye,i=co.transition;co.transition=null;try{Ye=4,qg(t,e,r,n)}finally{Ye=A,co.transition=i}}function qg(t,e,r,n){if(Ru){var A=h0(t,e,r,n);if(A===null)Gd(t,e,n,Mu,r),Yp(t,n);else if(fI(A,t,e,r,n))n.stopPropagation();else if(Yp(t,n),e&4&&-1<dI.indexOf(t)){for(;A!==null;){var i=Ol(A);if(i!==null&&Py(i),i=h0(t,e,r,n),i===null&&Gd(t,e,n,Mu,r),i===A)break;A=i}A!==null&&n.stopPropagation()}else Gd(t,e,n,null,r)}}var Mu=null;function h0(t,e,r,n){if(Mu=null,t=Xg(n),t=Ji(t),t!==null)if(e=ps(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Qy(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mu=t,null}function zy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AI()){case Yg:return 1;case My:return 4;case Ou:case iI:return 16;case Dy:return 536870912;default:return 16}default:return 16}}var JA=null,$g=null,hu=null;function Gy(){if(hu)return hu;var t,e=$g,r=e.length,n,A="value"in JA?JA.value:JA.textContent,i=A.length;for(t=0;t<r&&e[t]===A[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===A[i-n];n++);return hu=A.slice(t,1<n?1-n:void 0)}function du(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ac(){return!0}function Zp(){return!1}function an(t){function e(r,n,A,i,o){this._reactName=r,this._targetInst=A,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(r=t[c],this[c]=r?r(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ac:Zp,this.isPropagationStopped=Zp,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ac)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ac)},persist:function(){},isPersistent:ac}),e}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e1=an(To),Ql=vt({},To,{view:0,detail:0}),mI=an(Ql),Dd,kd,na,Th=vt({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==na&&(na&&t.type==="mousemove"?(Dd=t.screenX-na.screenX,kd=t.screenY-na.screenY):kd=Dd=0,na=t),Dd)},movementY:function(t){return"movementY"in t?t.movementY:kd}}),qp=an(Th),BI=vt({},Th,{dataTransfer:0}),xI=an(BI),yI=vt({},Ql,{relatedTarget:0}),Ld=an(yI),CI=vt({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),vI=an(CI),EI=vt({},To,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bI=an(EI),_I=vt({},To,{data:0}),$p=an(_I),II={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FI[t])?!!e[t]:!1}function t1(){return TI}var UI=vt({},Ql,{key:function(t){if(t.key){var e=II[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=du(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t1,charCode:function(t){return t.type==="keypress"?du(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?du(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QI=an(UI),OI=vt({},Th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ew=an(OI),NI=vt({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t1}),RI=an(NI),MI=vt({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),DI=an(MI),kI=vt({},Th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LI=an(kI),PI=[9,13,27,32],r1=EA&&"CompositionEvent"in window,Ra=null;EA&&"documentMode"in document&&(Ra=document.documentMode);var HI=EA&&"TextEvent"in window&&!Ra,Wy=EA&&(!r1||Ra&&8<Ra&&11>=Ra),tw=" ",rw=!1;function Xy(t,e){switch(t){case"keyup":return PI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function jI(t,e){switch(t){case"compositionend":return Yy(e);case"keypress":return e.which!==32?null:(rw=!0,tw);case"textInput":return t=e.data,t===tw&&rw?null:t;default:return null}}function KI(t,e){if(Ys)return t==="compositionend"||!r1&&Xy(t,e)?(t=Gy(),hu=$g=JA=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wy&&e.locale!=="ko"?null:e.data;default:return null}}var VI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VI[t.type]:e==="textarea"}function Jy(t,e,r,n){Iy(n),e=Du(e,"onChange"),0<e.length&&(r=new e1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ma=null,il=null;function zI(t){oC(t,0)}function Uh(t){var e=qs(t);if(xy(e))return t}function GI(t,e){if(t==="change")return e}var Zy=!1;if(EA){var Pd;if(EA){var Hd="oninput"in document;if(!Hd){var Aw=document.createElement("div");Aw.setAttribute("oninput","return;"),Hd=typeof Aw.oninput=="function"}Pd=Hd}else Pd=!1;Zy=Pd&&(!document.documentMode||9<document.documentMode)}function iw(){Ma&&(Ma.detachEvent("onpropertychange",qy),il=Ma=null)}function qy(t){if(t.propertyName==="value"&&Uh(il)){var e=[];Jy(e,il,t,Xg(t)),Uy(zI,e)}}function WI(t,e,r){t==="focusin"?(iw(),Ma=e,il=r,Ma.attachEvent("onpropertychange",qy)):t==="focusout"&&iw()}function XI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uh(il)}function YI(t,e){if(t==="click")return Uh(e)}function JI(t,e){if(t==="input"||t==="change")return Uh(e)}function ZI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:ZI;function sl(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var A=r[n];if(!Xf.call(e,A)||!Hn(t[A],e[A]))return!1}return!0}function sw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ow(t,e){var r=sw(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sw(r)}}function $y(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$y(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eC(){for(var t=window,e=Tu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Tu(t.document)}return e}function n1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qI(t){var e=eC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&$y(r.ownerDocument.documentElement,r)){if(n!==null&&n1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var A=r.textContent.length,i=Math.min(n.start,A);n=n.end===void 0?i:Math.min(n.end,A),!t.extend&&i>n&&(A=n,n=i,i=A),A=ow(r,i);var o=ow(r,n);A&&o&&(t.rangeCount!==1||t.anchorNode!==A.node||t.anchorOffset!==A.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(A.node,A.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $I=EA&&"documentMode"in document&&11>=document.documentMode,Js=null,d0=null,Da=null,f0=!1;function aw(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;f0||Js==null||Js!==Tu(n)||(n=Js,"selectionStart"in n&&n1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Da&&sl(Da,n)||(Da=n,n=Du(d0,"onSelect"),0<n.length&&(e=new e1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Js)))}function lc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Zs={animationend:lc("Animation","AnimationEnd"),animationiteration:lc("Animation","AnimationIteration"),animationstart:lc("Animation","AnimationStart"),transitionend:lc("Transition","TransitionEnd")},jd={},tC={};EA&&(tC=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function Qh(t){if(jd[t])return jd[t];if(!Zs[t])return t;var e=Zs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in tC)return jd[t]=e[r];return t}var rC=Qh("animationend"),nC=Qh("animationiteration"),AC=Qh("animationstart"),iC=Qh("transitionend"),sC=new Map,lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(t,e){sC.set(t,e),gs(e,[t])}for(var Kd=0;Kd<lw.length;Kd++){var Vd=lw[Kd],eS=Vd.toLowerCase(),tS=Vd[0].toUpperCase()+Vd.slice(1);Ei(eS,"on"+tS)}Ei(rC,"onAnimationEnd");Ei(nC,"onAnimationIteration");Ei(AC,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(iC,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function cw(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,eI(n,e,void 0,t),t.currentTarget=null}function oC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],A=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var c=n[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==i&&A.isPropagationStopped())break e;cw(A,c,d),i=u}else for(o=0;o<n.length;o++){if(c=n[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==i&&A.isPropagationStopped())break e;cw(A,c,d),i=u}}}if(Qu)throw t=l0,Qu=!1,l0=null,t}function lt(t,e){var r=e[B0];r===void 0&&(r=e[B0]=new Set);var n=t+"__bubble";r.has(n)||(aC(e,t,2,!1),r.add(n))}function zd(t,e,r){var n=0;e&&(n|=4),aC(r,t,n,e)}var cc="_reactListening"+Math.random().toString(36).slice(2);function ol(t){if(!t[cc]){t[cc]=!0,gy.forEach(function(r){r!=="selectionchange"&&(rS.has(r)||zd(r,!1,t),zd(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cc]||(e[cc]=!0,zd("selectionchange",!1,e))}}function aC(t,e,r,n){switch(zy(e)){case 1:var A=pI;break;case 4:A=wI;break;default:A=qg}r=A.bind(null,e,r,t),A=void 0,!a0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(A=!0),n?A!==void 0?t.addEventListener(e,r,{capture:!0,passive:A}):t.addEventListener(e,r,!0):A!==void 0?t.addEventListener(e,r,{passive:A}):t.addEventListener(e,r,!1)}function Gd(t,e,r,n,A){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===A||c.nodeType===8&&c.parentNode===A)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===A||u.nodeType===8&&u.parentNode===A))return;o=o.return}for(;c!==null;){if(o=Ji(c),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}c=c.parentNode}}n=n.return}Uy(function(){var d=i,p=Xg(r),m=[];e:{var x=sC.get(t);if(x!==void 0){var C=e1,E=t;switch(t){case"keypress":if(du(r)===0)break e;case"keydown":case"keyup":C=QI;break;case"focusin":E="focus",C=Ld;break;case"focusout":E="blur",C=Ld;break;case"beforeblur":case"afterblur":C=Ld;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=qp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=xI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=RI;break;case rC:case nC:case AC:C=vI;break;case iC:C=DI;break;case"scroll":C=mI;break;case"wheel":C=LI;break;case"copy":case"cut":case"paste":C=bI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=ew}var v=(e&4)!==0,F=!v&&t==="scroll",S=v?x!==null?x+"Capture":null:x;v=[];for(var I=d,T;I!==null;){T=I;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,S!==null&&(N=tl(I,S),N!=null&&v.push(al(I,N,T)))),F)break;I=I.return}0<v.length&&(x=new C(x,E,null,r,p),m.push({event:x,listeners:v}))}}if(!(e&7)){e:{if(x=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",x&&r!==s0&&(E=r.relatedTarget||r.fromElement)&&(Ji(E)||E[bA]))break e;if((C||x)&&(x=p.window===p?p:(x=p.ownerDocument)?x.defaultView||x.parentWindow:window,C?(E=r.relatedTarget||r.toElement,C=d,E=E?Ji(E):null,E!==null&&(F=ps(E),E!==F||E.tag!==5&&E.tag!==6)&&(E=null)):(C=null,E=d),C!==E)){if(v=qp,N="onMouseLeave",S="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(v=ew,N="onPointerLeave",S="onPointerEnter",I="pointer"),F=C==null?x:qs(C),T=E==null?x:qs(E),x=new v(N,I+"leave",C,r,p),x.target=F,x.relatedTarget=T,N=null,Ji(p)===d&&(v=new v(S,I+"enter",E,r,p),v.target=T,v.relatedTarget=F,N=v),F=N,C&&E)t:{for(v=C,S=E,I=0,T=v;T;T=Ss(T))I++;for(T=0,N=S;N;N=Ss(N))T++;for(;0<I-T;)v=Ss(v),I--;for(;0<T-I;)S=Ss(S),T--;for(;I--;){if(v===S||S!==null&&v===S.alternate)break t;v=Ss(v),S=Ss(S)}v=null}else v=null;C!==null&&uw(m,x,C,v,!1),E!==null&&F!==null&&uw(m,F,E,v,!0)}}e:{if(x=d?qs(d):window,C=x.nodeName&&x.nodeName.toLowerCase(),C==="select"||C==="input"&&x.type==="file")var L=GI;else if(nw(x))if(Zy)L=JI;else{L=XI;var k=WI}else(C=x.nodeName)&&C.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(L=YI);if(L&&(L=L(t,d))){Jy(m,L,r,p);break e}k&&k(t,x,d),t==="focusout"&&(k=x._wrapperState)&&k.controlled&&x.type==="number"&&t0(x,"number",x.value)}switch(k=d?qs(d):window,t){case"focusin":(nw(k)||k.contentEditable==="true")&&(Js=k,d0=d,Da=null);break;case"focusout":Da=d0=Js=null;break;case"mousedown":f0=!0;break;case"contextmenu":case"mouseup":case"dragend":f0=!1,aw(m,r,p);break;case"selectionchange":if($I)break;case"keydown":case"keyup":aw(m,r,p)}var D;if(r1)e:{switch(t){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else Ys?Xy(t,r)&&(K="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(K="onCompositionStart");K&&(Wy&&r.locale!=="ko"&&(Ys||K!=="onCompositionStart"?K==="onCompositionEnd"&&Ys&&(D=Gy()):(JA=p,$g="value"in JA?JA.value:JA.textContent,Ys=!0)),k=Du(d,K),0<k.length&&(K=new $p(K,t,null,r,p),m.push({event:K,listeners:k}),D?K.data=D:(D=Yy(r),D!==null&&(K.data=D)))),(D=HI?jI(t,r):KI(t,r))&&(d=Du(d,"onBeforeInput"),0<d.length&&(p=new $p("onBeforeInput","beforeinput",null,r,p),m.push({event:p,listeners:d}),p.data=D))}oC(m,e)})}function al(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Du(t,e){for(var r=e+"Capture",n=[];t!==null;){var A=t,i=A.stateNode;A.tag===5&&i!==null&&(A=i,i=tl(t,r),i!=null&&n.unshift(al(t,i,A)),i=tl(t,e),i!=null&&n.push(al(t,i,A))),t=t.return}return n}function Ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uw(t,e,r,n,A){for(var i=e._reactName,o=[];r!==null&&r!==n;){var c=r,u=c.alternate,d=c.stateNode;if(u!==null&&u===n)break;c.tag===5&&d!==null&&(c=d,A?(u=tl(r,i),u!=null&&o.unshift(al(r,u,c))):A||(u=tl(r,i),u!=null&&o.push(al(r,u,c)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var nS=/\r\n?/g,AS=/\u0000|\uFFFD/g;function hw(t){return(typeof t=="string"?t:""+t).replace(nS,`
`).replace(AS,"")}function uc(t,e,r){if(e=hw(e),hw(t)!==e&&r)throw Error(ee(425))}function ku(){}var g0=null,p0=null;function w0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m0=typeof setTimeout=="function"?setTimeout:void 0,iS=typeof clearTimeout=="function"?clearTimeout:void 0,dw=typeof Promise=="function"?Promise:void 0,sS=typeof queueMicrotask=="function"?queueMicrotask:typeof dw<"u"?function(t){return dw.resolve(null).then(t).catch(oS)}:m0;function oS(t){setTimeout(function(){throw t})}function Wd(t,e){var r=e,n=0;do{var A=r.nextSibling;if(t.removeChild(r),A&&A.nodeType===8)if(r=A.data,r==="/$"){if(n===0){t.removeChild(A),Al(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=A}while(r);Al(e)}function ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),AA="__reactFiber$"+Uo,ll="__reactProps$"+Uo,bA="__reactContainer$"+Uo,B0="__reactEvents$"+Uo,aS="__reactListeners$"+Uo,lS="__reactHandles$"+Uo;function Ji(t){var e=t[AA];if(e)return e;for(var r=t.parentNode;r;){if(e=r[bA]||r[AA]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=fw(t);t!==null;){if(r=t[AA])return r;t=fw(t)}return e}t=r,r=t.parentNode}return null}function Ol(t){return t=t[AA]||t[bA],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Oh(t){return t[ll]||null}var x0=[],$s=-1;function bi(t){return{current:t}}function dt(t){0>$s||(t.current=x0[$s],x0[$s]=null,$s--)}function ot(t,e){$s++,x0[$s]=t.current,t.current=e}var Bi={},Br=bi(Bi),Vr=bi(!1),as=Bi;function Bo(t,e){var r=t.type.contextTypes;if(!r)return Bi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var A={},i;for(i in r)A[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=A),A}function zr(t){return t=t.childContextTypes,t!=null}function Lu(){dt(Vr),dt(Br)}function gw(t,e,r){if(Br.current!==Bi)throw Error(ee(168));ot(Br,e),ot(Vr,r)}function lC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var A in n)if(!(A in e))throw Error(ee(108,W_(t)||"Unknown",A));return vt({},r,n)}function Pu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bi,as=Br.current,ot(Br,t),ot(Vr,Vr.current),!0}function pw(t,e,r){var n=t.stateNode;if(!n)throw Error(ee(169));r?(t=lC(t,e,as),n.__reactInternalMemoizedMergedChildContext=t,dt(Vr),dt(Br),ot(Br,t)):dt(Vr),ot(Vr,r)}var wA=null,Nh=!1,Xd=!1;function cC(t){wA===null?wA=[t]:wA.push(t)}function cS(t){Nh=!0,cC(t)}function _i(){if(!Xd&&wA!==null){Xd=!0;var t=0,e=Ye;try{var r=wA;for(Ye=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}wA=null,Nh=!1}catch(A){throw wA!==null&&(wA=wA.slice(t+1)),Ry(Yg,_i),A}finally{Ye=e,Xd=!1}}return null}var eo=[],to=0,Hu=null,ju=0,gn=[],pn=0,ls=null,BA=1,xA="";function Hi(t,e){eo[to++]=ju,eo[to++]=Hu,Hu=t,ju=e}function uC(t,e,r){gn[pn++]=BA,gn[pn++]=xA,gn[pn++]=ls,ls=t;var n=BA;t=xA;var A=32-Ln(n)-1;n&=~(1<<A),r+=1;var i=32-Ln(e)+A;if(30<i){var o=A-A%5;i=(n&(1<<o)-1).toString(32),n>>=o,A-=o,BA=1<<32-Ln(e)+A|r<<A|n,xA=i+t}else BA=1<<i|r<<A|n,xA=t}function A1(t){t.return!==null&&(Hi(t,1),uC(t,1,0))}function i1(t){for(;t===Hu;)Hu=eo[--to],eo[to]=null,ju=eo[--to],eo[to]=null;for(;t===ls;)ls=gn[--pn],gn[pn]=null,xA=gn[--pn],gn[pn]=null,BA=gn[--pn],gn[pn]=null}var An=null,nn=null,wt=!1,kn=null;function hC(t,e){var r=mn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ww(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,nn=ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ls!==null?{id:BA,overflow:xA}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=mn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,An=t,nn=null,!0):!1;default:return!1}}function y0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function C0(t){if(wt){var e=nn;if(e){var r=e;if(!ww(t,e)){if(y0(t))throw Error(ee(418));e=ai(r.nextSibling);var n=An;e&&ww(t,e)?hC(n,r):(t.flags=t.flags&-4097|2,wt=!1,An=t)}}else{if(y0(t))throw Error(ee(418));t.flags=t.flags&-4097|2,wt=!1,An=t}}}function mw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function hc(t){if(t!==An)return!1;if(!wt)return mw(t),wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!w0(t.type,t.memoizedProps)),e&&(e=nn)){if(y0(t))throw dC(),Error(ee(418));for(;e;)hC(t,e),e=ai(e.nextSibling)}if(mw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){nn=ai(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=An?ai(t.stateNode.nextSibling):null;return!0}function dC(){for(var t=nn;t;)t=ai(t.nextSibling)}function xo(){nn=An=null,wt=!1}function s1(t){kn===null?kn=[t]:kn.push(t)}var uS=TA.ReactCurrentBatchConfig;function Aa(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,t));var A=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var c=A.refs;o===null?delete c[i]:c[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,t))}return t}function dc(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bw(t){var e=t._init;return e(t._payload)}function fC(t){function e(S,I){if(t){var T=S.deletions;T===null?(S.deletions=[I],S.flags|=16):T.push(I)}}function r(S,I){if(!t)return null;for(;I!==null;)e(S,I),I=I.sibling;return null}function n(S,I){for(S=new Map;I!==null;)I.key!==null?S.set(I.key,I):S.set(I.index,I),I=I.sibling;return S}function A(S,I){return S=hi(S,I),S.index=0,S.sibling=null,S}function i(S,I,T){return S.index=T,t?(T=S.alternate,T!==null?(T=T.index,T<I?(S.flags|=2,I):T):(S.flags|=2,I)):(S.flags|=1048576,I)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function c(S,I,T,N){return I===null||I.tag!==6?(I=tf(T,S.mode,N),I.return=S,I):(I=A(I,T),I.return=S,I)}function u(S,I,T,N){var L=T.type;return L===Xs?p(S,I,T.props.children,N,T.key):I!==null&&(I.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===VA&&Bw(L)===I.type)?(N=A(I,T.props),N.ref=Aa(S,I,T),N.return=S,N):(N=xu(T.type,T.key,T.props,null,S.mode,N),N.ref=Aa(S,I,T),N.return=S,N)}function d(S,I,T,N){return I===null||I.tag!==4||I.stateNode.containerInfo!==T.containerInfo||I.stateNode.implementation!==T.implementation?(I=rf(T,S.mode,N),I.return=S,I):(I=A(I,T.children||[]),I.return=S,I)}function p(S,I,T,N,L){return I===null||I.tag!==7?(I=As(T,S.mode,N,L),I.return=S,I):(I=A(I,T),I.return=S,I)}function m(S,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return I=tf(""+I,S.mode,T),I.return=S,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case rc:return T=xu(I.type,I.key,I.props,null,S.mode,T),T.ref=Aa(S,null,I),T.return=S,T;case Ws:return I=rf(I,S.mode,T),I.return=S,I;case VA:var N=I._init;return m(S,N(I._payload),T)}if(wa(I)||$o(I))return I=As(I,S.mode,T,null),I.return=S,I;dc(S,I)}return null}function x(S,I,T,N){var L=I!==null?I.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return L!==null?null:c(S,I,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case rc:return T.key===L?u(S,I,T,N):null;case Ws:return T.key===L?d(S,I,T,N):null;case VA:return L=T._init,x(S,I,L(T._payload),N)}if(wa(T)||$o(T))return L!==null?null:p(S,I,T,N,null);dc(S,T)}return null}function C(S,I,T,N,L){if(typeof N=="string"&&N!==""||typeof N=="number")return S=S.get(T)||null,c(I,S,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case rc:return S=S.get(N.key===null?T:N.key)||null,u(I,S,N,L);case Ws:return S=S.get(N.key===null?T:N.key)||null,d(I,S,N,L);case VA:var k=N._init;return C(S,I,T,k(N._payload),L)}if(wa(N)||$o(N))return S=S.get(T)||null,p(I,S,N,L,null);dc(I,N)}return null}function E(S,I,T,N){for(var L=null,k=null,D=I,K=I=0,H=null;D!==null&&K<T.length;K++){D.index>K?(H=D,D=null):H=D.sibling;var q=x(S,D,T[K],N);if(q===null){D===null&&(D=H);break}t&&D&&q.alternate===null&&e(S,D),I=i(q,I,K),k===null?L=q:k.sibling=q,k=q,D=H}if(K===T.length)return r(S,D),wt&&Hi(S,K),L;if(D===null){for(;K<T.length;K++)D=m(S,T[K],N),D!==null&&(I=i(D,I,K),k===null?L=D:k.sibling=D,k=D);return wt&&Hi(S,K),L}for(D=n(S,D);K<T.length;K++)H=C(D,S,K,T[K],N),H!==null&&(t&&H.alternate!==null&&D.delete(H.key===null?K:H.key),I=i(H,I,K),k===null?L=H:k.sibling=H,k=H);return t&&D.forEach(function(oe){return e(S,oe)}),wt&&Hi(S,K),L}function v(S,I,T,N){var L=$o(T);if(typeof L!="function")throw Error(ee(150));if(T=L.call(T),T==null)throw Error(ee(151));for(var k=L=null,D=I,K=I=0,H=null,q=T.next();D!==null&&!q.done;K++,q=T.next()){D.index>K?(H=D,D=null):H=D.sibling;var oe=x(S,D,q.value,N);if(oe===null){D===null&&(D=H);break}t&&D&&oe.alternate===null&&e(S,D),I=i(oe,I,K),k===null?L=oe:k.sibling=oe,k=oe,D=H}if(q.done)return r(S,D),wt&&Hi(S,K),L;if(D===null){for(;!q.done;K++,q=T.next())q=m(S,q.value,N),q!==null&&(I=i(q,I,K),k===null?L=q:k.sibling=q,k=q);return wt&&Hi(S,K),L}for(D=n(S,D);!q.done;K++,q=T.next())q=C(D,S,K,q.value,N),q!==null&&(t&&q.alternate!==null&&D.delete(q.key===null?K:q.key),I=i(q,I,K),k===null?L=q:k.sibling=q,k=q);return t&&D.forEach(function(Z){return e(S,Z)}),wt&&Hi(S,K),L}function F(S,I,T,N){if(typeof T=="object"&&T!==null&&T.type===Xs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case rc:e:{for(var L=T.key,k=I;k!==null;){if(k.key===L){if(L=T.type,L===Xs){if(k.tag===7){r(S,k.sibling),I=A(k,T.props.children),I.return=S,S=I;break e}}else if(k.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===VA&&Bw(L)===k.type){r(S,k.sibling),I=A(k,T.props),I.ref=Aa(S,k,T),I.return=S,S=I;break e}r(S,k);break}else e(S,k);k=k.sibling}T.type===Xs?(I=As(T.props.children,S.mode,N,T.key),I.return=S,S=I):(N=xu(T.type,T.key,T.props,null,S.mode,N),N.ref=Aa(S,I,T),N.return=S,S=N)}return o(S);case Ws:e:{for(k=T.key;I!==null;){if(I.key===k)if(I.tag===4&&I.stateNode.containerInfo===T.containerInfo&&I.stateNode.implementation===T.implementation){r(S,I.sibling),I=A(I,T.children||[]),I.return=S,S=I;break e}else{r(S,I);break}else e(S,I);I=I.sibling}I=rf(T,S.mode,N),I.return=S,S=I}return o(S);case VA:return k=T._init,F(S,I,k(T._payload),N)}if(wa(T))return E(S,I,T,N);if($o(T))return v(S,I,T,N);dc(S,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,I!==null&&I.tag===6?(r(S,I.sibling),I=A(I,T),I.return=S,S=I):(r(S,I),I=tf(T,S.mode,N),I.return=S,S=I),o(S)):r(S,I)}return F}var yo=fC(!0),gC=fC(!1),Ku=bi(null),Vu=null,ro=null,o1=null;function a1(){o1=ro=Vu=null}function l1(t){var e=Ku.current;dt(Ku),t._currentValue=e}function v0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function uo(t,e){Vu=t,o1=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jr=!0),t.firstContext=null)}function vn(t){var e=t._currentValue;if(o1!==t)if(t={context:t,memoizedValue:e,next:null},ro===null){if(Vu===null)throw Error(ee(308));ro=t,Vu.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return e}var Zi=null;function c1(t){Zi===null?Zi=[t]:Zi.push(t)}function pC(t,e,r,n){var A=e.interleaved;return A===null?(r.next=r,c1(e)):(r.next=A.next,A.next=r),e.interleaved=r,_A(t,n)}function _A(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var zA=!1;function u1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function CA(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function li(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Le&2){var A=n.pending;return A===null?e.next=e:(e.next=A.next,A.next=e),n.pending=e,_A(t,r)}return A=n.interleaved,A===null?(e.next=e,c1(n)):(e.next=A.next,A.next=e),n.interleaved=e,_A(t,r)}function fu(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jg(t,r)}}function xw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var A=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?A=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?A=i=e:i=i.next=e}else A=i=e;r={baseState:n.baseState,firstBaseUpdate:A,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function zu(t,e,r,n){var A=t.updateQueue;zA=!1;var i=A.firstBaseUpdate,o=A.lastBaseUpdate,c=A.shared.pending;if(c!==null){A.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==o&&(c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=u))}if(i!==null){var m=A.baseState;o=0,p=d=u=null,c=i;do{var x=c.lane,C=c.eventTime;if((n&x)===x){p!==null&&(p=p.next={eventTime:C,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var E=t,v=c;switch(x=e,C=r,v.tag){case 1:if(E=v.payload,typeof E=="function"){m=E.call(C,m,x);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=v.payload,x=typeof E=="function"?E.call(C,m,x):E,x==null)break e;m=vt({},m,x);break e;case 2:zA=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,x=A.effects,x===null?A.effects=[c]:x.push(c))}else C={eventTime:C,lane:x,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(d=p=C,u=m):p=p.next=C,o|=x;if(c=c.next,c===null){if(c=A.shared.pending,c===null)break;x=c,c=x.next,x.next=null,A.lastBaseUpdate=x,A.shared.pending=null}}while(!0);if(p===null&&(u=m),A.baseState=u,A.firstBaseUpdate=d,A.lastBaseUpdate=p,e=A.shared.interleaved,e!==null){A=e;do o|=A.lane,A=A.next;while(A!==e)}else i===null&&(A.shared.lanes=0);us|=o,t.lanes=o,t.memoizedState=m}}function yw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],A=n.callback;if(A!==null){if(n.callback=null,n=r,typeof A!="function")throw Error(ee(191,A));A.call(n)}}}var Nl={},sA=bi(Nl),cl=bi(Nl),ul=bi(Nl);function qi(t){if(t===Nl)throw Error(ee(174));return t}function h1(t,e){switch(ot(ul,e),ot(cl,t),ot(sA,Nl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:n0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=n0(e,t)}dt(sA),ot(sA,e)}function Co(){dt(sA),dt(cl),dt(ul)}function mC(t){qi(ul.current);var e=qi(sA.current),r=n0(e,t.type);e!==r&&(ot(cl,t),ot(sA,r))}function d1(t){cl.current===t&&(dt(sA),dt(cl))}var yt=bi(0);function Gu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yd=[];function f1(){for(var t=0;t<Yd.length;t++)Yd[t]._workInProgressVersionPrimary=null;Yd.length=0}var gu=TA.ReactCurrentDispatcher,Jd=TA.ReactCurrentBatchConfig,cs=0,Ct=null,Kt=null,Zt=null,Wu=!1,ka=!1,hl=0,hS=0;function hr(){throw Error(ee(321))}function g1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Hn(t[r],e[r]))return!1;return!0}function p1(t,e,r,n,A,i){if(cs=i,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gu.current=t===null||t.memoizedState===null?pS:wS,t=r(n,A),ka){i=0;do{if(ka=!1,hl=0,25<=i)throw Error(ee(301));i+=1,Zt=Kt=null,e.updateQueue=null,gu.current=mS,t=r(n,A)}while(ka)}if(gu.current=Xu,e=Kt!==null&&Kt.next!==null,cs=0,Zt=Kt=Ct=null,Wu=!1,e)throw Error(ee(300));return t}function w1(){var t=hl!==0;return hl=0,t}function eA(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ct.memoizedState=Zt=t:Zt=Zt.next=t,Zt}function En(){if(Kt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var e=Zt===null?Ct.memoizedState:Zt.next;if(e!==null)Zt=e,Kt=t;else{if(t===null)throw Error(ee(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Zt===null?Ct.memoizedState=Zt=t:Zt=Zt.next=t}return Zt}function dl(t,e){return typeof e=="function"?e(t):e}function Zd(t){var e=En(),r=e.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=Kt,A=n.baseQueue,i=r.pending;if(i!==null){if(A!==null){var o=A.next;A.next=i.next,i.next=o}n.baseQueue=A=i,r.pending=null}if(A!==null){i=A.next,n=n.baseState;var c=o=null,u=null,d=i;do{var p=d.lane;if((cs&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=m,o=n):u=u.next=m,Ct.lanes|=p,us|=p}d=d.next}while(d!==null&&d!==i);u===null?o=n:u.next=c,Hn(n,e.memoizedState)||(jr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){A=t;do i=A.lane,Ct.lanes|=i,us|=i,A=A.next;while(A!==t)}else A===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function qd(t){var e=En(),r=e.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=r.dispatch,A=r.pending,i=e.memoizedState;if(A!==null){r.pending=null;var o=A=A.next;do i=t(i,o.action),o=o.next;while(o!==A);Hn(i,e.memoizedState)||(jr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function BC(){}function xC(t,e){var r=Ct,n=En(),A=e(),i=!Hn(n.memoizedState,A);if(i&&(n.memoizedState=A,jr=!0),n=n.queue,m1(vC.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Zt!==null&&Zt.memoizedState.tag&1){if(r.flags|=2048,fl(9,CC.bind(null,r,n,A,e),void 0,null),qt===null)throw Error(ee(349));cs&30||yC(r,e,A)}return A}function yC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function CC(t,e,r,n){e.value=r,e.getSnapshot=n,EC(e)&&bC(t)}function vC(t,e,r){return r(function(){EC(e)&&bC(t)})}function EC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Hn(t,r)}catch{return!0}}function bC(t){var e=_A(t,1);e!==null&&Pn(e,t,1,-1)}function Cw(t){var e=eA();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:t},e.queue=t,t=t.dispatch=gS.bind(null,Ct,t),[e.memoizedState,t]}function fl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function _C(){return En().memoizedState}function pu(t,e,r,n){var A=eA();Ct.flags|=t,A.memoizedState=fl(1|e,r,void 0,n===void 0?null:n)}function Rh(t,e,r,n){var A=En();n=n===void 0?null:n;var i=void 0;if(Kt!==null){var o=Kt.memoizedState;if(i=o.destroy,n!==null&&g1(n,o.deps)){A.memoizedState=fl(e,r,i,n);return}}Ct.flags|=t,A.memoizedState=fl(1|e,r,i,n)}function vw(t,e){return pu(8390656,8,t,e)}function m1(t,e){return Rh(2048,8,t,e)}function IC(t,e){return Rh(4,2,t,e)}function SC(t,e){return Rh(4,4,t,e)}function FC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TC(t,e,r){return r=r!=null?r.concat([t]):null,Rh(4,4,FC.bind(null,e,t),r)}function B1(){}function UC(t,e){var r=En();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&g1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function QC(t,e){var r=En();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&g1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function OC(t,e,r){return cs&21?(Hn(r,e)||(r=ky(),Ct.lanes|=r,us|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jr=!0),t.memoizedState=r)}function dS(t,e){var r=Ye;Ye=r!==0&&4>r?r:4,t(!0);var n=Jd.transition;Jd.transition={};try{t(!1),e()}finally{Ye=r,Jd.transition=n}}function NC(){return En().memoizedState}function fS(t,e,r){var n=ui(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},RC(t))MC(e,r);else if(r=pC(t,e,r,n),r!==null){var A=br();Pn(r,t,n,A),DC(r,e,n)}}function gS(t,e,r){var n=ui(t),A={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(RC(t))MC(e,A);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,c=i(o,r);if(A.hasEagerState=!0,A.eagerState=c,Hn(c,o)){var u=e.interleaved;u===null?(A.next=A,c1(e)):(A.next=u.next,u.next=A),e.interleaved=A;return}}catch{}finally{}r=pC(t,e,A,n),r!==null&&(A=br(),Pn(r,t,n,A),DC(r,e,n))}}function RC(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function MC(t,e){ka=Wu=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function DC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jg(t,r)}}var Xu={readContext:vn,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},pS={readContext:vn,useCallback:function(t,e){return eA().memoizedState=[t,e===void 0?null:e],t},useContext:vn,useEffect:vw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,pu(4194308,4,FC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return pu(4194308,4,t,e)},useInsertionEffect:function(t,e){return pu(4,2,t,e)},useMemo:function(t,e){var r=eA();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=eA();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=fS.bind(null,Ct,t),[n.memoizedState,t]},useRef:function(t){var e=eA();return t={current:t},e.memoizedState=t},useState:Cw,useDebugValue:B1,useDeferredValue:function(t){return eA().memoizedState=t},useTransition:function(){var t=Cw(!1),e=t[0];return t=dS.bind(null,t[1]),eA().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ct,A=eA();if(wt){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=e(),qt===null)throw Error(ee(349));cs&30||yC(n,e,r)}A.memoizedState=r;var i={value:r,getSnapshot:e};return A.queue=i,vw(vC.bind(null,n,i,t),[t]),n.flags|=2048,fl(9,CC.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=eA(),e=qt.identifierPrefix;if(wt){var r=xA,n=BA;r=(n&~(1<<32-Ln(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=hl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=hS++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wS={readContext:vn,useCallback:UC,useContext:vn,useEffect:m1,useImperativeHandle:TC,useInsertionEffect:IC,useLayoutEffect:SC,useMemo:QC,useReducer:Zd,useRef:_C,useState:function(){return Zd(dl)},useDebugValue:B1,useDeferredValue:function(t){var e=En();return OC(e,Kt.memoizedState,t)},useTransition:function(){var t=Zd(dl)[0],e=En().memoizedState;return[t,e]},useMutableSource:BC,useSyncExternalStore:xC,useId:NC,unstable_isNewReconciler:!1},mS={readContext:vn,useCallback:UC,useContext:vn,useEffect:m1,useImperativeHandle:TC,useInsertionEffect:IC,useLayoutEffect:SC,useMemo:QC,useReducer:qd,useRef:_C,useState:function(){return qd(dl)},useDebugValue:B1,useDeferredValue:function(t){var e=En();return Kt===null?e.memoizedState=t:OC(e,Kt.memoizedState,t)},useTransition:function(){var t=qd(dl)[0],e=En().memoizedState;return[t,e]},useMutableSource:BC,useSyncExternalStore:xC,useId:NC,unstable_isNewReconciler:!1};function On(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function E0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:vt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Mh={isMounted:function(t){return(t=t._reactInternals)?ps(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=br(),A=ui(t),i=CA(n,A);i.payload=e,r!=null&&(i.callback=r),e=li(t,i,A),e!==null&&(Pn(e,t,A,n),fu(e,t,A))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=br(),A=ui(t),i=CA(n,A);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=li(t,i,A),e!==null&&(Pn(e,t,A,n),fu(e,t,A))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=br(),n=ui(t),A=CA(r,n);A.tag=2,e!=null&&(A.callback=e),e=li(t,A,n),e!==null&&(Pn(e,t,n,r),fu(e,t,n))}};function Ew(t,e,r,n,A,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!sl(r,n)||!sl(A,i):!0}function kC(t,e,r){var n=!1,A=Bi,i=e.contextType;return typeof i=="object"&&i!==null?i=vn(i):(A=zr(e)?as:Br.current,n=e.contextTypes,i=(n=n!=null)?Bo(t,A):Bi),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=A,t.__reactInternalMemoizedMaskedChildContext=i),e}function bw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Mh.enqueueReplaceState(e,e.state,null)}function b0(t,e,r,n){var A=t.stateNode;A.props=r,A.state=t.memoizedState,A.refs={},u1(t);var i=e.contextType;typeof i=="object"&&i!==null?A.context=vn(i):(i=zr(e)?as:Br.current,A.context=Bo(t,i)),A.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(E0(t,e,i,r),A.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(e=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),e!==A.state&&Mh.enqueueReplaceState(A,A.state,null),zu(t,r,A,n),A.state=t.memoizedState),typeof A.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,e){try{var r="",n=e;do r+=G_(n),n=n.return;while(n);var A=r}catch(i){A=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:A,digest:null}}function $d(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function _0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var BS=typeof WeakMap=="function"?WeakMap:Map;function LC(t,e,r){r=CA(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ju||(Ju=!0,M0=n),_0(t,e)},r}function PC(t,e,r){r=CA(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var A=e.value;r.payload=function(){return n(A)},r.callback=function(){_0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){_0(t,e),typeof n!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function _w(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new BS;var A=new Set;n.set(e,A)}else A=n.get(e),A===void 0&&(A=new Set,n.set(e,A));A.has(r)||(A.add(r),t=OS.bind(null,t,e,r),e.then(t,t))}function Iw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sw(t,e,r,n,A){return t.mode&1?(t.flags|=65536,t.lanes=A,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=CA(-1,1),e.tag=2,li(r,e,1))),r.lanes|=1),t)}var xS=TA.ReactCurrentOwner,jr=!1;function vr(t,e,r,n){e.child=t===null?gC(e,null,r,n):yo(e,t.child,r,n)}function Fw(t,e,r,n,A){r=r.render;var i=e.ref;return uo(e,A),n=p1(t,e,r,n,i,A),r=w1(),t!==null&&!jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~A,IA(t,e,A)):(wt&&r&&A1(e),e.flags|=1,vr(t,e,n,A),e.child)}function Tw(t,e,r,n,A){if(t===null){var i=r.type;return typeof i=="function"&&!I1(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,HC(t,e,i,n,A)):(t=xu(r.type,null,n,e,e.mode,A),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&A)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:sl,r(o,n)&&t.ref===e.ref)return IA(t,e,A)}return e.flags|=1,t=hi(i,n),t.ref=e.ref,t.return=e,e.child=t}function HC(t,e,r,n,A){if(t!==null){var i=t.memoizedProps;if(sl(i,n)&&t.ref===e.ref)if(jr=!1,e.pendingProps=n=i,(t.lanes&A)!==0)t.flags&131072&&(jr=!0);else return e.lanes=t.lanes,IA(t,e,A)}return I0(t,e,r,n,A)}function jC(t,e,r){var n=e.pendingProps,A=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Ao,$r),$r|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(Ao,$r),$r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ot(Ao,$r),$r|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ot(Ao,$r),$r|=n;return vr(t,e,A,r),e.child}function KC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function I0(t,e,r,n,A){var i=zr(r)?as:Br.current;return i=Bo(e,i),uo(e,A),r=p1(t,e,r,n,i,A),n=w1(),t!==null&&!jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~A,IA(t,e,A)):(wt&&n&&A1(e),e.flags|=1,vr(t,e,r,A),e.child)}function Uw(t,e,r,n,A){if(zr(r)){var i=!0;Pu(e)}else i=!1;if(uo(e,A),e.stateNode===null)wu(t,e),kC(e,r,n),b0(e,r,n,A),n=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var u=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=vn(d):(d=zr(r)?as:Br.current,d=Bo(e,d));var p=r.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||u!==d)&&bw(e,o,n,d),zA=!1;var x=e.memoizedState;o.state=x,zu(e,n,o,A),u=e.memoizedState,c!==n||x!==u||Vr.current||zA?(typeof p=="function"&&(E0(e,r,p,n),u=e.memoizedState),(c=zA||Ew(e,r,c,n,x,u,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=d,n=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,wC(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:On(e.type,c),o.props=d,m=e.pendingProps,x=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=vn(u):(u=zr(r)?as:Br.current,u=Bo(e,u));var C=r.getDerivedStateFromProps;(p=typeof C=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==m||x!==u)&&bw(e,o,n,u),zA=!1,x=e.memoizedState,o.state=x,zu(e,n,o,A);var E=e.memoizedState;c!==m||x!==E||Vr.current||zA?(typeof C=="function"&&(E0(e,r,C,n),E=e.memoizedState),(d=zA||Ew(e,r,d,n,x,E,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,E,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=E),o.props=n,o.state=E,o.context=u,n=d):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),n=!1)}return S0(t,e,r,n,i,A)}function S0(t,e,r,n,A,i){KC(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return A&&pw(e,r,!1),IA(t,e,i);n=e.stateNode,xS.current=e;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=yo(e,t.child,null,i),e.child=yo(e,null,c,i)):vr(t,e,c,i),e.memoizedState=n.state,A&&pw(e,r,!0),e.child}function VC(t){var e=t.stateNode;e.pendingContext?gw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gw(t,e.context,!1),h1(t,e.containerInfo)}function Qw(t,e,r,n,A){return xo(),s1(A),e.flags|=256,vr(t,e,r,n),e.child}var F0={dehydrated:null,treeContext:null,retryLane:0};function T0(t){return{baseLanes:t,cachePool:null,transitions:null}}function zC(t,e,r){var n=e.pendingProps,A=yt.current,i=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(A&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(A|=1),ot(yt,A&1),t===null)return C0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Lh(o,n,0,null),t=As(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=T0(r),e.memoizedState=F0,t):x1(e,o));if(A=t.memoizedState,A!==null&&(c=A.dehydrated,c!==null))return yS(t,e,o,n,c,A,r);if(i){i=n.fallback,o=e.mode,A=t.child,c=A.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==A?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=hi(A,u),n.subtreeFlags=A.subtreeFlags&14680064),c!==null?i=hi(c,i):(i=As(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?T0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=F0,n}return i=t.child,t=i.sibling,n=hi(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function x1(t,e){return e=Lh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fc(t,e,r,n){return n!==null&&s1(n),yo(e,t.child,null,r),t=x1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yS(t,e,r,n,A,i,o){if(r)return e.flags&256?(e.flags&=-257,n=$d(Error(ee(422))),fc(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,A=e.mode,n=Lh({mode:"visible",children:n.children},A,0,null),i=As(i,A,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&yo(e,t.child,null,o),e.child.memoizedState=T0(o),e.memoizedState=F0,i);if(!(e.mode&1))return fc(t,e,o,null);if(A.data==="$!"){if(n=A.nextSibling&&A.nextSibling.dataset,n)var c=n.dgst;return n=c,i=Error(ee(419)),n=$d(i,n,void 0),fc(t,e,o,n)}if(c=(o&t.childLanes)!==0,jr||c){if(n=qt,n!==null){switch(o&-o){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(n.suspendedLanes|o)?0:A,A!==0&&A!==i.retryLane&&(i.retryLane=A,_A(t,A),Pn(n,t,A,-1))}return _1(),n=$d(Error(ee(421))),fc(t,e,o,n)}return A.data==="$?"?(e.flags|=128,e.child=t.child,e=NS.bind(null,t),A._reactRetry=e,null):(t=i.treeContext,nn=ai(A.nextSibling),An=e,wt=!0,kn=null,t!==null&&(gn[pn++]=BA,gn[pn++]=xA,gn[pn++]=ls,BA=t.id,xA=t.overflow,ls=e),e=x1(e,n.children),e.flags|=4096,e)}function Ow(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),v0(t.return,e,r)}function ef(t,e,r,n,A){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:A}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=A)}function GC(t,e,r){var n=e.pendingProps,A=n.revealOrder,i=n.tail;if(vr(t,e,n.children,r),n=yt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ow(t,r,e);else if(t.tag===19)Ow(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ot(yt,n),!(e.mode&1))e.memoizedState=null;else switch(A){case"forwards":for(r=e.child,A=null;r!==null;)t=r.alternate,t!==null&&Gu(t)===null&&(A=r),r=r.sibling;r=A,r===null?(A=e.child,e.child=null):(A=r.sibling,r.sibling=null),ef(e,!1,A,r,i);break;case"backwards":for(r=null,A=e.child,e.child=null;A!==null;){if(t=A.alternate,t!==null&&Gu(t)===null){e.child=A;break}t=A.sibling,A.sibling=r,r=A,A=t}ef(e,!0,r,null,i);break;case"together":ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function IA(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,r=hi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=hi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function CS(t,e,r){switch(e.tag){case 3:VC(e),xo();break;case 5:mC(e);break;case 1:zr(e.type)&&Pu(e);break;case 4:h1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,A=e.memoizedProps.value;ot(Ku,n._currentValue),n._currentValue=A;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ot(yt,yt.current&1),e.flags|=128,null):r&e.child.childLanes?zC(t,e,r):(ot(yt,yt.current&1),t=IA(t,e,r),t!==null?t.sibling:null);ot(yt,yt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return GC(t,e,r);e.flags|=128}if(A=e.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ot(yt,yt.current),n)break;return null;case 22:case 23:return e.lanes=0,jC(t,e,r)}return IA(t,e,r)}var WC,U0,XC,YC;WC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};U0=function(){};XC=function(t,e,r,n){var A=t.memoizedProps;if(A!==n){t=e.stateNode,qi(sA.current);var i=null;switch(r){case"input":A=$f(t,A),n=$f(t,n),i=[];break;case"select":A=vt({},A,{value:void 0}),n=vt({},n,{value:void 0}),i=[];break;case"textarea":A=r0(t,A),n=r0(t,n),i=[];break;default:typeof A.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ku)}A0(r,n);var o;r=null;for(d in A)if(!n.hasOwnProperty(d)&&A.hasOwnProperty(d)&&A[d]!=null)if(d==="style"){var c=A[d];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&($a.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var u=n[d];if(c=A!=null?A[d]:void 0,n.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(d,r)),r=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&($a.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&lt("scroll",t),i||c===u||(i=[])):(i=i||[]).push(d,u))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};YC=function(t,e,r,n){r!==n&&(e.flags|=4)};function ia(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var A=t.child;A!==null;)r|=A.lanes|A.childLanes,n|=A.subtreeFlags&14680064,n|=A.flags&14680064,A.return=t,A=A.sibling;else for(A=t.child;A!==null;)r|=A.lanes|A.childLanes,n|=A.subtreeFlags,n|=A.flags,A.return=t,A=A.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function vS(t,e,r){var n=e.pendingProps;switch(i1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(e),null;case 1:return zr(e.type)&&Lu(),dr(e),null;case 3:return n=e.stateNode,Co(),dt(Vr),dt(Br),f1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(hc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kn!==null&&(L0(kn),kn=null))),U0(t,e),dr(e),null;case 5:d1(e);var A=qi(ul.current);if(r=e.type,t!==null&&e.stateNode!=null)XC(t,e,r,n,A),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ee(166));return dr(e),null}if(t=qi(sA.current),hc(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[AA]=e,n[ll]=i,t=(e.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(A=0;A<Ba.length;A++)lt(Ba[A],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":jp(n,i),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},lt("invalid",n);break;case"textarea":Vp(n,i),lt("invalid",n)}A0(r,i),A=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?n.textContent!==c&&(i.suppressHydrationWarning!==!0&&uc(n.textContent,c,t),A=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&uc(n.textContent,c,t),A=["children",""+c]):$a.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&lt("scroll",n)}switch(r){case"input":nc(n),Kp(n,i,!0);break;case"textarea":nc(n),zp(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ku)}n=A,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=A.nodeType===9?A:A.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vy(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[AA]=e,t[ll]=n,WC(t,e,!1,!1),e.stateNode=t;e:{switch(o=i0(r,n),r){case"dialog":lt("cancel",t),lt("close",t),A=n;break;case"iframe":case"object":case"embed":lt("load",t),A=n;break;case"video":case"audio":for(A=0;A<Ba.length;A++)lt(Ba[A],t);A=n;break;case"source":lt("error",t),A=n;break;case"img":case"image":case"link":lt("error",t),lt("load",t),A=n;break;case"details":lt("toggle",t),A=n;break;case"input":jp(t,n),A=$f(t,n),lt("invalid",t);break;case"option":A=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},A=vt({},n,{value:void 0}),lt("invalid",t);break;case"textarea":Vp(t,n),A=r0(t,n),lt("invalid",t);break;default:A=n}A0(r,A),c=A;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?_y(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ey(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&el(t,u):typeof u=="number"&&el(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($a.hasOwnProperty(i)?u!=null&&i==="onScroll"&&lt("scroll",t):u!=null&&Vg(t,i,u,o))}switch(r){case"input":nc(t),Kp(t,n,!1);break;case"textarea":nc(t),zp(t);break;case"option":n.value!=null&&t.setAttribute("value",""+mi(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?oo(t,!!n.multiple,i,!1):n.defaultValue!=null&&oo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof A.onClick=="function"&&(t.onclick=ku)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dr(e),null;case 6:if(t&&e.stateNode!=null)YC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ee(166));if(r=qi(ul.current),qi(sA.current),hc(e)){if(n=e.stateNode,r=e.memoizedProps,n[AA]=e,(i=n.nodeValue!==r)&&(t=An,t!==null))switch(t.tag){case 3:uc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uc(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[AA]=e,e.stateNode=n}return dr(e),null;case 13:if(dt(yt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&nn!==null&&e.mode&1&&!(e.flags&128))dC(),xo(),e.flags|=98560,i=!1;else if(i=hc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(ee(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ee(317));i[AA]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dr(e),i=!1}else kn!==null&&(L0(kn),kn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?Gt===0&&(Gt=3):_1())),e.updateQueue!==null&&(e.flags|=4),dr(e),null);case 4:return Co(),U0(t,e),t===null&&ol(e.stateNode.containerInfo),dr(e),null;case 10:return l1(e.type._context),dr(e),null;case 17:return zr(e.type)&&Lu(),dr(e),null;case 19:if(dt(yt),i=e.memoizedState,i===null)return dr(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)ia(i,!1);else{if(Gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gu(t),o!==null){for(e.flags|=128,ia(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ot(yt,yt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Qt()>Eo&&(e.flags|=128,n=!0,ia(i,!1),e.lanes=4194304)}else{if(!n)if(t=Gu(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ia(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!wt)return dr(e),null}else 2*Qt()-i.renderingStartTime>Eo&&r!==1073741824&&(e.flags|=128,n=!0,ia(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Qt(),e.sibling=null,r=yt.current,ot(yt,n?r&1|2:r&1),e):(dr(e),null);case 22:case 23:return b1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$r&1073741824&&(dr(e),e.subtreeFlags&6&&(e.flags|=8192)):dr(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function ES(t,e){switch(i1(e),e.tag){case 1:return zr(e.type)&&Lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Co(),dt(Vr),dt(Br),f1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return d1(e),null;case 13:if(dt(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(yt),null;case 4:return Co(),null;case 10:return l1(e.type._context),null;case 22:case 23:return b1(),null;case 24:return null;default:return null}}var gc=!1,wr=!1,bS=typeof WeakSet=="function"?WeakSet:Set,fe=null;function no(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){St(t,e,n)}else r.current=null}function Q0(t,e,r){try{r()}catch(n){St(t,e,n)}}var Nw=!1;function _S(t,e){if(g0=Ru,t=eC(),n1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var A=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,c=-1,u=-1,d=0,p=0,m=t,x=null;t:for(;;){for(var C;m!==r||A!==0&&m.nodeType!==3||(c=o+A),m!==i||n!==0&&m.nodeType!==3||(u=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(C=m.firstChild)!==null;)x=m,m=C;for(;;){if(m===t)break t;if(x===r&&++d===A&&(c=o),x===i&&++p===n&&(u=o),(C=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=C}r=c===-1||u===-1?null:{start:c,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(p0={focusedElem:t,selectionRange:r},Ru=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var v=E.memoizedProps,F=E.memoizedState,S=e.stateNode,I=S.getSnapshotBeforeUpdate(e.elementType===e.type?v:On(e.type,v),F);S.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(N){St(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return E=Nw,Nw=!1,E}function La(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var A=n=n.next;do{if((A.tag&t)===t){var i=A.destroy;A.destroy=void 0,i!==void 0&&Q0(e,r,i)}A=A.next}while(A!==n)}}function Dh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function O0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function JC(t){var e=t.alternate;e!==null&&(t.alternate=null,JC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[AA],delete e[ll],delete e[B0],delete e[aS],delete e[lS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZC(t){return t.tag===5||t.tag===3||t.tag===4}function Rw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function N0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ku));else if(n!==4&&(t=t.child,t!==null))for(N0(t,e,r),t=t.sibling;t!==null;)N0(t,e,r),t=t.sibling}function R0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(R0(t,e,r),t=t.sibling;t!==null;)R0(t,e,r),t=t.sibling}var Ar=null,Rn=!1;function kA(t,e,r){for(r=r.child;r!==null;)qC(t,e,r),r=r.sibling}function qC(t,e,r){if(iA&&typeof iA.onCommitFiberUnmount=="function")try{iA.onCommitFiberUnmount(Fh,r)}catch{}switch(r.tag){case 5:wr||no(r,e);case 6:var n=Ar,A=Rn;Ar=null,kA(t,e,r),Ar=n,Rn=A,Ar!==null&&(Rn?(t=Ar,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ar.removeChild(r.stateNode));break;case 18:Ar!==null&&(Rn?(t=Ar,r=r.stateNode,t.nodeType===8?Wd(t.parentNode,r):t.nodeType===1&&Wd(t,r),Al(t)):Wd(Ar,r.stateNode));break;case 4:n=Ar,A=Rn,Ar=r.stateNode.containerInfo,Rn=!0,kA(t,e,r),Ar=n,Rn=A;break;case 0:case 11:case 14:case 15:if(!wr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){A=n=n.next;do{var i=A,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Q0(r,e,o),A=A.next}while(A!==n)}kA(t,e,r);break;case 1:if(!wr&&(no(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){St(r,e,c)}kA(t,e,r);break;case 21:kA(t,e,r);break;case 22:r.mode&1?(wr=(n=wr)||r.memoizedState!==null,kA(t,e,r),wr=n):kA(t,e,r);break;default:kA(t,e,r)}}function Mw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new bS),e.forEach(function(n){var A=RS.bind(null,t,n);r.has(n)||(r.add(n),n.then(A,A))})}}function Tn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var A=r[n];try{var i=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:Ar=c.stateNode,Rn=!1;break e;case 3:Ar=c.stateNode.containerInfo,Rn=!0;break e;case 4:Ar=c.stateNode.containerInfo,Rn=!0;break e}c=c.return}if(Ar===null)throw Error(ee(160));qC(i,o,A),Ar=null,Rn=!1;var u=A.alternate;u!==null&&(u.return=null),A.return=null}catch(d){St(A,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$C(e,t),e=e.sibling}function $C(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),Jn(t),n&4){try{La(3,t,t.return),Dh(3,t)}catch(v){St(t,t.return,v)}try{La(5,t,t.return)}catch(v){St(t,t.return,v)}}break;case 1:Tn(e,t),Jn(t),n&512&&r!==null&&no(r,r.return);break;case 5:if(Tn(e,t),Jn(t),n&512&&r!==null&&no(r,r.return),t.flags&32){var A=t.stateNode;try{el(A,"")}catch(v){St(t,t.return,v)}}if(n&4&&(A=t.stateNode,A!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&yy(A,i),i0(c,o);var d=i0(c,i);for(o=0;o<u.length;o+=2){var p=u[o],m=u[o+1];p==="style"?_y(A,m):p==="dangerouslySetInnerHTML"?Ey(A,m):p==="children"?el(A,m):Vg(A,p,m,d)}switch(c){case"input":e0(A,i);break;case"textarea":Cy(A,i);break;case"select":var x=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!i.multiple;var C=i.value;C!=null?oo(A,!!i.multiple,C,!1):x!==!!i.multiple&&(i.defaultValue!=null?oo(A,!!i.multiple,i.defaultValue,!0):oo(A,!!i.multiple,i.multiple?[]:"",!1))}A[ll]=i}catch(v){St(t,t.return,v)}}break;case 6:if(Tn(e,t),Jn(t),n&4){if(t.stateNode===null)throw Error(ee(162));A=t.stateNode,i=t.memoizedProps;try{A.nodeValue=i}catch(v){St(t,t.return,v)}}break;case 3:if(Tn(e,t),Jn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Al(e.containerInfo)}catch(v){St(t,t.return,v)}break;case 4:Tn(e,t),Jn(t);break;case 13:Tn(e,t),Jn(t),A=t.child,A.flags&8192&&(i=A.memoizedState!==null,A.stateNode.isHidden=i,!i||A.alternate!==null&&A.alternate.memoizedState!==null||(v1=Qt())),n&4&&Mw(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(wr=(d=wr)||p,Tn(e,t),wr=d):Tn(e,t),Jn(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(fe=t,p=t.child;p!==null;){for(m=fe=p;fe!==null;){switch(x=fe,C=x.child,x.tag){case 0:case 11:case 14:case 15:La(4,x,x.return);break;case 1:no(x,x.return);var E=x.stateNode;if(typeof E.componentWillUnmount=="function"){n=x,r=x.return;try{e=n,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(v){St(n,r,v)}}break;case 5:no(x,x.return);break;case 22:if(x.memoizedState!==null){kw(m);continue}}C!==null?(C.return=x,fe=C):kw(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{A=m.stateNode,d?(i=A.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=by("display",o))}catch(v){St(t,t.return,v)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(v){St(t,t.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Tn(e,t),Jn(t),n&4&&Mw(t);break;case 21:break;default:Tn(e,t),Jn(t)}}function Jn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ZC(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var A=n.stateNode;n.flags&32&&(el(A,""),n.flags&=-33);var i=Rw(t);R0(t,i,A);break;case 3:case 4:var o=n.stateNode.containerInfo,c=Rw(t);N0(t,c,o);break;default:throw Error(ee(161))}}catch(u){St(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IS(t,e,r){fe=t,e2(t)}function e2(t,e,r){for(var n=(t.mode&1)!==0;fe!==null;){var A=fe,i=A.child;if(A.tag===22&&n){var o=A.memoizedState!==null||gc;if(!o){var c=A.alternate,u=c!==null&&c.memoizedState!==null||wr;c=gc;var d=wr;if(gc=o,(wr=u)&&!d)for(fe=A;fe!==null;)o=fe,u=o.child,o.tag===22&&o.memoizedState!==null?Lw(A):u!==null?(u.return=o,fe=u):Lw(A);for(;i!==null;)fe=i,e2(i),i=i.sibling;fe=A,gc=c,wr=d}Dw(t)}else A.subtreeFlags&8772&&i!==null?(i.return=A,fe=i):Dw(t)}}function Dw(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wr||Dh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!wr)if(r===null)n.componentDidMount();else{var A=e.elementType===e.type?r.memoizedProps:On(e.type,r.memoizedProps);n.componentDidUpdate(A,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&yw(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}yw(e,o,r)}break;case 5:var c=e.stateNode;if(r===null&&e.flags&4){r=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Al(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}wr||e.flags&512&&O0(e)}catch(x){St(e,e.return,x)}}if(e===t){fe=null;break}if(r=e.sibling,r!==null){r.return=e.return,fe=r;break}fe=e.return}}function kw(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,fe=r;break}fe=e.return}}function Lw(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Dh(4,e)}catch(u){St(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var A=e.return;try{n.componentDidMount()}catch(u){St(e,A,u)}}var i=e.return;try{O0(e)}catch(u){St(e,i,u)}break;case 5:var o=e.return;try{O0(e)}catch(u){St(e,o,u)}}}catch(u){St(e,e.return,u)}if(e===t){fe=null;break}var c=e.sibling;if(c!==null){c.return=e.return,fe=c;break}fe=e.return}}var SS=Math.ceil,Yu=TA.ReactCurrentDispatcher,y1=TA.ReactCurrentOwner,Cn=TA.ReactCurrentBatchConfig,Le=0,qt=null,Dt=null,ar=0,$r=0,Ao=bi(0),Gt=0,gl=null,us=0,kh=0,C1=0,Pa=null,Pr=null,v1=0,Eo=1/0,gA=null,Ju=!1,M0=null,ci=null,pc=!1,ZA=null,Zu=0,Ha=0,D0=null,mu=-1,Bu=0;function br(){return Le&6?Qt():mu!==-1?mu:mu=Qt()}function ui(t){return t.mode&1?Le&2&&ar!==0?ar&-ar:uS.transition!==null?(Bu===0&&(Bu=ky()),Bu):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:zy(t.type)),t):1}function Pn(t,e,r,n){if(50<Ha)throw Ha=0,D0=null,Error(ee(185));Ul(t,r,n),(!(Le&2)||t!==qt)&&(t===qt&&(!(Le&2)&&(kh|=r),Gt===4&&XA(t,ar)),Gr(t,n),r===1&&Le===0&&!(e.mode&1)&&(Eo=Qt()+500,Nh&&_i()))}function Gr(t,e){var r=t.callbackNode;uI(t,e);var n=Nu(t,t===qt?ar:0);if(n===0)r!==null&&Xp(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Xp(r),e===1)t.tag===0?cS(Pw.bind(null,t)):cC(Pw.bind(null,t)),sS(function(){!(Le&6)&&_i()}),r=null;else{switch(Ly(n)){case 1:r=Yg;break;case 4:r=My;break;case 16:r=Ou;break;case 536870912:r=Dy;break;default:r=Ou}r=a2(r,t2.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function t2(t,e){if(mu=-1,Bu=0,Le&6)throw Error(ee(327));var r=t.callbackNode;if(ho()&&t.callbackNode!==r)return null;var n=Nu(t,t===qt?ar:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=qu(t,n);else{e=n;var A=Le;Le|=2;var i=n2();(qt!==t||ar!==e)&&(gA=null,Eo=Qt()+500,ns(t,e));do try{US();break}catch(c){r2(t,c)}while(!0);a1(),Yu.current=i,Le=A,Dt!==null?e=0:(qt=null,ar=0,e=Gt)}if(e!==0){if(e===2&&(A=c0(t),A!==0&&(n=A,e=k0(t,A))),e===1)throw r=gl,ns(t,0),XA(t,n),Gr(t,Qt()),r;if(e===6)XA(t,n);else{if(A=t.current.alternate,!(n&30)&&!FS(A)&&(e=qu(t,n),e===2&&(i=c0(t),i!==0&&(n=i,e=k0(t,i))),e===1))throw r=gl,ns(t,0),XA(t,n),Gr(t,Qt()),r;switch(t.finishedWork=A,t.finishedLanes=n,e){case 0:case 1:throw Error(ee(345));case 2:ji(t,Pr,gA);break;case 3:if(XA(t,n),(n&130023424)===n&&(e=v1+500-Qt(),10<e)){if(Nu(t,0)!==0)break;if(A=t.suspendedLanes,(A&n)!==n){br(),t.pingedLanes|=t.suspendedLanes&A;break}t.timeoutHandle=m0(ji.bind(null,t,Pr,gA),e);break}ji(t,Pr,gA);break;case 4:if(XA(t,n),(n&4194240)===n)break;for(e=t.eventTimes,A=-1;0<n;){var o=31-Ln(n);i=1<<o,o=e[o],o>A&&(A=o),n&=~i}if(n=A,n=Qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SS(n/1960))-n,10<n){t.timeoutHandle=m0(ji.bind(null,t,Pr,gA),n);break}ji(t,Pr,gA);break;case 5:ji(t,Pr,gA);break;default:throw Error(ee(329))}}}return Gr(t,Qt()),t.callbackNode===r?t2.bind(null,t):null}function k0(t,e){var r=Pa;return t.current.memoizedState.isDehydrated&&(ns(t,e).flags|=256),t=qu(t,e),t!==2&&(e=Pr,Pr=r,e!==null&&L0(e)),t}function L0(t){Pr===null?Pr=t:Pr.push.apply(Pr,t)}function FS(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var A=r[n],i=A.getSnapshot;A=A.value;try{if(!Hn(i(),A))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function XA(t,e){for(e&=~C1,e&=~kh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ln(e),n=1<<r;t[r]=-1,e&=~n}}function Pw(t){if(Le&6)throw Error(ee(327));ho();var e=Nu(t,0);if(!(e&1))return Gr(t,Qt()),null;var r=qu(t,e);if(t.tag!==0&&r===2){var n=c0(t);n!==0&&(e=n,r=k0(t,n))}if(r===1)throw r=gl,ns(t,0),XA(t,e),Gr(t,Qt()),r;if(r===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ji(t,Pr,gA),Gr(t,Qt()),null}function E1(t,e){var r=Le;Le|=1;try{return t(e)}finally{Le=r,Le===0&&(Eo=Qt()+500,Nh&&_i())}}function hs(t){ZA!==null&&ZA.tag===0&&!(Le&6)&&ho();var e=Le;Le|=1;var r=Cn.transition,n=Ye;try{if(Cn.transition=null,Ye=1,t)return t()}finally{Ye=n,Cn.transition=r,Le=e,!(Le&6)&&_i()}}function b1(){$r=Ao.current,dt(Ao)}function ns(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,iS(r)),Dt!==null)for(r=Dt.return;r!==null;){var n=r;switch(i1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lu();break;case 3:Co(),dt(Vr),dt(Br),f1();break;case 5:d1(n);break;case 4:Co();break;case 13:dt(yt);break;case 19:dt(yt);break;case 10:l1(n.type._context);break;case 22:case 23:b1()}r=r.return}if(qt=t,Dt=t=hi(t.current,null),ar=$r=e,Gt=0,gl=null,C1=kh=us=0,Pr=Pa=null,Zi!==null){for(e=0;e<Zi.length;e++)if(r=Zi[e],n=r.interleaved,n!==null){r.interleaved=null;var A=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=A,n.next=o}r.pending=n}Zi=null}return t}function r2(t,e){do{var r=Dt;try{if(a1(),gu.current=Xu,Wu){for(var n=Ct.memoizedState;n!==null;){var A=n.queue;A!==null&&(A.pending=null),n=n.next}Wu=!1}if(cs=0,Zt=Kt=Ct=null,ka=!1,hl=0,y1.current=null,r===null||r.return===null){Gt=1,gl=e,Dt=null;break}e:{var i=t,o=r.return,c=r,u=e;if(e=ar,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=c,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var x=p.alternate;x?(p.updateQueue=x.updateQueue,p.memoizedState=x.memoizedState,p.lanes=x.lanes):(p.updateQueue=null,p.memoizedState=null)}var C=Iw(o);if(C!==null){C.flags&=-257,Sw(C,o,c,i,e),C.mode&1&&_w(i,d,e),e=C,u=d;var E=e.updateQueue;if(E===null){var v=new Set;v.add(u),e.updateQueue=v}else E.add(u);break e}else{if(!(e&1)){_w(i,d,e),_1();break e}u=Error(ee(426))}}else if(wt&&c.mode&1){var F=Iw(o);if(F!==null){!(F.flags&65536)&&(F.flags|=256),Sw(F,o,c,i,e),s1(vo(u,c));break e}}i=u=vo(u,c),Gt!==4&&(Gt=2),Pa===null?Pa=[i]:Pa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var S=LC(i,u,e);xw(i,S);break e;case 1:c=u;var I=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof I.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ci===null||!ci.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=PC(i,c,e);xw(i,N);break e}}i=i.return}while(i!==null)}i2(r)}catch(L){e=L,Dt===r&&r!==null&&(Dt=r=r.return);continue}break}while(!0)}function n2(){var t=Yu.current;return Yu.current=Xu,t===null?Xu:t}function _1(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),qt===null||!(us&268435455)&&!(kh&268435455)||XA(qt,ar)}function qu(t,e){var r=Le;Le|=2;var n=n2();(qt!==t||ar!==e)&&(gA=null,ns(t,e));do try{TS();break}catch(A){r2(t,A)}while(!0);if(a1(),Le=r,Yu.current=n,Dt!==null)throw Error(ee(261));return qt=null,ar=0,Gt}function TS(){for(;Dt!==null;)A2(Dt)}function US(){for(;Dt!==null&&!rI();)A2(Dt)}function A2(t){var e=o2(t.alternate,t,$r);t.memoizedProps=t.pendingProps,e===null?i2(t):Dt=e,y1.current=null}function i2(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ES(r,e),r!==null){r.flags&=32767,Dt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gt=6,Dt=null;return}}else if(r=vS(r,e,$r),r!==null){Dt=r;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);Gt===0&&(Gt=5)}function ji(t,e,r){var n=Ye,A=Cn.transition;try{Cn.transition=null,Ye=1,QS(t,e,r,n)}finally{Cn.transition=A,Ye=n}return null}function QS(t,e,r,n){do ho();while(ZA!==null);if(Le&6)throw Error(ee(327));r=t.finishedWork;var A=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(hI(t,i),t===qt&&(Dt=qt=null,ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||pc||(pc=!0,a2(Ou,function(){return ho(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Cn.transition,Cn.transition=null;var o=Ye;Ye=1;var c=Le;Le|=4,y1.current=null,_S(t,r),$C(r,t),qI(p0),Ru=!!g0,p0=g0=null,t.current=r,IS(r),nI(),Le=c,Ye=o,Cn.transition=i}else t.current=r;if(pc&&(pc=!1,ZA=t,Zu=A),i=t.pendingLanes,i===0&&(ci=null),sI(r.stateNode),Gr(t,Qt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)A=e[r],n(A.value,{componentStack:A.stack,digest:A.digest});if(Ju)throw Ju=!1,t=M0,M0=null,t;return Zu&1&&t.tag!==0&&ho(),i=t.pendingLanes,i&1?t===D0?Ha++:(Ha=0,D0=t):Ha=0,_i(),null}function ho(){if(ZA!==null){var t=Ly(Zu),e=Cn.transition,r=Ye;try{if(Cn.transition=null,Ye=16>t?16:t,ZA===null)var n=!1;else{if(t=ZA,ZA=null,Zu=0,Le&6)throw Error(ee(331));var A=Le;for(Le|=4,fe=t.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(fe=d;fe!==null;){var p=fe;switch(p.tag){case 0:case 11:case 15:La(8,p,i)}var m=p.child;if(m!==null)m.return=p,fe=m;else for(;fe!==null;){p=fe;var x=p.sibling,C=p.return;if(JC(p),p===d){fe=null;break}if(x!==null){x.return=C,fe=x;break}fe=C}}}var E=i.alternate;if(E!==null){var v=E.child;if(v!==null){E.child=null;do{var F=v.sibling;v.sibling=null,v=F}while(v!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:La(9,i,i.return)}var S=i.sibling;if(S!==null){S.return=i.return,fe=S;break e}fe=i.return}}var I=t.current;for(fe=I;fe!==null;){o=fe;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,fe=T;else e:for(o=I;fe!==null;){if(c=fe,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Dh(9,c)}}catch(L){St(c,c.return,L)}if(c===o){fe=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,fe=N;break e}fe=c.return}}if(Le=A,_i(),iA&&typeof iA.onPostCommitFiberRoot=="function")try{iA.onPostCommitFiberRoot(Fh,t)}catch{}n=!0}return n}finally{Ye=r,Cn.transition=e}}return!1}function Hw(t,e,r){e=vo(r,e),e=LC(t,e,1),t=li(t,e,1),e=br(),t!==null&&(Ul(t,1,e),Gr(t,e))}function St(t,e,r){if(t.tag===3)Hw(t,t,r);else for(;e!==null;){if(e.tag===3){Hw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ci===null||!ci.has(n))){t=vo(r,t),t=PC(e,t,1),e=li(e,t,1),t=br(),e!==null&&(Ul(e,1,t),Gr(e,t));break}}e=e.return}}function OS(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=br(),t.pingedLanes|=t.suspendedLanes&r,qt===t&&(ar&r)===r&&(Gt===4||Gt===3&&(ar&130023424)===ar&&500>Qt()-v1?ns(t,0):C1|=r),Gr(t,e)}function s2(t,e){e===0&&(t.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var r=br();t=_A(t,e),t!==null&&(Ul(t,e,r),Gr(t,r))}function NS(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),s2(t,r)}function RS(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,A=t.memoizedState;A!==null&&(r=A.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(e),s2(t,r)}var o2;o2=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vr.current)jr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return jr=!1,CS(t,e,r);jr=!!(t.flags&131072)}else jr=!1,wt&&e.flags&1048576&&uC(e,ju,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;wu(t,e),t=e.pendingProps;var A=Bo(e,Br.current);uo(e,r),A=p1(null,e,n,t,A,r);var i=w1();return e.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zr(n)?(i=!0,Pu(e)):i=!1,e.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,u1(e),A.updater=Mh,e.stateNode=A,A._reactInternals=e,b0(e,n,t,r),e=S0(null,e,n,!0,i,r)):(e.tag=0,wt&&i&&A1(e),vr(null,e,A,r),e=e.child),e;case 16:n=e.elementType;e:{switch(wu(t,e),t=e.pendingProps,A=n._init,n=A(n._payload),e.type=n,A=e.tag=DS(n),t=On(n,t),A){case 0:e=I0(null,e,n,t,r);break e;case 1:e=Uw(null,e,n,t,r);break e;case 11:e=Fw(null,e,n,t,r);break e;case 14:e=Tw(null,e,n,On(n.type,t),r);break e}throw Error(ee(306,n,""))}return e;case 0:return n=e.type,A=e.pendingProps,A=e.elementType===n?A:On(n,A),I0(t,e,n,A,r);case 1:return n=e.type,A=e.pendingProps,A=e.elementType===n?A:On(n,A),Uw(t,e,n,A,r);case 3:e:{if(VC(e),t===null)throw Error(ee(387));n=e.pendingProps,i=e.memoizedState,A=i.element,wC(t,e),zu(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){A=vo(Error(ee(423)),e),e=Qw(t,e,n,r,A);break e}else if(n!==A){A=vo(Error(ee(424)),e),e=Qw(t,e,n,r,A);break e}else for(nn=ai(e.stateNode.containerInfo.firstChild),An=e,wt=!0,kn=null,r=gC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xo(),n===A){e=IA(t,e,r);break e}vr(t,e,n,r)}e=e.child}return e;case 5:return mC(e),t===null&&C0(e),n=e.type,A=e.pendingProps,i=t!==null?t.memoizedProps:null,o=A.children,w0(n,A)?o=null:i!==null&&w0(n,i)&&(e.flags|=32),KC(t,e),vr(t,e,o,r),e.child;case 6:return t===null&&C0(e),null;case 13:return zC(t,e,r);case 4:return h1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yo(e,null,n,r):vr(t,e,n,r),e.child;case 11:return n=e.type,A=e.pendingProps,A=e.elementType===n?A:On(n,A),Fw(t,e,n,A,r);case 7:return vr(t,e,e.pendingProps,r),e.child;case 8:return vr(t,e,e.pendingProps.children,r),e.child;case 12:return vr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,A=e.pendingProps,i=e.memoizedProps,o=A.value,ot(Ku,n._currentValue),n._currentValue=o,i!==null)if(Hn(i.value,o)){if(i.children===A.children&&!Vr.current){e=IA(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var u=c.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=CA(-1,r&-r),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),v0(i.return,r,e),c.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ee(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),v0(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}vr(t,e,A.children,r),e=e.child}return e;case 9:return A=e.type,n=e.pendingProps.children,uo(e,r),A=vn(A),n=n(A),e.flags|=1,vr(t,e,n,r),e.child;case 14:return n=e.type,A=On(n,e.pendingProps),A=On(n.type,A),Tw(t,e,n,A,r);case 15:return HC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,A=e.pendingProps,A=e.elementType===n?A:On(n,A),wu(t,e),e.tag=1,zr(n)?(t=!0,Pu(e)):t=!1,uo(e,r),kC(e,n,A),b0(e,n,A,r),S0(null,e,n,!0,t,r);case 19:return GC(t,e,r);case 22:return jC(t,e,r)}throw Error(ee(156,e.tag))};function a2(t,e){return Ry(t,e)}function MS(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,r,n){return new MS(t,e,r,n)}function I1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DS(t){if(typeof t=="function")return I1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gg)return 11;if(t===Wg)return 14}return 2}function hi(t,e){var r=t.alternate;return r===null?(r=mn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function xu(t,e,r,n,A,i){var o=2;if(n=t,typeof t=="function")I1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xs:return As(r.children,A,i,e);case zg:o=8,A|=8;break;case Yf:return t=mn(12,r,e,A|2),t.elementType=Yf,t.lanes=i,t;case Jf:return t=mn(13,r,e,A),t.elementType=Jf,t.lanes=i,t;case Zf:return t=mn(19,r,e,A),t.elementType=Zf,t.lanes=i,t;case my:return Lh(r,A,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case py:o=10;break e;case wy:o=9;break e;case Gg:o=11;break e;case Wg:o=14;break e;case VA:o=16,n=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=mn(o,r,e,A),e.elementType=t,e.type=n,e.lanes=i,e}function As(t,e,r,n){return t=mn(7,t,n,e),t.lanes=r,t}function Lh(t,e,r,n){return t=mn(22,t,n,e),t.elementType=my,t.lanes=r,t.stateNode={isHidden:!1},t}function tf(t,e,r){return t=mn(6,t,null,e),t.lanes=r,t}function rf(t,e,r){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kS(t,e,r,n,A){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Md(0),this.expirationTimes=Md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Md(0),this.identifierPrefix=n,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function S1(t,e,r,n,A,i,o,c,u){return t=new kS(t,e,r,c,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},u1(i),t}function LS(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function l2(t){if(!t)return Bi;t=t._reactInternals;e:{if(ps(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var r=t.type;if(zr(r))return lC(t,r,e)}return e}function c2(t,e,r,n,A,i,o,c,u){return t=S1(r,n,!0,t,A,i,o,c,u),t.context=l2(null),r=t.current,n=br(),A=ui(r),i=CA(n,A),i.callback=e??null,li(r,i,A),t.current.lanes=A,Ul(t,A,n),Gr(t,n),t}function Ph(t,e,r,n){var A=e.current,i=br(),o=ui(A);return r=l2(r),e.context===null?e.context=r:e.pendingContext=r,e=CA(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=li(A,e,o),t!==null&&(Pn(t,A,o,i),fu(t,A,o)),o}function $u(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function F1(t,e){jw(t,e),(t=t.alternate)&&jw(t,e)}function PS(){return null}var u2=typeof reportError=="function"?reportError:function(t){console.error(t)};function T1(t){this._internalRoot=t}Hh.prototype.render=T1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Ph(t,e,null,null)};Hh.prototype.unmount=T1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hs(function(){Ph(null,t,null,null)}),e[bA]=null}};function Hh(t){this._internalRoot=t}Hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=jy();t={blockedOn:null,target:t,priority:e};for(var r=0;r<WA.length&&e!==0&&e<WA[r].priority;r++);WA.splice(r,0,t),r===0&&Vy(t)}};function U1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kw(){}function HS(t,e,r,n,A){if(A){if(typeof n=="function"){var i=n;n=function(){var d=$u(o);i.call(d)}}var o=c2(e,n,t,0,null,!1,!1,"",Kw);return t._reactRootContainer=o,t[bA]=o.current,ol(t.nodeType===8?t.parentNode:t),hs(),o}for(;A=t.lastChild;)t.removeChild(A);if(typeof n=="function"){var c=n;n=function(){var d=$u(u);c.call(d)}}var u=S1(t,0,!1,null,null,!1,!1,"",Kw);return t._reactRootContainer=u,t[bA]=u.current,ol(t.nodeType===8?t.parentNode:t),hs(function(){Ph(e,u,r,n)}),u}function Kh(t,e,r,n,A){var i=r._reactRootContainer;if(i){var o=i;if(typeof A=="function"){var c=A;A=function(){var u=$u(o);c.call(u)}}Ph(e,o,t,A)}else o=HS(r,e,t,A,n);return $u(o)}Py=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ma(e.pendingLanes);r!==0&&(Jg(e,r|1),Gr(e,Qt()),!(Le&6)&&(Eo=Qt()+500,_i()))}break;case 13:hs(function(){var n=_A(t,1);if(n!==null){var A=br();Pn(n,t,1,A)}}),F1(t,1)}};Zg=function(t){if(t.tag===13){var e=_A(t,134217728);if(e!==null){var r=br();Pn(e,t,134217728,r)}F1(t,134217728)}};Hy=function(t){if(t.tag===13){var e=ui(t),r=_A(t,e);if(r!==null){var n=br();Pn(r,t,e,n)}F1(t,e)}};jy=function(){return Ye};Ky=function(t,e){var r=Ye;try{return Ye=t,e()}finally{Ye=r}};o0=function(t,e,r){switch(e){case"input":if(e0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var A=Oh(n);if(!A)throw Error(ee(90));xy(n),e0(n,A)}}}break;case"textarea":Cy(t,r);break;case"select":e=r.value,e!=null&&oo(t,!!r.multiple,e,!1)}};Fy=E1;Ty=hs;var jS={usingClientEntryPoint:!1,Events:[Ol,qs,Oh,Iy,Sy,E1]},sa={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KS={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:TA.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Oy(t),t===null?null:t.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||PS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Fh=wc.inject(KS),iA=wc}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jS;on.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U1(e))throw Error(ee(200));return LS(t,e,null,r)};on.createRoot=function(t,e){if(!U1(t))throw Error(ee(299));var r=!1,n="",A=u2;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(A=e.onRecoverableError)),e=S1(t,1,!1,null,null,r,!1,n,A),t[bA]=e.current,ol(t.nodeType===8?t.parentNode:t),new T1(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=Oy(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return hs(t)};on.hydrate=function(t,e,r){if(!jh(e))throw Error(ee(200));return Kh(null,t,e,!0,r)};on.hydrateRoot=function(t,e,r){if(!U1(t))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,A=!1,i="",o=u2;if(r!=null&&(r.unstable_strictMode===!0&&(A=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=c2(e,null,t,1,r??null,A,!1,i,o),t[bA]=e.current,ol(t),n)for(t=0;t<n.length;t++)r=n[t],A=r._getVersion,A=A(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,A]:e.mutableSourceEagerHydrationData.push(r,A);return new Hh(e)};on.render=function(t,e,r){if(!jh(e))throw Error(ee(200));return Kh(null,t,e,!1,r)};on.unmountComponentAtNode=function(t){if(!jh(t))throw Error(ee(40));return t._reactRootContainer?(hs(function(){Kh(null,null,t,!1,function(){t._reactRootContainer=null,t[bA]=null})}),!0):!1};on.unstable_batchedUpdates=E1;on.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!jh(r))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return Kh(t,e,r,!1,n)};on.version="18.3.1-next-f1338f8080-20240426";function h2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h2)}catch(t){console.error(t)}}h2(),hy.exports=on;var VS=hy.exports,Vw=VS;Wf.createRoot=Vw.createRoot,Wf.hydrateRoot=Vw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pl.apply(this,arguments)}var qA;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qA||(qA={}));const zw="popstate";function zS(t){t===void 0&&(t={});function e(n,A){let{pathname:i,search:o,hash:c}=n.location;return P0("",{pathname:i,search:o,hash:c},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function r(n,A){return typeof A=="string"?A:eh(A)}return WS(e,r,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Q1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GS(){return Math.random().toString(36).substr(2,8)}function Gw(t,e){return{usr:t.state,key:t.key,idx:e}}function P0(t,e,r,n){return r===void 0&&(r=null),pl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qo(e):e,{state:r,key:e&&e.key||n||GS()})}function eh(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Qo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function WS(t,e,r,n){n===void 0&&(n={});let{window:A=document.defaultView,v5Compat:i=!1}=n,o=A.history,c=qA.Pop,u=null,d=p();d==null&&(d=0,o.replaceState(pl({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function m(){c=qA.Pop;let F=p(),S=F==null?null:F-d;d=F,u&&u({action:c,location:v.location,delta:S})}function x(F,S){c=qA.Push;let I=P0(v.location,F,S);d=p()+1;let T=Gw(I,d),N=v.createHref(I);try{o.pushState(T,"",N)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;A.location.assign(N)}i&&u&&u({action:c,location:v.location,delta:1})}function C(F,S){c=qA.Replace;let I=P0(v.location,F,S);d=p();let T=Gw(I,d),N=v.createHref(I);o.replaceState(T,"",N),i&&u&&u({action:c,location:v.location,delta:0})}function E(F){let S=A.location.origin!=="null"?A.location.origin:A.location.href,I=typeof F=="string"?F:eh(F);return I=I.replace(/ $/,"%20"),kt(S,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,S)}let v={get action(){return c},get location(){return t(A,o)},listen(F){if(u)throw new Error("A history only accepts one active listener");return A.addEventListener(zw,m),u=F,()=>{A.removeEventListener(zw,m),u=null}},createHref(F){return e(A,F)},createURL:E,encodeLocation(F){let S=E(F);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:C,go(F){return o.go(F)}};return v}var Ww;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ww||(Ww={}));function XS(t,e,r){return r===void 0&&(r="/"),YS(t,e,r)}function YS(t,e,r,n){let A=typeof e=="string"?Qo(e):e,i=O1(A.pathname||"/",r);if(i==null)return null;let o=d2(t);JS(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=a4(i);c=i4(o[u],d)}return c}function d2(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let A=(i,o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(kt(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let d=di([n,u.relativePath]),p=r.concat(u);i.children&&i.children.length>0&&(kt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),d2(i.children,e,p,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:n4(d,i.index),routesMeta:p})};return t.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))A(i,o);else for(let u of f2(i.path))A(i,o,u)}),e}function f2(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,A=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return A?[i,""]:[i];let o=f2(n.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),A&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function JS(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:A4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ZS=/^:[\w-]+$/,qS=3,$S=2,e4=1,t4=10,r4=-2,Xw=t=>t==="*";function n4(t,e){let r=t.split("/"),n=r.length;return r.some(Xw)&&(n+=r4),e&&(n+=$S),r.filter(A=>!Xw(A)).reduce((A,i)=>A+(ZS.test(i)?qS:i===""?e4:t4),n)}function A4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,A)=>n===e[A])?t[t.length-1]-e[e.length-1]:0}function i4(t,e,r){let{routesMeta:n}=t,A={},i="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],d=c===n.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=s4({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),x=u.route;if(!m)return null;Object.assign(A,m.params),o.push({params:A,pathname:di([i,m.pathname]),pathnameBase:d4(di([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=di([i,m.pathnameBase]))}return o}function s4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=o4(t.path,t.caseSensitive,t.end),A=e.match(r);if(!A)return null;let i=A[0],o=i.replace(/(.)\/+$/,"$1"),c=A.slice(1);return{params:n.reduce((d,p,m)=>{let{paramName:x,isOptional:C}=p;if(x==="*"){let v=c[m]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const E=c[m];return C&&!E?d[x]=void 0:d[x]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function o4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Q1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],A="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),A+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?A+="\\/*$":t!==""&&t!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,e?void 0:"i"),n]}function a4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Q1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function O1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const l4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c4=t=>l4.test(t);function u4(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:A=""}=typeof t=="string"?Qo(t):t,i;if(r)if(c4(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Q1(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Yw(r.substring(1),"/"):i=Yw(r,e)}else i=e;return{pathname:i,search:f4(n),hash:g4(A)}}function Yw(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(A=>{A===".."?r.length>1&&r.pop():A!=="."&&r.push(A)}),r.length>1?r.join("/"):"/"}function nf(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function g2(t,e){let r=h4(t);return e?r.map((n,A)=>A===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function p2(t,e,r,n){n===void 0&&(n=!1);let A;typeof t=="string"?A=Qo(t):(A=pl({},t),kt(!A.pathname||!A.pathname.includes("?"),nf("?","pathname","search",A)),kt(!A.pathname||!A.pathname.includes("#"),nf("#","pathname","hash",A)),kt(!A.search||!A.search.includes("#"),nf("#","search","hash",A)));let i=t===""||A.pathname==="",o=i?"/":A.pathname,c;if(o==null)c=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),m-=1;A.pathname=x.join("/")}c=m>=0?e[m]:"/"}let u=u4(A,c),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}const di=t=>t.join("/").replace(/\/\/+/g,"/"),d4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function p4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const w2=["post","put","patch","delete"];new Set(w2);const w4=["get",...w2];new Set(w4);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wl.apply(this,arguments)}const N1=Y.createContext(null),m4=Y.createContext(null),ws=Y.createContext(null),Vh=Y.createContext(null),Ii=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),m2=Y.createContext(null);function B4(t,e){let{relative:r}=e===void 0?{}:e;Rl()||kt(!1);let{basename:n,navigator:A}=Y.useContext(ws),{hash:i,pathname:o,search:c}=y2(t,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:di([n,o])),A.createHref({pathname:u,search:c,hash:i})}function Rl(){return Y.useContext(Vh)!=null}function Ml(){return Rl()||kt(!1),Y.useContext(Vh).location}function B2(t){Y.useContext(ws).static||Y.useLayoutEffect(t)}function Oo(){let{isDataRoute:t}=Y.useContext(Ii);return t?Q4():x4()}function x4(){Rl()||kt(!1);let t=Y.useContext(N1),{basename:e,future:r,navigator:n}=Y.useContext(ws),{matches:A}=Y.useContext(Ii),{pathname:i}=Ml(),o=JSON.stringify(g2(A,r.v7_relativeSplatPath)),c=Y.useRef(!1);return B2(()=>{c.current=!0}),Y.useCallback(function(d,p){if(p===void 0&&(p={}),!c.current)return;if(typeof d=="number"){n.go(d);return}let m=p2(d,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:di([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,o,i,t])}function x2(){let{matches:t}=Y.useContext(Ii),e=t[t.length-1];return e?e.params:{}}function y2(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=Y.useContext(ws),{matches:A}=Y.useContext(Ii),{pathname:i}=Ml(),o=JSON.stringify(g2(A,n.v7_relativeSplatPath));return Y.useMemo(()=>p2(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function y4(t,e){return C4(t,e)}function C4(t,e,r,n){Rl()||kt(!1);let{navigator:A}=Y.useContext(ws),{matches:i}=Y.useContext(Ii),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Ml(),p;if(e){var m;let F=typeof e=="string"?Qo(e):e;u==="/"||(m=F.pathname)!=null&&m.startsWith(u)||kt(!1),p=F}else p=d;let x=p.pathname||"/",C=x;if(u!=="/"){let F=u.replace(/^\//,"").split("/");C="/"+x.replace(/^\//,"").split("/").slice(F.length).join("/")}let E=XS(t,{pathname:C}),v=I4(E&&E.map(F=>Object.assign({},F,{params:Object.assign({},c,F.params),pathname:di([u,A.encodeLocation?A.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?u:di([u,A.encodeLocation?A.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),i,r,n);return e&&v?Y.createElement(Vh.Provider,{value:{location:wl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:qA.Pop}},v):v}function v4(){let t=U4(),e=p4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,A={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),r?Y.createElement("pre",{style:A},r):null,null)}const E4=Y.createElement(v4,null);class b4 extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?Y.createElement(Ii.Provider,{value:this.props.routeContext},Y.createElement(m2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _4(t){let{routeContext:e,match:r,children:n}=t,A=Y.useContext(N1);return A&&A.static&&A.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(A.staticContext._deepestRenderedBoundaryId=r.route.id),Y.createElement(Ii.Provider,{value:e},n)}function I4(t,e,r,n){var A;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,c=(A=r)==null?void 0:A.errors;if(c!=null){let p=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);p>=0||kt(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:x,errors:C}=r,E=m.route.loader&&x[m.route.id]===void 0&&(!C||C[m.route.id]===void 0);if(m.route.lazy||E){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,m,x)=>{let C,E=!1,v=null,F=null;r&&(C=c&&m.route.id?c[m.route.id]:void 0,v=m.route.errorElement||E4,u&&(d<0&&x===0?(O4("route-fallback"),E=!0,F=null):d===x&&(E=!0,F=m.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,x+1)),I=()=>{let T;return C?T=v:E?T=F:m.route.Component?T=Y.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=p,Y.createElement(_4,{match:m,routeContext:{outlet:p,matches:S,isDataRoute:r!=null},children:T})};return r&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?Y.createElement(b4,{location:r.location,revalidation:r.revalidation,component:v,error:C,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):I()},null)}var C2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(C2||{}),v2=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(v2||{});function S4(t){let e=Y.useContext(N1);return e||kt(!1),e}function F4(t){let e=Y.useContext(m4);return e||kt(!1),e}function T4(t){let e=Y.useContext(Ii);return e||kt(!1),e}function E2(t){let e=T4(),r=e.matches[e.matches.length-1];return r.route.id||kt(!1),r.route.id}function U4(){var t;let e=Y.useContext(m2),r=F4(),n=E2();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Q4(){let{router:t}=S4(C2.UseNavigateStable),e=E2(v2.UseNavigateStable),r=Y.useRef(!1);return B2(()=>{r.current=!0}),Y.useCallback(function(A,i){i===void 0&&(i={}),r.current&&(typeof A=="number"?t.navigate(A):t.navigate(A,wl({fromRouteId:e},i)))},[t,e])}const Jw={};function O4(t,e,r){Jw[t]||(Jw[t]=!0)}function N4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Dr(t){kt(!1)}function R4(t){let{basename:e="/",children:r=null,location:n,navigationType:A=qA.Pop,navigator:i,static:o=!1,future:c}=t;Rl()&&kt(!1);let u=e.replace(/^\/*/,"/"),d=Y.useMemo(()=>({basename:u,navigator:i,static:o,future:wl({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);typeof n=="string"&&(n=Qo(n));let{pathname:p="/",search:m="",hash:x="",state:C=null,key:E="default"}=n,v=Y.useMemo(()=>{let F=O1(p,u);return F==null?null:{location:{pathname:F,search:m,hash:x,state:C,key:E},navigationType:A}},[u,p,m,x,C,E,A]);return v==null?null:Y.createElement(ws.Provider,{value:d},Y.createElement(Vh.Provider,{children:r,value:v}))}function M4(t){let{children:e,location:r}=t;return y4(H0(e),r)}new Promise(()=>{});function H0(t,e){e===void 0&&(e=[]);let r=[];return Y.Children.forEach(t,(n,A)=>{if(!Y.isValidElement(n))return;let i=[...e,A];if(n.type===Y.Fragment){r.push.apply(r,H0(n.props.children,i));return}n.type!==Dr&&kt(!1),!n.props.index||!n.props.children||kt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=H0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j0.apply(this,arguments)}function D4(t,e){if(t==null)return{};var r={},n=Object.keys(t),A,i;for(i=0;i<n.length;i++)A=n[i],!(e.indexOf(A)>=0)&&(r[A]=t[A]);return r}function k4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L4(t,e){return t.button===0&&(!e||e==="_self")&&!k4(t)}const P4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],H4="6";try{window.__reactRouterVersion=H4}catch{}const j4="startTransition",Zw=O_[j4];function K4(t){let{basename:e,children:r,future:n,window:A}=t,i=Y.useRef();i.current==null&&(i.current=zS({window:A,v5Compat:!0}));let o=i.current,[c,u]=Y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},p=Y.useCallback(m=>{d&&Zw?Zw(()=>u(m)):u(m)},[u,d]);return Y.useLayoutEffect(()=>o.listen(p),[o,p]),Y.useEffect(()=>N4(n),[n]),Y.createElement(R4,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const V4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xi=Y.forwardRef(function(e,r){let{onClick:n,relative:A,reloadDocument:i,replace:o,state:c,target:u,to:d,preventScrollReset:p,viewTransition:m}=e,x=D4(e,P4),{basename:C}=Y.useContext(ws),E,v=!1;if(typeof d=="string"&&z4.test(d)&&(E=d,V4))try{let T=new URL(window.location.href),N=d.startsWith("//")?new URL(T.protocol+d):new URL(d),L=O1(N.pathname,C);N.origin===T.origin&&L!=null?d=L+N.search+N.hash:v=!0}catch{}let F=B4(d,{relative:A}),S=G4(d,{replace:o,state:c,target:u,preventScrollReset:p,relative:A,viewTransition:m});function I(T){n&&n(T),T.defaultPrevented||S(T)}return Y.createElement("a",j0({},x,{href:E||F,onClick:v||i?n:I,ref:r,target:u}))});var qw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qw||(qw={}));var $w;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($w||($w={}));function G4(t,e){let{target:r,replace:n,state:A,preventScrollReset:i,relative:o,viewTransition:c}=e===void 0?{}:e,u=Oo(),d=Ml(),p=y2(t,{relative:o});return Y.useCallback(m=>{if(L4(m,r)){m.preventDefault();let x=n!==void 0?n:eh(d)===eh(p);u(t,{replace:x,state:A,preventScrollReset:i,relative:o,viewTransition:c})}},[d,u,p,n,A,r,t,i,o,c])}var K0=function(t,e){return K0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(r[A]=n[A])},K0(t,e)};function b2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");K0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var th=function(){return th=Object.assign||function(e){for(var r,n=1,A=arguments.length;n<A;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},th.apply(this,arguments)};function No(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,n=Object.getOwnPropertySymbols(t);A<n.length;A++)e.indexOf(n[A])<0&&Object.prototype.propertyIsEnumerable.call(t,n[A])&&(r[n[A]]=t[n[A]]);return r}function _2(t,e,r,n){var A=arguments.length,i=A<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(A<3?o(i):A>3?o(e,r,i):o(e,r))||i);return A>3&&i&&Object.defineProperty(e,r,i),i}function I2(t,e){return function(r,n){e(r,n,t)}}function S2(t,e,r,n,A,i){function o(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var c=n.kind,u=c==="getter"?"get":c==="setter"?"set":"value",d=!e&&t?n.static?t:t.prototype:null,p=e||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),m,x=!1,C=r.length-1;C>=0;C--){var E={};for(var v in n)E[v]=v==="access"?{}:n[v];for(var v in n.access)E.access[v]=n.access[v];E.addInitializer=function(S){if(x)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(S||null))};var F=(0,r[C])(c==="accessor"?{get:p.get,set:p.set}:p[u],E);if(c==="accessor"){if(F===void 0)continue;if(F===null||typeof F!="object")throw new TypeError("Object expected");(m=o(F.get))&&(p.get=m),(m=o(F.set))&&(p.set=m),(m=o(F.init))&&A.unshift(m)}else(m=o(F))&&(c==="field"?A.unshift(m):p[u]=m)}d&&Object.defineProperty(d,n.name,p),x=!0}function F2(t,e,r){for(var n=arguments.length>2,A=0;A<e.length;A++)r=n?e[A].call(t,r):e[A].call(t);return n?r:void 0}function T2(t){return typeof t=="symbol"?t:"".concat(t)}function U2(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Q2(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ge(t,e,r,n){function A(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(p){try{d(n.next(p))}catch(m){o(m)}}function u(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):A(p.value).then(c,u)}d((n=n.apply(t,e||[])).next())})}function O2(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,A,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(p){return u([d,p])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,A&&(i=d[0]&2?A.return:d[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,d[1])).done)return i;switch(A=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,A=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(p){d=[6,p],A=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var zh=Object.create?function(t,e,r,n){n===void 0&&(n=r);var A=Object.getOwnPropertyDescriptor(e,r);(!A||("get"in A?!e.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,A)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function N2(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zh(e,t,r)}function rh(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function R1(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),A,i=[],o;try{for(;(e===void 0||e-- >0)&&!(A=n.next()).done;)i.push(A.value)}catch(c){o={error:c}}finally{try{A&&!A.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function R2(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(R1(arguments[e]));return t}function M2(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),A=0,e=0;e<r;e++)for(var i=arguments[e],o=0,c=i.length;o<c;o++,A++)n[A]=i[o];return n}function D2(t,e,r){if(r||arguments.length===2)for(var n=0,A=e.length,i;n<A;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function bo(t){return this instanceof bo?(this.v=t,this):new bo(t)}function k2(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),A,i=[];return A=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),A[Symbol.asyncIterator]=function(){return this},A;function o(C){return function(E){return Promise.resolve(E).then(C,m)}}function c(C,E){n[C]&&(A[C]=function(v){return new Promise(function(F,S){i.push([C,v,F,S])>1||u(C,v)})},E&&(A[C]=E(A[C])))}function u(C,E){try{d(n[C](E))}catch(v){x(i[0][3],v)}}function d(C){C.value instanceof bo?Promise.resolve(C.value.v).then(p,m):x(i[0][2],C)}function p(C){u("next",C)}function m(C){u("throw",C)}function x(C,E){C(E),i.shift(),i.length&&u(i[0][0],i[0][1])}}function L2(t){var e,r;return e={},n("next"),n("throw",function(A){throw A}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(A,i){e[A]=t[A]?function(o){return(r=!r)?{value:bo(t[A](o)),done:!1}:i?i(o):o}:i}}function P2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof rh=="function"?rh(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(c,u){o=t[i](o),A(c,u,o.done,o.value)})}}function A(i,o,c,u){Promise.resolve(u).then(function(d){i({value:d,done:c})},o)}}function H2(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var W4=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},V0=function(t){return V0=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},V0(t)};function j2(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=V0(t),n=0;n<r.length;n++)r[n]!=="default"&&zh(e,t,r[n]);return W4(e,t),e}function K2(t){return t&&t.__esModule?t:{default:t}}function V2(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function z2(t,e,r,n,A){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!A)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!A:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?A.call(t,r):A?A.value=r:e.set(t,r),r}function G2(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function W2(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,A;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(A=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");A&&(n=function(){try{A.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var X4=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function X2(t){function e(i){t.error=t.hasError?new X4(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function A(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(A);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(A,function(o){return e(o),A()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return A()}function Y2(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,A,i,o){return n?e?".jsx":".js":A&&(!i||!o)?r:A+i+"."+o.toLowerCase()+"js"}):t}const Y4={__extends:b2,__assign:th,__rest:No,__decorate:_2,__param:I2,__esDecorate:S2,__runInitializers:F2,__propKey:T2,__setFunctionName:U2,__metadata:Q2,__awaiter:ge,__generator:O2,__createBinding:zh,__exportStar:N2,__values:rh,__read:R1,__spread:R2,__spreadArrays:M2,__spreadArray:D2,__await:bo,__asyncGenerator:k2,__asyncDelegator:L2,__asyncValues:P2,__makeTemplateObject:H2,__importStar:j2,__importDefault:K2,__classPrivateFieldGet:V2,__classPrivateFieldSet:z2,__classPrivateFieldIn:G2,__addDisposableResource:W2,__disposeResources:X2,__rewriteRelativeImportExtension:Y2},J4=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:W2,get __assign(){return th},__asyncDelegator:L2,__asyncGenerator:k2,__asyncValues:P2,__await:bo,__awaiter:ge,__classPrivateFieldGet:V2,__classPrivateFieldIn:G2,__classPrivateFieldSet:z2,__createBinding:zh,__decorate:_2,__disposeResources:X2,__esDecorate:S2,__exportStar:N2,__extends:b2,__generator:O2,__importDefault:K2,__importStar:j2,__makeTemplateObject:H2,__metadata:Q2,__param:I2,__propKey:T2,__read:R1,__rest:No,__rewriteRelativeImportExtension:Y2,__runInitializers:F2,__setFunctionName:U2,__spread:R2,__spreadArray:D2,__spreadArrays:M2,__values:rh,default:Y4},Symbol.toStringTag,{value:"Module"})),Z4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class M1 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class q4 extends M1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class em extends M1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tm extends M1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var z0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(z0||(z0={}));class $4{constructor(e,{headers:r={},customFetch:n,region:A=z0.Any}={}){this.url=e,this.headers=r,this.region=A,this.fetch=Z4(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ge(this,arguments,void 0,function*(r,n={}){var A;let i,o;try{const{headers:c,method:u,body:d,signal:p,timeout:m}=n;let x={},{region:C}=n;C||(C=this.region);const E=new URL(`${this.url}/${r}`);C&&C!=="any"&&(x["x-region"]=C,E.searchParams.set("forceFunctionRegion",C));let v;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(x["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(x["Content-Type"]="application/json",v=JSON.stringify(d)):v=d;let F=p;m&&(o=new AbortController,i=setTimeout(()=>o.abort(),m),p?(F=o.signal,p.addEventListener("abort",()=>o.abort())):F=o.signal);const S=yield this.fetch(E.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),c),body:v,signal:F}).catch(L=>{throw new q4(L)}),I=S.headers.get("x-relay-error");if(I&&I==="true")throw new em(S);if(!S.ok)throw new tm(S);let T=((A=S.headers.get("Content-Type"))!==null&&A!==void 0?A:"text/plain").split(";")[0].trim(),N;return T==="application/json"?N=yield S.json():T==="application/octet-stream"||T==="application/pdf"?N=yield S.blob():T==="text/event-stream"?N=S:T==="multipart/form-data"?N=yield S.formData():N=yield S.text(),{data:N,error:null,response:S}}catch(c){return{data:null,error:c,response:c instanceof tm||c instanceof em?c.context:void 0}}finally{i&&clearTimeout(i)}})}}var Er={};const Ro=w_(J4);var mc={},Bc={},xc={},yc={},Cc={},vc={},rm;function J2(){if(rm)return vc;rm=1,Object.defineProperty(vc,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return vc.default=t,vc}var nm;function Z2(){if(nm)return Cc;nm=1,Object.defineProperty(Cc,"__esModule",{value:!0});const e=Ro.__importDefault(J2());class r{constructor(A){var i,o;this.shouldThrowOnError=!1,this.method=A.method,this.url=A.url,this.headers=new Headers(A.headers),this.schema=A.schema,this.body=A.body,this.shouldThrowOnError=(i=A.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=A.signal,this.isMaybeSingle=(o=A.isMaybeSingle)!==null&&o!==void 0?o:!1,A.fetch?this.fetch=A.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(A,i){return this.headers=new Headers(this.headers),this.headers.set(A,i),this}then(A,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,p,m,x;let C=null,E=null,v=null,F=u.status,S=u.statusText;if(u.ok){if(this.method!=="HEAD"){const L=await u.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?E=L:E=JSON.parse(L))}const T=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),N=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");T&&N&&N.length>1&&(v=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(C={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,v=null,F=406,S="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const T=await u.text();try{C=JSON.parse(T),Array.isArray(C)&&u.status===404&&(E=[],C=null,F=200,S="OK")}catch{u.status===404&&T===""?(F=204,S="No Content"):C={message:T}}if(C&&this.isMaybeSingle&&(!((x=C==null?void 0:C.details)===null||x===void 0)&&x.includes("0 rows"))&&(C=null,F=200,S="OK"),C&&this.shouldThrowOnError)throw new e.default(C)}return{error:C,data:E,count:v,status:F,statusText:S}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,p,m,x,C,E;let v="";const F=u==null?void 0:u.cause;if(F){const S=(d=F==null?void 0:F.message)!==null&&d!==void 0?d:"",I=(p=F==null?void 0:F.code)!==null&&p!==void 0?p:"";v=`${(m=u==null?void 0:u.name)!==null&&m!==void 0?m:"FetchError"}: ${u==null?void 0:u.message}`,v+=`

Caused by: ${(x=F==null?void 0:F.name)!==null&&x!==void 0?x:"Error"}: ${S}`,I&&(v+=` (${I})`),F!=null&&F.stack&&(v+=`
${F.stack}`)}else v=(C=u==null?void 0:u.stack)!==null&&C!==void 0?C:"";return{error:{message:`${(E=u==null?void 0:u.name)!==null&&E!==void 0?E:"FetchError"}: ${u==null?void 0:u.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(A,i)}returns(){return this}overrideTypes(){return this}}return Cc.default=r,Cc}var Am;function q2(){if(Am)return yc;Am=1,Object.defineProperty(yc,"__esModule",{value:!0});const e=Ro.__importDefault(Z2());class r extends e.default{select(A){let i=!1;const o=(A??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(A,{ascending:i=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.order`:"order",p=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${p?`${p},`:""}${A}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(A,{foreignTable:i,referencedTable:o=i}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${A}`),this}range(A,i,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${A}`),this.url.searchParams.set(d,`${i-A+1}`),this}abortSignal(A){return this.signal=A,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:A=!1,verbose:i=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:d="text"}={}){var p;const m=[A?"analyze":null,i?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),x=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${x}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(A){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${A}`),this}}return yc.default=r,yc}var im;function D1(){if(im)return xc;im=1,Object.defineProperty(xc,"__esModule",{value:!0});const e=Ro.__importDefault(q2()),r=new RegExp("[,()]");class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const c=Array.from(new Set(o)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:c,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${d}fts${p}.${o}`),this}match(i){return Object.entries(i).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(i,o,c){return this.url.searchParams.append(i,`not.${o}.${c}`),this}or(i,{foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,c){return this.url.searchParams.append(i,`${o}.${c}`),this}}return xc.default=n,xc}var sm;function $2(){if(sm)return Bc;sm=1,Object.defineProperty(Bc,"__esModule",{value:!0});const e=Ro.__importDefault(D1());class r{constructor(A,{headers:i={},schema:o,fetch:c}){this.url=A,this.headers=new Headers(i),this.schema=o,this.fetch=c}select(A,i){const{head:o=!1,count:c}=i??{},u=o?"HEAD":"GET";let d=!1;const p=(A??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(A,{count:i,defaultToNull:o=!0}={}){var c;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(A)){const d=A.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(d.length>0){const p=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:A,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(A,{onConflict:i,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){var d;const p="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(A)){const m=A.reduce((x,C)=>x.concat(Object.keys(C)),[]);if(m.length>0){const x=[...new Set(m)].map(C=>`"${C}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:A,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(A,{count:i}={}){var o;const c="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:A,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:A}={}){var i;const o="DELETE";return A&&this.headers.append("Prefer",`count=${A}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Bc.default=r,Bc}var om;function eF(){if(om)return mc;om=1,Object.defineProperty(mc,"__esModule",{value:!0});const t=Ro,e=t.__importDefault($2()),r=t.__importDefault(D1());class n{constructor(i,{headers:o={},schema:c,fetch:u}={}){this.url=i,this.headers=new Headers(o),this.schemaName=c,this.fetch=u}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:c=!1,get:u=!1,count:d}={}){var p;let m;const x=new URL(`${this.url}/rpc/${i}`);let C;c||u?(m=c?"HEAD":"GET",Object.entries(o).filter(([v,F])=>F!==void 0).map(([v,F])=>[v,Array.isArray(F)?`{${F.join(",")}}`:`${F}`]).forEach(([v,F])=>{x.searchParams.append(v,F)})):(m="POST",C=o);const E=new Headers(this.headers);return d&&E.set("Prefer",`count=${d}`),new r.default({method:m,url:x,headers:E,schema:this.schemaName,body:C,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return mc.default=n,mc}Object.defineProperty(Er,"__esModule",{value:!0});var ev=Er.PostgrestError=cv=Er.PostgrestBuilder=av=Er.PostgrestTransformBuilder=sv=Er.PostgrestFilterBuilder=Av=Er.PostgrestQueryBuilder=rv=Er.PostgrestClient=void 0;const Mo=Ro,tv=Mo.__importDefault(eF());var rv=Er.PostgrestClient=tv.default;const nv=Mo.__importDefault($2());var Av=Er.PostgrestQueryBuilder=nv.default;const iv=Mo.__importDefault(D1());var sv=Er.PostgrestFilterBuilder=iv.default;const ov=Mo.__importDefault(q2());var av=Er.PostgrestTransformBuilder=ov.default;const lv=Mo.__importDefault(Z2());var cv=Er.PostgrestBuilder=lv.default;const uv=Mo.__importDefault(J2());ev=Er.PostgrestError=uv.default;var hv=Er.default={PostgrestClient:tv.default,PostgrestQueryBuilder:nv.default,PostgrestFilterBuilder:iv.default,PostgrestTransformBuilder:ov.default,PostgrestBuilder:lv.default,PostgrestError:uv.default};const tF=Dg({__proto__:null,get PostgrestBuilder(){return cv},get PostgrestClient(){return rv},get PostgrestError(){return ev},get PostgrestFilterBuilder(){return sv},get PostgrestQueryBuilder(){return Av},get PostgrestTransformBuilder(){return av},default:hv},[Er]),{PostgrestClient:rF,PostgrestQueryBuilder:f6,PostgrestFilterBuilder:g6,PostgrestTransformBuilder:p6,PostgrestBuilder:w6,PostgrestError:m6}=hv||tF;class nF{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,A=parseInt(n.replace(/^v/,"").split(".")[0]);return A>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${A} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${A} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const AF="2.86.0",iF=`realtime-js/${AF}`,dv="1.0.0",sF="2.0.0",am=dv,G0=1e4,oF=1e3,aF=100;var zi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zi||(zi={}));var jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jt||(jt={}));var Mn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Mn||(Mn={}));var W0;(function(t){t.websocket="websocket"})(W0||(W0={}));var Gi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Gi||(Gi={}));class lF{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const A=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,A)}_encodeJsonUserBroadcastPush(e){var r,n;const A=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(A)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var A,i;const o=e.topic,c=(A=e.ref)!==null&&A!==void 0?A:"",u=(i=e.join_ref)!==null&&i!==void 0?i:"",d=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(p).length===0?"":JSON.stringify(p);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+c.length+o.length+d.length+m.length,C=new ArrayBuffer(this.HEADER_LENGTH+x);let E=new DataView(C),v=0;E.setUint8(v++,this.KINDS.userBroadcastPush),E.setUint8(v++,u.length),E.setUint8(v++,c.length),E.setUint8(v++,o.length),E.setUint8(v++,d.length),E.setUint8(v++,m.length),E.setUint8(v++,r),Array.from(u,S=>E.setUint8(v++,S.charCodeAt(0))),Array.from(c,S=>E.setUint8(v++,S.charCodeAt(0))),Array.from(o,S=>E.setUint8(v++,S.charCodeAt(0))),Array.from(d,S=>E.setUint8(v++,S.charCodeAt(0))),Array.from(m,S=>E.setUint8(v++,S.charCodeAt(0)));var F=new Uint8Array(C.byteLength+n.byteLength);return F.set(new Uint8Array(C),0),F.set(new Uint8Array(n),C.byteLength),F.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[A,i,o,c,u]=n;return r({join_ref:A,ref:i,topic:o,event:c,payload:u})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),A=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,A)}}_decodeUserBroadcast(e,r,n){const A=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let u=this.HEADER_LENGTH+4;const d=n.decode(e.slice(u,u+A));u=u+A;const p=n.decode(e.slice(u,u+i));u=u+i;const m=n.decode(e.slice(u,u+o));u=u+o;const x=e.slice(u,e.byteLength),C=c===this.JSON_ENCODING?JSON.parse(n.decode(x)):x,E={type:this.BROADCAST_EVENT,event:p,payload:C};return o>0&&(E.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class fv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(it||(it={}));const lm=(t,e,r={})=>{var n;const A=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=cF(o,t,e,A),i),{}):{}},cF=(t,e,r,n)=>{const A=e.find(c=>c.name===t),i=A==null?void 0:A.type,o=r[t];return i&&!n.includes(i)?gv(i,o):X0(o)},gv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return fF(e,r)}switch(t){case it.bool:return uF(e);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return hF(e);case it.json:case it.jsonb:return dF(e);case it.timestamp:return gF(e);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return X0(e);default:return X0(e)}},X0=t=>t,uF=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hF=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},dF=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},fF=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>gv(e,c))}return t},gF=t=>typeof t=="string"?t.replace(" ","T"):t,pv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Af{constructor(e,r,n={},A=G0){this.channel=e,this.event=r,this.payload=n,this.timeout=A,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(cm||(cm={}));class ja{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},A=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ja.syncState(this.state,A,i,o),this.pendingDiffs.forEach(u=>{this.state=ja.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},A=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(A):(this.state=ja.syncDiff(this.state,A,i,o),c())}),this.onJoin((A,i,o)=>{this.channel._trigger("presence",{event:"join",key:A,currentPresences:i,newPresences:o})}),this.onLeave((A,i,o)=>{this.channel._trigger("presence",{event:"leave",key:A,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,A){const i=this.cloneDeep(e),o=this.transformState(r),c={},u={};return this.map(i,(d,p)=>{o[d]||(u[d]=p)}),this.map(o,(d,p)=>{const m=i[d];if(m){const x=p.map(F=>F.presence_ref),C=m.map(F=>F.presence_ref),E=p.filter(F=>C.indexOf(F.presence_ref)<0),v=m.filter(F=>x.indexOf(F.presence_ref)<0);E.length>0&&(c[d]=E),v.length>0&&(u[d]=v)}else c[d]=p}),this.syncDiff(i,{joins:c,leaves:u},n,A)}static syncDiff(e,r,n,A){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),A||(A=()=>{}),this.map(i,(c,u)=>{var d;const p=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(u),p.length>0){const m=e[c].map(C=>C.presence_ref),x=p.filter(C=>m.indexOf(C.presence_ref)<0);e[c].unshift(...x)}n(c,p,u)}),this.map(o,(c,u)=>{let d=e[c];if(!d)return;const p=u.map(m=>m.presence_ref);d=d.filter(m=>p.indexOf(m.presence_ref)<0),e[c]=d,A(c,d,u),d.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const A=e[n];return"metas"in A?r[n]=A.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=A,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var um;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(um||(um={}));var Ka;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ka||(Ka={}));var pA;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(pA||(pA={}));class k1{constructor(e,r={config:{}},n){var A,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Af(this,Mn.join,this.params,this.timeout),this.rejoinTimer=new fv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mn.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new ja(this),this.broadcastEndpointURL=pv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(A=this.params.config)===null||A===void 0?void 0:A.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,A,i;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,d=(A=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(C=>C.filter))!==null&&A!==void 0?A:[],p=!!this.bindings[Ka.PRESENCE]&&this.bindings[Ka.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},x={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(C=>e==null?void 0:e(pA.CHANNEL_ERROR,C)),this._onClose(()=>e==null?void 0:e(pA.CLOSED)),this.updateJoinPayload(Object.assign({config:x},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:C})=>{var E;if(this.socket.setAuth(),C===void 0){e==null||e(pA.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,F=(E=v==null?void 0:v.length)!==null&&E!==void 0?E:0,S=[];for(let I=0;I<F;I++){const T=v[I],{filter:{event:N,schema:L,table:k,filter:D}}=T,K=C&&C[I];if(K&&K.event===N&&K.schema===L&&K.table===k&&K.filter===D)S.push(Object.assign(Object.assign({},T),{id:K.id}));else{this.unsubscribe(),this.state=jt.errored,e==null||e(pA.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(pA.SUBSCRIBED);return}}).receive("error",C=>{this.state=jt.errored,e==null||e(pA.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pA.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===jt.joined&&e===Ka.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var A;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(A=n.timeout)!==null&&A!==void 0?A:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const d=await c.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(e,r={}){var n,A;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((A=d.body)===null||A===void 0?void 0:A.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,u;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(A=>{n=new Af(this,Mn.leave,{},e),n.receive("ok",()=>{r(),A("ok")}).receive("timeout",()=>{r(),A("timed out")}).receive("error",()=>{A("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const A=new AbortController,i=setTimeout(()=>A.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:A.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let A=new Af(this,e,r,n);return this._canPush()?A.send():this._addToPushBuffer(A),A}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>aF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var A,i;const o=e.toLocaleLowerCase(),{close:c,error:u,leave:d,join:p}=Mn;if(n&&[c,u,d,p].indexOf(o)>=0&&n!==this._joinRef())return;let x=this._onMessage(o,r,n);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(A=this.bindings.postgres_changes)===null||A===void 0||A.filter(C=>{var E,v,F;return((E=C.filter)===null||E===void 0?void 0:E.event)==="*"||((F=(v=C.filter)===null||v===void 0?void 0:v.event)===null||F===void 0?void 0:F.toLocaleLowerCase())===o}).map(C=>C.callback(x,n)):(i=this.bindings[o])===null||i===void 0||i.filter(C=>{var E,v,F,S,I,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in C){const N=C.id,L=(E=C.filter)===null||E===void 0?void 0:E.event;return N&&((v=r.ids)===null||v===void 0?void 0:v.includes(N))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((F=r.data)===null||F===void 0?void 0:F.type.toLocaleLowerCase()))}else{const N=(I=(S=C==null?void 0:C.filter)===null||S===void 0?void 0:S.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return N==="*"||N===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===o}).map(C=>{if(typeof x=="object"&&"ids"in x){const E=x.data,{schema:v,table:F,commit_timestamp:S,type:I,errors:T}=E;x=Object.assign(Object.assign({},{schema:v,table:F,commit_timestamp:S,eventType:I,new:{},old:{},errors:T}),this._getPayloadRecords(E))}C.callback(x,n)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const A=e.toLocaleLowerCase(),i={type:A,filter:r,callback:n};return this.bindings[A]?this.bindings[A].push(i):this.bindings[A]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(A=>{var i;return!(((i=A.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&k1.isEqual(A.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Mn.close,{},e)}_onError(e){this._on(Mn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=lm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=lm(e.columns,e.old_record)),r}}const sf=()=>{},Ec={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pF=[1e3,2e3,5e3,1e4],wF=1e4,mF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BF{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=G0,this.transport=null,this.heartbeatIntervalMs=Ec.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sf,this.ref=0,this.reconnectTimer=null,this.vsn=am,this.logger=sf,this.conn=null,this.sendBuffer=[],this.serializer=new lF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=A=>A?(...i)=>A(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${W0.websocket}`,this.httpEndpoint=pv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nF.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zi.connecting:return Gi.Connecting;case zi.open:return Gi.Open;case zi.closing:return Gi.Closing;default:return Gi.Closed}}isConnected(){return this.connectionState()===Gi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,A=this.getChannels().find(i=>i.topic===n);if(A)return A;{const i=new k1(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:A,ref:i}=e,o=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${r} ${n} (${i})`,A),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(oF,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ec.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:A,payload:i,ref:o}=r,c=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${A} ${c}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(A,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===zi.open||this.conn.readyState===zi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Mn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",A=new URLSearchParams(r);return`${e}${n}${A}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([mF],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const A={access_token:r,version:iF};r&&n.updateJoinPayload(A),n.joinedOnce&&n._isJoined()&&n._push(Mn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(A){this.log("error",`error in ${e} callback`,A)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new fv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ec.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,A,i,o,c,u,d,p,m,x,C;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:G0,this.heartbeatIntervalMs=(A=e==null?void 0:e.heartbeatIntervalMs)!==null&&A!==void 0?A:Ec.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:sf,this.vsn=(u=e==null?void 0:e.vsn)!==null&&u!==void 0?u:am,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:E=>pF[E-1]||wF,this.vsn){case dv:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(E,v)=>v(JSON.stringify(E)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(E,v)=>v(JSON.parse(E));break;case sF:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(C=e==null?void 0:e.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Gh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class xF extends Gh{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Y0 extends Gh{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const L1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yF=()=>Response,J0=t=>{if(Array.isArray(t))return t.map(r=>J0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const A=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[A]=J0(n)}),e},CF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vF=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),of=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},EF=(t,e,r)=>ge(void 0,void 0,void 0,function*(){const n=yield yF();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(A=>{const i=t.status||500,o=(A==null?void 0:A.statusCode)||i+"";e(new xF(of(A),i,o))}).catch(A=>{e(new Y0(of(A),A))}):e(new Y0(of(t),t))}),bF=(t,e,r,n)=>{const A={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?A:(CF(n)?(A.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),A.body=JSON.stringify(n)):A.body=n,e!=null&&e.duplex&&(A.duplex=e.duplex),Object.assign(Object.assign({},A),r))};function Dl(t,e,r,n,A,i){return ge(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(r,bF(e,n,A,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>EF(u,c,n))})})}function ml(t,e,r,n){return ge(this,void 0,void 0,function*(){return Dl(t,"GET",e,r,n)})}function Nn(t,e,r,n,A){return ge(this,void 0,void 0,function*(){return Dl(t,"POST",e,n,A,r)})}function Z0(t,e,r,n,A){return ge(this,void 0,void 0,function*(){return Dl(t,"PUT",e,n,A,r)})}function _F(t,e,r,n){return ge(this,void 0,void 0,function*(){return Dl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function P1(t,e,r,n,A){return ge(this,void 0,void 0,function*(){return Dl(t,"DELETE",e,n,A,r)})}class IF{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xt(e))return{data:null,error:e};throw e}})}}var wv;class SF{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[wv]="BlobDownloadBuilder",this.promise=null}asStream(){return new IF(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xt(e))return{data:null,error:e};throw e}})}}wv=Symbol.toStringTag;const FF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TF{constructor(e,r={},n,A){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=L1(A)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,A){return ge(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},hm),A);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),u&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(u))):(i=n,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),A!=null&&A.headers&&(c=Object.assign(Object.assign({},c),A.headers));const d=this._removeEmptyFolders(r),p=this._getFinalPath(d),m=yield(e=="PUT"?Z0:Nn)(this.fetch,`${this.url}/object/${p}`,i,Object.assign({headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,A){return ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",r);try{let u;const d=Object.assign({upsert:hm.upsert},A),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType);const m=yield Z0(this.fetch,c.toString(),u,{headers:p});return{data:{path:i,fullPath:m.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(xt(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const A=Object.assign({},this.headers);r!=null&&r.upsert&&(A["x-upsert"]="true");const i=yield Nn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:A}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new Gh("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}update(e,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ge(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(xt(A))return{data:null,error:A};throw A}})}copy(e,r,n){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield Nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(xt(A))return{data:null,error:A};throw A}})}createSignedUrl(e,r,n){return ge(this,void 0,void 0,function*(){try{let A=this._getFinalPath(e),i=yield Nn(this.fetch,`${this.url}/object/sign/${A}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(xt(A))return{data:null,error:A};throw A}})}createSignedUrls(e,r,n){return ge(this,void 0,void 0,function*(){try{const A=yield Nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:A.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(xt(A))return{data:null,error:A};throw A}})}download(e,r){const A=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",c=this._getFinalPath(e),u=()=>ml(this.fetch,`${this.url}/${A}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new SF(u,this.shouldThrowOnError)}info(e){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ml(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:J0(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}exists(e){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield _F(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n)&&n instanceof Y0){const A=n.originalError;if([400,404].includes(A==null?void 0:A.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),A=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&A.push(i);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&A.push(u);let d=A.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${d}`)}}}remove(e){return ge(this,void 0,void 0,function*(){try{return{data:yield P1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}list(e,r,n){return ge(this,void 0,void 0,function*(){try{const A=Object.assign(Object.assign(Object.assign({},FF),r),{prefix:e||""});return{data:yield Nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,A,{headers:this.headers},n),error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(xt(A))return{data:null,error:A};throw A}})}listV2(e,r){return ge(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Nn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const mv="2.86.0",Bv={"X-Client-Info":`storage-js/${mv}`};class UF{constructor(e,r={},n,A){this.shouldThrowOnError=!1;const i=new URL(e);A!=null&&A.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bv),r),this.fetch=L1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ge(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ml(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}getBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}createBucket(e){return ge(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Nn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(xt(A))return{data:null,error:A};throw A}})}updateBucket(e,r){return ge(this,void 0,void 0,function*(){try{return{data:yield Z0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield P1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Bl=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function QF(t,e,r){const n=new URL(e,t);if(r)for(const[A,i]of Object.entries(r))i!==void 0&&n.searchParams.set(A,i);return n.toString()}async function OF(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function NF(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:A,body:i,headers:o}){const c=QF(t.baseUrl,n,A),u=await OF(t.auth),d=await e(c,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...u,...o},body:i?JSON.stringify(i):void 0}),p=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),x=m&&p?JSON.parse(p):p;if(!d.ok){const C=m?x:void 0,E=C==null?void 0:C.error;throw new Bl((E==null?void 0:E.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:C})}return{status:d.status,headers:d.headers,data:x}}}}function bc(t){return t.join("")}var RF=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:bc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bc(t.namespace)}`}),!0}catch(e){if(e instanceof Bl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Bl&&r.status===409)return;throw r}}};function Fs(t){return t.join("")}var MF=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fs(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Bl&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Bl&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},DF=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=NF({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new RF(this.client,e),this.tableOps=new MF(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class kF{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bv),r),this.fetch=L1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}listBuckets(e){return ge(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),A=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ml(this.fetch,A,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield P1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}from(e){if(!vF(e))throw new Gh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new DF({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ge(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const H1={"X-Client-Info":`storage-js/${mv}`,"Content-Type":"application/json"};class xv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function en(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class af extends xv{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class LF extends xv{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var dm;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(dm||(dm={}));const j1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),PF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HF=(t,e,r)=>ge(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const A=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const c=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||A+"";e(new af(fm(o),A,c))}).catch(()=>{const o=A+"",c=i.statusText||`HTTP ${A} error`;e(new af(c,A,o))});else{const o=A+"",c=i.statusText||`HTTP ${A} error`;e(new af(c,A,o))}}else e(new LF(fm(t),t))}),jF=(t,e,r,n)=>{const A={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(PF(n)?(A.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),A.body=JSON.stringify(n)):A.body=n,Object.assign(Object.assign({},A),r)):A};function KF(t,e,r,n,A,i){return ge(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(r,jF(e,n,A,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>HF(u,c,n))})})}function tn(t,e,r,n,A){return ge(this,void 0,void 0,function*(){return KF(t,"POST",e,n,A,r)})}class VF{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},H1),r),this.fetch=j1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ge(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ge(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}})}listIndexes(e){return ge(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ge(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}})}}class zF{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},H1),r),this.fetch=j1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ge(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}getVectors(e){return ge(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}listVectors(e){return ge(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield tn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}queryVectors(e){return ge(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ge(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}}class GF{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},H1),r),this.fetch=j1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}getBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}listBuckets(){return ge(this,arguments,void 0,function*(e={}){try{return{data:yield tn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}}class WF extends GF{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new XF(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ge(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ge(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ge(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ge(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class XF extends VF{constructor(e,r,n,A){super(e,r,A),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ge(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ge(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ge(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ge(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new YF(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class YF extends zF{constructor(e,r,n,A,i){super(e,r,i),this.vectorBucketName=n,this.indexName=A}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ge(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ge(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ge(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ge(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ge(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class JF extends UF{constructor(e,r={},n,A){super(e,r,n,A)}from(e){return new TF(this.url,this.headers,e,this.fetch)}get vectors(){return new WF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kF(this.url+"/iceberg",this.headers,this.fetch)}}const ZF="2.86.0";let xa="";typeof Deno<"u"?xa="deno":typeof document<"u"?xa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xa="react-native":xa="node";const qF={"X-Client-Info":`supabase-js-${xa}/${ZF}`},$F={headers:qF},eT={schema:"public"},tT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rT={},nT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),AT=()=>Headers,iT=(t,e,r)=>{const n=nT(r),A=AT();return async(i,o)=>{var c;const u=(c=await e())!==null&&c!==void 0?c:t;let d=new A(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:d}))}};function sT(t){return t.endsWith("/")?t:t+"/"}function oT(t,e){var r,n;const{db:A,auth:i,realtime:o,global:c}=t,{db:u,auth:d,realtime:p,global:m}=e,x={db:Object.assign(Object.assign({},u),A),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},p),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function aT(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sT(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yv="2.86.0",Ks=30*1e3,q0=3,lf=q0*Ks,lT="http://localhost:9999",cT="supabase.auth.token",uT={"X-Client-Info":`gotrue-js/${yv}`},$0="X-Supabase-Api-Version",Cv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dT=10*60*1e3;class xl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class fT extends xl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function gT(t){return Be(t)&&t.name==="AuthApiError"}class Wi extends xl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Si extends xl{constructor(e,r,n,A){super(e,n,A),this.name=r,this.status=n}}class Yr extends Si{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pT(t){return Be(t)&&t.name==="AuthSessionMissingError"}class Ts extends Si{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _c extends Si{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ic extends Si{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wT(t){return Be(t)&&t.name==="AuthImplicitGrantRedirectError"}class gm extends Si{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eg extends Si{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function cf(t){return Be(t)&&t.name==="AuthRetryableFetchError"}class pm extends Si{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tg extends Si{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const nh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wm=` 	
\r=`.split(""),mT=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wm.length;e+=1)t[wm[e].charCodeAt(0)]=-2;for(let e=0;e<nh.length;e+=1)t[nh[e].charCodeAt(0)]=e;return t})();function mm(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(nh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(nh[n]),e.queuedBits-=6}}function vv(t,e,r){const n=mT[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Bm(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},A={queue:0,queuedBits:0},i=o=>{yT(o,n,r)};for(let o=0;o<t.length;o+=1)vv(t.charCodeAt(o),A,i);return e.join("")}function BT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function xT(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const A=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|A)+65536,r+=1}BT(n,e)}}function yT(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function fo(t){const e=[],r={queue:0,queuedBits:0},n=A=>{e.push(A)};for(let A=0;A<t.length;A+=1)vv(t.charCodeAt(A),r,n);return new Uint8Array(e)}function CT(t){const e=[];return xT(t,r=>e.push(r)),new Uint8Array(e)}function $i(t){const e=[],r={queue:0,queuedBits:0},n=A=>{e.push(A)};return t.forEach(A=>mm(A,r,n)),mm(null,r,n),e.join("")}function vT(t){return Math.round(Date.now()/1e3)+t}function ET(){return Symbol("auth-callback")}const nr=()=>typeof window<"u"&&typeof document<"u",Ri={tested:!1,writable:!1},Ev=()=>{if(!nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ri.tested)return Ri.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ri.tested=!0,Ri.writable=!0}catch{Ri.tested=!0,Ri.writable=!1}return Ri.writable};function bT(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((A,i)=>{e[i]=A})}catch{}return r.searchParams.forEach((n,A)=>{e[A]=n}),e}const bv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_T=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Vs=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Mi=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},LA=async(t,e)=>{await t.removeItem(e)};class Wh{constructor(){this.promise=new Wh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Wh.promiseConstructor=Promise;function uf(t){const e=t.split(".");if(e.length!==3)throw new tg("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!hT.test(e[n]))throw new tg("JWT not in base64url format");return{header:JSON.parse(Bm(e[0])),payload:JSON.parse(Bm(e[1])),signature:fo(e[2]),raw:{header:e[0],payload:e[1]}}}async function IT(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ST(t,e){return new Promise((n,A)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){A(o);return}}})()})}function FT(t){return("0"+t.toString(16)).substr(-2)}function TT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let A="";for(let i=0;i<56;i++)A+=r.charAt(Math.floor(Math.random()*n));return A}return crypto.getRandomValues(e),Array.from(e,FT).join("")}async function UT(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),A=new Uint8Array(n);return Array.from(A).map(i=>String.fromCharCode(i)).join("")}async function QT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await UT(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Us(t,e,r=!1){const n=TT();let A=n;r&&(A+="/PASSWORD_RECOVERY"),await Vs(t,`${e}-code-verifier`,A);const i=await QT(n);return[i,n===i?"plain":"s256"]}const OT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NT(t){const e=t.headers.get($0);if(!e||!e.match(OT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function RT(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function MT(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qs(t){if(!DT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hf(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kT(t,e){return new Proxy(t,{get:(r,n,A)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,A)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,A)}})}function xm(t){return JSON.parse(JSON.stringify(t))}const Ki=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),LT=[502,503,504];async function ym(t){var e;if(!_T(t))throw new eg(Ki(t),0);if(LT.includes(t.status))throw new eg(Ki(t),t.status);let r;try{r=await t.json()}catch(i){throw new Wi(Ki(i),i)}let n;const A=NT(t);if(A&&A.getTime()>=Cv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new pm(Ki(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Yr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new pm(Ki(r),t.status,r.weak_password.reasons);throw new fT(Ki(r),t.status||500,n)}const PT=(t,e,r,n)=>{const A={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?A:(A.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),A.body=JSON.stringify(n),Object.assign(Object.assign({},A),r))};async function Ee(t,e,r,n){var A;const i=Object.assign({},n==null?void 0:n.headers);i[$0]||(i[$0]=Cv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(A=n==null?void 0:n.query)!==null&&A!==void 0?A:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await HT(t,e,r+c,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function HT(t,e,r,n,A,i){const o=PT(e,n,A,i);let c;try{c=await t(r,Object.assign({},o))}catch(u){throw console.error(u),new eg(Ki(u),0)}if(c.ok||await ym(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(u){await ym(u)}}function Un(t){var e;let r=null;VT(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=vT(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Cm(t){const e=Un(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function YA(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function jT(t){return{data:t,error:null}}function KT(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:A,verification_type:i}=t,o=No(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:A,verification_type:i},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function vm(t){return t}function VT(t){return t.access_token&&t.refresh_token&&t.expires_in}const df=["global","local","others"];class zT{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=bv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=df[0]){if(df.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${df.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:YA})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=No(e,["options"]),A=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(A.new_email=n==null?void 0:n.newEmail,delete A.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:A,headers:this.headers,xform:KT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:YA})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,A,i,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},p=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(A=e==null?void 0:e.perPage)===null||A===void 0?void 0:A.toString())!==null&&i!==void 0?i:""},xform:vm});if(p.error)throw p.error;const m=await p.json(),x=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,C=(u=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return C.length>0&&(C.forEach(E=>{const v=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(E.split(";")[1].split("=")[1]);d[`${F}Page`]=v}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Be(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Qs(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:YA})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Qs(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:YA})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Qs(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:YA})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Qs(e.userId);try{const{data:r,error:n}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:A=>({data:{factors:A},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Qs(e.userId),Qs(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,A,i,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},p=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(A=e==null?void 0:e.perPage)===null||A===void 0?void 0:A.toString())!==null&&i!==void 0?i:""},xform:vm});if(p.error)throw p.error;const m=await p.json(),x=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,C=(u=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return C.length>0&&(C.forEach(E=>{const v=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(E.split(";")[1].split("=")[1]);d[`${F}Page`]=v}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Be(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function Em(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Os={debug:!!(globalThis&&Ev()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _v extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class GT extends _v{}async function WT(t,e,r){Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async A=>{if(A){Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,A.name);try{return await r()}finally{Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,A.name)}}else{if(e===0)throw Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new GT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Os.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function XT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Iv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function YT(t){return parseInt(t,16)}function JT(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function ZT(t){var e;const{chainId:r,domain:n,expirationTime:A,issuedAt:i=new Date,nonce:o,notBefore:c,requestId:u,resources:d,scheme:p,uri:m,version:x}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const C=Iv(t.address),E=p?`${p}://${n}`:n,v=t.statement?`${t.statement}
`:"",F=`${E} wants you to sign in with your Ethereum account:
${C}

${v}`;let S=`URI: ${m}
Version: ${x}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(A&&(S+=`
Expiration Time: ${A.toISOString()}`),c&&(S+=`
Not Before: ${c.toISOString()}`),u&&(S+=`
Request ID: ${u}`),d){let I=`
Resources:`;for(const T of d){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);I+=`
- ${T}`}S+=I}return`${F}
${S}`}class Rt extends Error{constructor({message:e,code:r,cause:n,name:A}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=A??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ah extends Rt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function qT({error:t,options:e}){var r,n,A;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((A=i.authenticatorSelection)===null||A===void 0?void 0:A.userVerification)==="required")return new Rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Sv(o)){if(i.rp.id!==o)return new Rt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $T({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Sv(n)){if(r.rpId!==n)return new Rt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class e3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const t3=new e3;function r3(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,A=No(t,["challenge","user","excludeCredentials"]),i=fo(e).buffer,o=Object.assign(Object.assign({},r),{id:fo(r.id).buffer}),c=Object.assign(Object.assign({},A),{challenge:i,user:o});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];c.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:fo(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function n3(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=No(t,["challenge","allowCredentials"]),A=fo(e).buffer,i=Object.assign(Object.assign({},n),{challenge:A});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const c=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},c),{id:fo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function A3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:$i(new Uint8Array(t.response.attestationObject)),clientDataJSON:$i(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function i3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),A=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:$i(new Uint8Array(A.authenticatorData)),clientDataJSON:$i(new Uint8Array(A.clientDataJSON)),signature:$i(new Uint8Array(A.signature)),userHandle:A.userHandle?$i(new Uint8Array(A.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Sv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function bm(){var t,e;return!!(nr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function s3(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ah("Browser returned unexpected credential type",e)}:{data:null,error:new Ah("Empty credential response",e)}}catch(e){return{data:null,error:qT({error:e,options:t})}}}async function o3(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ah("Browser returned unexpected credential type",e)}:{data:null,error:new Ah("Empty credential response",e)}}catch(e){return{data:null,error:$T({error:e,options:t})}}}const a3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},l3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ih(...t){const e=A=>A!==null&&typeof A=="object"&&!Array.isArray(A),r=A=>A instanceof ArrayBuffer||ArrayBuffer.isView(A),n={};for(const A of t)if(A)for(const i in A){const o=A[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const c=n[i];e(c)?n[i]=ih(c,o):n[i]=ih(o)}else n[i]=o}return n}function c3(t,e){return ih(a3,t,e||{})}function u3(t,e){return ih(l3,t,e||{})}class h3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:A},i){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:c};const u=A??t3.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=c3(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:p,error:m}=await s3({publicKey:d,signal:u});return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const d=u3(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:p,error:m}=await o3(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new Wi("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:A}={}},i){if(!r)return{data:null,error:new xl("rpId is required for WebAuthn authentication")};try{if(!bm())return{data:null,error:new Wi("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:A},{request:i});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new Wi("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:A}={}},i){if(!r)return{data:null,error:new xl("rpId is required for WebAuthn registration")};try{if(!bm())return{data:null,error:new Wi("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:c};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:A},{create:i});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new Wi("Unexpected error in register",o)}}}}XT();const d3={url:lT,storageKey:cT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function _m(t,e,r){return await r()}const Ns={};class yl{get jwks(){var e,r;return(r=(e=Ns[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ns[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,A;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},d3),e);if(this.storageKey=i.storageKey,this.instanceID=(r=yl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,yl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&nr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new zT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=bv(i.fetch),this.lock=i.lock||_m,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:nr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=WT:this.lock=_m,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new h3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Ev()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Em(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Em(this.memoryStorage)),nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(A=this.broadcastChannel)===null||A===void 0||A.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${yv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(nr()&&(r=bT(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),nr()&&this.detectSessionInUrl&&n!=="none"){const{data:A,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),wT(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=A;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?this._returnResult({error:r}):this._returnResult({error:new Wi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,A;try{const i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(A=e==null?void 0:e.options)===null||A===void 0?void 0:A.captchaToken}},xform:Un}),{data:o,error:c}=i;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,A;try{let i;if("email"in e){const{email:p,password:m,options:x}=e;let C=null,E=null;this.flowType==="pkce"&&([C,E]=await Us(this.storage,this.storageKey)),i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:p,password:m,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:C,code_challenge_method:E},xform:Un})}else if("phone"in e){const{phone:p,password:m,options:x}=e;i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},channel:(A=x==null?void 0:x.channel)!==null&&A!==void 0?A:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Un})}else throw new _c("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:c}=e;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Cm})}else if("phone"in e){const{phone:i,password:o,options:c}=e;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Cm})}else throw new _c("You must provide either an email or phone number and a password");const{data:n,error:A}=r;if(A)return this._returnResult({data:{user:null,session:null},error:A});if(!n||!n.session||!n.user){const i=new Ts;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:A})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,A,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(A=e.options)===null||A===void 0?void 0:A.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,A,i,o,c,u,d,p,m,x;let C,E;if("message"in e)C=e.message,E=e.signature;else{const{chain:v,wallet:F,statement:S,options:I}=e;let T;if(nr())if(typeof F=="object")T=F;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")T=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof F!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=F}const N=new URL((r=I==null?void 0:I.url)!==null&&r!==void 0?r:window.location.href),L=await T.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Iv(L[0]);let D=(n=I==null?void 0:I.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const H=await T.request({method:"eth_chainId"});D=YT(H)}const K={domain:N.host,address:k,statement:S,uri:N.href,version:"1",chainId:D,nonce:(A=I==null?void 0:I.signInWithEthereum)===null||A===void 0?void 0:A.nonce,issuedAt:(o=(i=I==null?void 0:I.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=I==null?void 0:I.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=I==null?void 0:I.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=I==null?void 0:I.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(p=I==null?void 0:I.signInWithEthereum)===null||p===void 0?void 0:p.resources};C=ZT(K),E=await T.request({method:"personal_sign",params:[JT(C),k]})}try{const{data:v,error:F}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:E},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Un});if(F)throw F;if(!v||!v.session||!v.user){const S=new Ts;return this._returnResult({data:{user:null,session:null},error:S})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:F})}catch(v){if(Be(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,A,i,o,c,u,d,p,m,x,C;let E,v;if("message"in e)E=e.message,v=e.signature;else{const{chain:F,wallet:S,statement:I,options:T}=e;let N;if(nr())if(typeof S=="object")N=S;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))N=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=S}const L=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const k=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),I?{statement:I}:null));let D;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")D=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)D=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)E=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),v=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${L.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(A=(n=T==null?void 0:T.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&A!==void 0?A:new Date().toISOString()}`,...!((i=T==null?void 0:T.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((m=(p=T==null?void 0:T.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...T.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const k=await N.signMessage(new TextEncoder().encode(E),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:F,error:S}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:$i(v)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Un});if(S)throw S;if(!F||!F.session||!F.user){const I=new Ts;return this._returnResult({data:{user:null,session:null},error:I})}return F.session&&(await this._saveSession(F.session),await this._notifyAllSubscribers("SIGNED_IN",F.session)),this._returnResult({data:Object.assign({},F),error:S})}catch(F){if(Be(F))return this._returnResult({data:{user:null,session:null},error:F});throw F}}async _exchangeCodeForSession(e){const r=await Mi(this.storage,`${this.storageKey}-code-verifier`),[n,A]=(r??"").split("/");try{const{data:i,error:o}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Un});if(await LA(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const c=new Ts;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:A??null}),error:o})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:A,access_token:i,nonce:o}=e,c=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:A,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Un}),{data:u,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const p=new Ts;return this._returnResult({data:{user:null,session:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,A,i,o;try{if("email"in e){const{email:c,options:u}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await Us(this.storage,this.storageKey));const{error:m}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:c,options:u}=e,{data:d,error:p}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(A=u==null?void 0:u.data)!==null&&A!==void 0?A:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p})}throw new _c("You must provide either an email or phone number.")}catch(c){if(Be(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,n;try{let A,i;"options"in e&&(A=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:A,xform:Un});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(A){if(Be(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSSO(e){var r,n,A,i,o;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Us(this.storage,this.storageKey));const d=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((A=e==null?void 0:e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:jT});return!((i=d.data)===null||i===void 0)&&i.url&&nr()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(Be(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Yr;const{error:A}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:A})})}catch(e){if(Be(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:A,options:i}=e,{error:o}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:A,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:A,options:i}=e,{data:o,error:c}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:A,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c})}throw new _c("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),A=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await A}catch{}})()),A}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const A=[...this.pendingInLock];await Promise.all(A),this.pendingInLock.splice(0,A.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Mi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<lf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Mi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=hf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=kT(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:A,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:A},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:YA}):await this._useSession(async r=>{var n,A,i;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yr}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(A=o.session)===null||A===void 0?void 0:A.access_token)!==null&&i!==void 0?i:void 0,xform:YA})})}catch(r){if(Be(r))return pT(r)&&(await this._removeSession(),await LA(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:A,error:i}=n;if(i)throw i;if(!A.session)throw new Yr;const o=A.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await Us(this.storage,this.storageKey));const{data:d,error:p}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:YA});if(p)throw p;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(Be(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yr;const r=Date.now()/1e3;let n=r,A=!0,i=null;const{payload:o}=uf(e.access_token);if(o.exp&&(n=o.exp,A=n<=r),A){const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:c}=r;if(c)throw c;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Yr;const{data:A,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):A?this._returnResult({data:{user:A.user,session:A},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!nr())throw new Ic("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ic(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ic("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gm("No code detected.");const{data:I,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:A,access_token:i,refresh_token:o,expires_in:c,expires_at:u,token_type:d}=e;if(!i||!c||!o||!d)throw new Ic("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(c);let x=p+m;u&&(x=parseInt(u));const C=x-p;C*1e3<=Ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${m}s`);const E=x-m;p-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,x,p):p-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,x,p);const{data:v,error:F}=await this._getUser(i);if(F)throw F;const S={provider_token:n,provider_refresh_token:A,access_token:i,expires_in:m,expires_at:x,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:e.type},error:null})}catch(n){if(Be(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Mi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:A,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=A.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(gT(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await LA(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=ET(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,A;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((A=this.stateChangeEmitters.get(e))===null||A===void 0?void 0:A.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,A=null;this.flowType==="pkce"&&([n,A]=await Us(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:A,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Be(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:A}=await this._useSession(async i=>{var o,c,u,d,p;const{data:m,error:x}=i;if(x)throw x;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",C,{headers:this.headers,jwt:(p=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(A)throw A;return nr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Be(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:A,data:{session:i}}=r;if(A)throw A;const{options:o,provider:c,token:u,access_token:d,nonce:p}=e,m=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:u,access_token:d,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Un}),{data:x,error:C}=m;return C?this._returnResult({data:{user:null,session:null},error:C}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Ts}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:C}))}catch(A){if(Be(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,A;const{data:i,error:o}=r;if(o)throw o;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(A=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&A!==void 0?A:void 0})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ST(async A=>(A>0&&await IT(200*Math.pow(2,A-1)),this._debug(r,"refreshing attempt",A),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Un})),(A,i)=>{const o=200*Math.pow(2,A);return i&&cf(i)&&Date.now()+o-n<Ks})}catch(n){if(this._debug(r,"error",n),Be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),nr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const A=await Mi(this.storage,this.storageKey);if(A&&this.userStorage){let o=await Mi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:A.user},await Vs(this.userStorage,this.storageKey+"-user",o)),A.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:hf()}else if(A&&!A.user&&!A.user){const o=await Mi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(A.user=o.user,await LA(this.storage,this.storageKey+"-user"),await Vs(this.storage,this.storageKey,A)):A.user=hf()}if(this._debug(n,"session from storage",A),!this._isValidSession(A)){this._debug(n,"session is not valid"),A!==null&&await this._removeSession();return}const i=((r=A.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<lf;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${lf}s`),i){if(this.autoRefreshToken&&A.refresh_token){const{error:o}=await this._callRefreshToken(A.refresh_token);o&&(console.error(o),cf(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(A.user&&A.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(A.access_token);!c&&(o!=null&&o.user)?(A.user=o.user,await this._saveSession(A),await this._notifyAllSubscribers("SIGNED_IN",A)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",A)}catch(A){this._debug(n,"error",A),console.error(A);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Yr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const A=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(A,"begin");try{this.refreshingDeferred=new Wh;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Yr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(A,"error",i),Be(i)){const o={data:null,error:i};return cf(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(A,"end")}}async _notifyAllSubscribers(e,r,n=!0){const A=`#_notifyAllSubscribers(${e})`;this._debug(A,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(A,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Vs(this.userStorage,this.storageKey+"-user",{user:r.user});const A=Object.assign({},r);delete A.user;const i=xm(A);await Vs(this.storage,this.storageKey,i)}else{const A=xm(r);await Vs(this.storage,this.storageKey,A)}}async _removeSession(){this._debug("#_removeSession()"),await LA(this.storage,this.storageKey),await LA(this.storage,this.storageKey+"-code-verifier"),await LA(this.storage,this.storageKey+"-user"),this.userStorage&&await LA(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ks);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const A=Math.floor((n.expires_at*1e3-e)/Ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${A} ticks, a tick lasts ${Ks}ms, refresh threshold is ${q0} ticks`),A<=q0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _v)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const A=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&A.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&A.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Us(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});A.push(c.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);A.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&A.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${A.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:A,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=A==null?void 0:A.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,A;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:d}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&u.type==="totp"&&(!((A=u==null?void 0:u.totp)===null||A===void 0)&&A.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:A,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?A3(e.webauthn.credential_response):i3(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:u}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=A==null?void 0:A.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:A,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=A==null?void 0:A.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:r3(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:n3(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const A={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])A.all.push(i),i.status==="verified"&&A[i.factor_type].push(i);return{data:A,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:A}=await this.getSession();if(A)return this._returnResult({data:null,error:A});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=uf(n.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:A}=r;return A?this._returnResult({data:null,error:A}):n?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Yr})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:A},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!A)return this._returnResult({data:null,error:new Yr});const o=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:A.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&nr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:A},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!A)return this._returnResult({data:null,error:new Yr});const o=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:A.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&nr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:A=>({data:A,error:null})}):this._returnResult({data:null,error:new Yr})})}catch(e){if(Be(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:A}=r;return A?this._returnResult({data:null,error:A}):n?(await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yr})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const A=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+dT>A)return n;const{data:i,error:o}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=A,n=i.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:C,error:E}=await this.getSession();if(E||!C.session)return this._returnResult({data:null,error:E});n=C.session.access_token}const{header:A,payload:i,signature:o,raw:{header:c,payload:u}}=uf(n);r!=null&&r.allowExpired||RT(i.exp);const d=!A.alg||A.alg.startsWith("HS")||!A.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(A.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:C}=await this.getUser(n);if(C)throw C;return{data:{claims:i,header:A,signature:o},error:null}}const p=MT(A.alg),m=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,o,CT(`${c}.${u}`)))throw new tg("Invalid JWT signature");return{data:{claims:i,header:A,signature:o},error:null}}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}}yl.nextInstanceID={};const f3=yl;class g3 extends f3{constructor(e){super(e)}}class p3{constructor(e,r,n){var A,i,o;this.supabaseUrl=e,this.supabaseKey=r;const c=aT(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:eT,realtime:rT,auth:Object.assign(Object.assign({},tT),{storageKey:u}),global:$F},p=oT(n??{},d);this.storageKey=(A=p.auth.storageKey)!==null&&A!==void 0?A:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=iT(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new rF(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new JF(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new $4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:A,userStorage:i,storageKey:o,flowType:c,lock:u,debug:d,throwOnError:p},m,x){const C={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new g3({url:this.authUrl.href,headers:Object.assign(Object.assign({},C),m),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:A,userStorage:i,flowType:c,lock:u,debug:d,throwOnError:p,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new BF(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const w3=(t,e,r)=>new p3(t,e,r);function m3(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}m3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const B3="https://hfnxsqemyrmuxahkstkn.supabase.co",x3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmbnhzcWVteXJtdXhhaGtzdGtuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzNzUyNDIsImV4cCI6MjA3OTk1MTI0Mn0.WzXw6WYTp3f8VajX2evF-VRx726ErM7XKpqyxLhHcxw",kr=w3(B3,x3),Fv=Y.createContext(),Wr=()=>Y.useContext(Fv),y3=({children:t})=>{const[e,r]=Y.useState([]),[n,A]=Y.useState([]),[i,o]=Y.useState(!0);Y.useEffect(()=>{c()},[]);const c=async()=>{try{o(!0);const{data:v,error:F}=await kr.from("products").select("*").order("name");if(F)throw F;r(v);const{data:S,error:I}=await kr.from("categories").select("*").order("name");if(I)throw I;A(S.map(T=>T.name))}catch(v){console.error("Error fetching inventory:",v)}finally{o(!1)}},E={products:e,categories:n,loading:i,addProduct:async v=>{const{data:F,error:S}=await kr.from("products").insert([{name:v.name,sku:v.sku,category:v.category,description:v.description,price:Number(v.price),cost:Number(v.cost),stock:Number(v.stock),min_stock:Number(v.minStock)}]).select().single();if(S)throw S;r(I=>[...I,F])},updateProduct:async(v,F)=>{const{data:S,error:I}=await kr.from("products").update({name:F.name,sku:F.sku,category:F.category,description:F.description,price:Number(F.price),cost:Number(F.cost),stock:Number(F.stock),min_stock:Number(F.minStock)}).eq("id",v).select().single();if(I)throw I;r(T=>T.map(N=>N.id===v?S:N))},deleteProduct:async v=>{const{error:F}=await kr.from("products").delete().eq("id",v);if(F)throw F;r(S=>S.filter(I=>I.id!==v))},getProduct:v=>e.find(F=>F.id===v),addCategory:async v=>{if(n.includes(v))return;const{error:F}=await kr.from("categories").insert([{name:v}]);if(F)throw F;A(S=>[...S,v])},deleteCategory:async v=>{if(e.some(I=>I.category===v))throw new Error(`No se puede eliminar la categora "${v}" porque tiene productos asignados.`);const{error:S}=await kr.from("categories").delete().eq("name",v);if(S)throw S;A(I=>I.filter(T=>T!==v))}};return _.jsx(Fv.Provider,{value:E,children:t})},Tv=Y.createContext(),Xh=()=>Y.useContext(Tv),C3=({children:t})=>{const[e,r]=Y.useState([]),{products:n}=Wr();Y.useEffect(()=>{A()},[]);const A=async()=>{const{data:c,error:u}=await kr.from("movements").select(`
        *,
        products (name, sku)
      `).order("date",{ascending:!1});if(u)console.error("Error fetching movements:",u);else{const d=c.map(p=>{var m,x;return{...p,productId:p.product_id,productName:((m=p.products)==null?void 0:m.name)||"Producto Eliminado",productSku:((x=p.products)==null?void 0:x.sku)||"---"}});r(d)}},o={movements:e,addMovement:async c=>{const{data:u,error:d}=await kr.from("movements").insert([{product_id:c.productId,type:c.type,quantity:Number(c.quantity),date:new Date().toISOString(),notes:c.notes}]).select().single();if(d)throw d;const p=n.find(m=>m.id===c.productId);if(p){const m=c.type==="IN"?Number(p.stock)+Number(c.quantity):Number(p.stock)-Number(c.quantity),{error:x}=await kr.from("products").update({stock:m}).eq("id",c.productId);x&&console.error("Error updating stock:",x)}await A()}};return _.jsx(Tv.Provider,{value:o,children:t})},Uv=Y.createContext(),Qv=()=>Y.useContext(Uv),v3=({children:t})=>{const[e,r]=Y.useState([]),{products:n}=Wr(),{addMovement:A}=Xh();Y.useEffect(()=>{i()},[]);const i=async()=>{const{data:p,error:m}=await kr.from("assemblies").select(`
        *,
        products (name, sku),
        assembly_components (
          component_id,
          quantity,
          products (name, sku)
        )
      `).order("name");if(m)console.error("Error fetching assemblies:",m);else{const x=p.map(C=>{var E;return{id:C.id,name:C.name,productId:C.product_id,productName:(E=C.products)==null?void 0:E.name,components:C.assembly_components.map(v=>{var F;return{productId:v.component_id,quantity:v.quantity,productName:(F=v.products)==null?void 0:F.name}})}});r(x)}},d={assemblies:e,addAssembly:async p=>{const{data:m,error:x}=await kr.from("assemblies").insert([{name:p.name,product_id:p.productId}]).select().single();if(x)throw x;const C=p.components.map(v=>({assembly_id:m.id,component_id:v.productId,quantity:Number(v.quantity)})),{error:E}=await kr.from("assembly_components").insert(C);if(E)throw E;await i()},deleteAssembly:async p=>{const{error:m}=await kr.from("assemblies").delete().eq("id",p);if(m)throw m;r(x=>x.filter(C=>C.id!==p))},produceAssembly:async(p,m)=>{const x=e.find(C=>C.id===p);if(!x)throw new Error("Ensamble no encontrado");await A({productId:x.productId,type:"IN",quantity:m,notes:`Produccin de ensamble: ${x.name}`});for(const C of x.components)await A({productId:C.productId,type:"OUT",quantity:C.quantity*m,notes:`Componente para ensamble: ${x.name}`})}};return _.jsx(Uv.Provider,{value:d,children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ft=(t,e)=>{const r=Y.forwardRef(({color:n="currentColor",size:A=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:u,...d},p)=>Y.createElement("svg",{ref:p,...E3,width:A,height:A,stroke:n,strokeWidth:o?Number(i)*24/Number(A):i,className:["lucide",`lucide-${b3(t)}`,c].join(" "),...d},[...e.map(([m,x])=>Y.createElement(m,x)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=ft("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=ft("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=ft("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=ft("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=ft("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=ft("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=ft("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=ft("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=ft("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=ft("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=ft("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=ft("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=ft("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=ft("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=ft("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=ft("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=ft("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=ft("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),L3=({children:t})=>{const[e,r]=Yi.useState(!1),n=Ml(),A=()=>r(!e),i=[{icon:N3,label:"Dashboard",path:"/"},{icon:K1,label:"Inventario",path:"/inventory"},{icon:Q3,label:"Movimientos",path:"/movements"},{icon:O3,label:"Ensambles",path:"/assemblies"},{icon:ng,label:"Etiquetas QR",path:"/qr-generator"},{icon:U3,label:"Reportes",path:"/reports"},{icon:Nv,label:"Configuracin",path:"/settings"}];return _.jsxs("div",{className:"layout",children:[_.jsxs("header",{className:"mobile-header",children:[_.jsx("button",{className:"menu-btn",onClick:A,children:_.jsx(R3,{size:24})}),_.jsx("span",{className:"logo",children:"Sistema de Inventarios"})]}),_.jsxs("aside",{className:`sidebar ${e?"open":""}`,children:[_.jsxs("div",{className:"sidebar-header",children:[_.jsx("span",{className:"logo",children:"Sistema de Inventarios"}),_.jsx("button",{className:"close-btn",onClick:A,children:_.jsx(Mv,{size:24})})]}),_.jsx("nav",{className:"sidebar-nav",children:i.map(o=>{const c=o.icon,u=n.pathname===o.path;return _.jsxs(xi,{to:o.path,className:`nav-item ${u?"active":""}`,onClick:()=>r(!1),children:[_.jsx(c,{size:20}),_.jsx("span",{children:o.label})]},o.path)})})]}),_.jsx("main",{className:"main-content",children:t}),e&&_.jsx("div",{className:"sidebar-overlay",onClick:()=>r(!1)}),_.jsx("style",{children:`
        .layout {
          display: flex;
          min-height: 100vh;
          background-color: var(--color-background);
        }

        .mobile-header {
          display: none;
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          height: 60px;
          background: var(--color-surface);
          border-bottom: 1px solid var(--color-border);
          align-items: center;
          padding: 0 var(--spacing-md);
          z-index: 40;
        }

        .sidebar {
          width: 260px;
          background: var(--color-surface);
          border-right: 1px solid var(--color-border);
          display: flex;
          flex-direction: column;
          position: fixed;
          top: 0;
          bottom: 0;
          left: 0;
          z-index: 50;
          transition: transform 0.3s ease;
        }

        .sidebar-header {
          height: 64px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 0 var(--spacing-lg);
          border-bottom: 1px solid var(--color-border);
        }

        .logo {
          font-weight: 700;
          font-size: 1.25rem;
          color: var(--color-primary);
        }

        .sidebar-nav {
          padding: var(--spacing-md);
          display: flex;
          flex-direction: column;
          gap: var(--spacing-xs);
        }

        .nav-item {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          padding: var(--spacing-sm) var(--spacing-md);
          border-radius: var(--radius-md);
          color: var(--color-text-muted);
          font-weight: 500;
          transition: all 0.2s;
        }

        .nav-item:hover {
          background-color: var(--color-background);
          color: var(--color-text);
        }

        .nav-item.active {
          background-color: var(--color-primary);
          color: white;
        }

        .main-content {
          flex: 1;
          margin-left: 260px;
          padding: var(--spacing-xl);
          width: 100%;
        }

        .menu-btn, .close-btn {
          background: none;
          border: none;
          color: var(--color-text);
          cursor: pointer;
        }

        .close-btn {
          display: none;
        }

        @media (max-width: 768px) {
          .mobile-header {
            display: flex;
          }

          .sidebar {
            transform: translateX(-100%);
          }

          .sidebar.open {
            transform: translateX(0);
          }

          .close-btn {
            display: block;
          }

          .main-content {
            margin-left: 0;
            padding-top: 80px; /* Header + spacing */
            padding-left: var(--spacing-md);
            padding-right: var(--spacing-md);
          }

          .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 45;
          }
        }
      `})]})},P3=()=>{const{products:t,deleteProduct:e}=Wr(),[r,n]=Y.useState(""),[A,i]=Y.useState(""),o=t.filter(u=>{const d=u.name.toLowerCase().includes(r.toLowerCase())||u.sku.toLowerCase().includes(r.toLowerCase()),p=A?u.category===A:!0;return d&&p}),c=u=>{window.confirm("Ests seguro de que deseas eliminar este producto?")&&e(u)};return _.jsxs("div",{className:"page-container",children:[_.jsxs("div",{className:"page-header",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"page-title",children:"Inventario"}),_.jsx("p",{className:"page-subtitle",children:"Gestiona tus productos y existencias"})]}),_.jsxs(xi,{to:"/inventory/new",className:"btn btn-primary",children:[_.jsx(Yh,{size:20,style:{marginRight:"8px"}}),"Nuevo Producto"]})]}),_.jsx("div",{className:"filters-bar",children:_.jsxs("div",{className:"search-wrapper",children:[_.jsx(Ov,{size:20,className:"search-icon"}),_.jsx("input",{type:"text",placeholder:"Buscar por nombre o SKU...",className:"search-input",value:r,onChange:u=>n(u.target.value)})]})}),_.jsx("div",{className:"card table-container",children:_.jsxs("table",{className:"data-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Producto"}),_.jsx("th",{children:"SKU"}),_.jsx("th",{children:"Categora"}),_.jsx("th",{children:"Stock"}),_.jsx("th",{children:"Precio"}),_.jsx("th",{children:"Acciones"})]})}),_.jsx("tbody",{children:o.length>0?o.map(u=>_.jsxs("tr",{children:[_.jsxs("td",{children:[_.jsx("div",{className:"product-name",children:u.name}),u.minStock&&u.stock<=u.minStock&&_.jsx("span",{className:"badge badge-warning",children:"Stock Bajo"})]}),_.jsx("td",{children:u.sku}),_.jsx("td",{children:_.jsx("span",{className:"badge",children:u.category})}),_.jsx("td",{className:u.stock<=0?"text-danger":"",children:u.stock}),_.jsxs("td",{children:["$",Number(u.price).toFixed(2)]}),_.jsx("td",{children:_.jsxs("div",{className:"actions-cell",children:[_.jsx(xi,{to:`/inventory/edit/${u.id}`,className:"icon-btn",children:_.jsx(k3,{size:18})}),_.jsx("button",{onClick:()=>c(u.id),className:"icon-btn text-danger",children:_.jsx(Jh,{size:18})})]})})]},u.id)):_.jsx("tr",{children:_.jsx("td",{colSpan:"6",className:"empty-state",children:"No se encontraron productos. Agrega uno nuevo!"})})})]})}),_.jsx("style",{children:`
        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: var(--spacing-xl);
        }

        .page-title {
          font-size: 1.875rem;
          font-weight: 700;
          color: var(--color-text);
        }

        .page-subtitle {
          color: var(--color-text-muted);
        }

        .filters-bar {
          margin-bottom: var(--spacing-lg);
          display: flex;
          gap: var(--spacing-md);
        }

        .search-wrapper {
          position: relative;
          flex: 1;
          max-width: 400px;
        }

        .search-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: var(--color-text-muted);
        }

        .search-input {
          width: 100%;
          padding: 10px 10px 10px 40px;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          font-size: 0.95rem;
          outline: none;
          transition: border-color 0.2s;
        }

        .search-input:focus {
          border-color: var(--color-primary);
          box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
        }

        .table-container {
          padding: 0;
          overflow-x: auto;
        }

        .data-table {
          width: 100%;
          border-collapse: collapse;
          text-align: left;
        }

        .data-table th {
          padding: var(--spacing-md);
          background-color: var(--color-background);
          font-weight: 600;
          color: var(--color-text-muted);
          border-bottom: 1px solid var(--color-border);
        }

        .data-table td {
          padding: var(--spacing-md);
          border-bottom: 1px solid var(--color-border);
          color: var(--color-text);
        }

        .product-name {
          font-weight: 500;
        }

        .badge {
          display: inline-block;
          padding: 2px 8px;
          border-radius: var(--radius-full);
          background-color: var(--color-background);
          font-size: 0.75rem;
          font-weight: 500;
          border: 1px solid var(--color-border);
        }

        .badge-warning {
          background-color: #fffbeb;
          color: #b45309;
          border-color: #fcd34d;
          margin-left: 8px;
        }

        .text-danger {
          color: var(--color-danger);
        }

        .actions-cell {
          display: flex;
          gap: var(--spacing-sm);
        }

        .icon-btn {
          background: none;
          border: none;
          cursor: pointer;
          color: var(--color-text-muted);
          padding: 4px;
          border-radius: var(--radius-sm);
          transition: background-color 0.2s;
        }

        .icon-btn:hover {
          background-color: var(--color-background);
          color: var(--color-text);
        }

        .icon-btn.text-danger:hover {
          background-color: #fef2f2;
          color: var(--color-danger);
        }

        .empty-state {
          text-align: center;
          padding: var(--spacing-xl);
          color: var(--color-text-muted);
        }
      `})]})};var de;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(de||(de={}));var Im=new Map([[de.QR_CODE,"QR_CODE"],[de.AZTEC,"AZTEC"],[de.CODABAR,"CODABAR"],[de.CODE_39,"CODE_39"],[de.CODE_93,"CODE_93"],[de.CODE_128,"CODE_128"],[de.DATA_MATRIX,"DATA_MATRIX"],[de.MAXICODE,"MAXICODE"],[de.ITF,"ITF"],[de.EAN_13,"EAN_13"],[de.EAN_8,"EAN_8"],[de.PDF_417,"PDF_417"],[de.RSS_14,"RSS_14"],[de.RSS_EXPANDED,"RSS_EXPANDED"],[de.UPC_A,"UPC_A"],[de.UPC_E,"UPC_E"],[de.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Sm;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(Sm||(Sm={}));function H3(t){return Object.values(de).includes(t)}var yi;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(yi||(yi={}));var Dn=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[yi.SCAN_TYPE_CAMERA,yi.SCAN_TYPE_FILE],t}(),Dv=function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!Im.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,Im.get(e))},t}(),Fm=function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),Ag;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ag||(Ag={}));var kv=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Ag.UNKWOWN_ERROR}},t}(),Lv=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function tA(t){return typeof t>"u"||t===null}function j3(t,e,r){return t>r?r:t<e?e:t}var io=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),We=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),Tm=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),Pv=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var A=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(A),o=Object.keys(e),c=0,u=o;c<u.length;c++){var d=u[c];if(i.has(d))return r.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},t}(),ig={exports:{}};(function(t,e){(function(r,n){n(e)})(qo,function(r){function n(U){return U==null}var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,s){U.__proto__=s}||function(U,s){for(var a in s)s.hasOwnProperty(a)&&(U[a]=s[a])};function i(U,s){A(U,s);function a(){this.constructor=U}U.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}function o(U,s){var a=Object.setPrototypeOf;a?a(U,s):U.__proto__=s}function c(U,s){s===void 0&&(s=U.constructor);var a=Error.captureStackTrace;a&&a(U,s)}var u=function(U){i(s,U);function s(a){var l=this.constructor,h=U.call(this,a)||this;return Object.defineProperty(h,"name",{value:l.name,enumerable:!1}),o(h,l.prototype),c(h),h}return s}(Error);class d extends u{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}d.kind="Exception";class p extends d{}p.kind="ArgumentException";class m extends d{}m.kind="IllegalArgumentException";class x{constructor(s){if(this.binarizer=s,s===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,a){return this.binarizer.getBlackRow(s,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,a,l,h){const f=this.binarizer.getLuminanceSource().crop(s,a,l,h);return new x(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new x(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new x(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class C extends d{static getChecksumInstance(){return new C}}C.kind="ChecksumException";class E{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class v{static arraycopy(s,a,l,h,f){for(;f--;)l[h++]=s[a++]}static currentTimeMillis(){return Date.now()}}class F extends d{}F.kind="IndexOutOfBoundsException";class S extends F{constructor(s=void 0,a=void 0){super(a),this.index=s,this.message=a}}S.kind="ArrayIndexOutOfBoundsException";class I{static fill(s,a){for(let l=0,h=s.length;l<h;l++)s[l]=a}static fillWithin(s,a,l,h){I.rangeCheck(s.length,a,l);for(let f=a;f<l;f++)s[f]=h}static rangeCheck(s,a,l){if(a>l)throw new m("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new S(a);if(l>s)throw new S(l)}static asList(...s){return s}static create(s,a,l){return Array.from({length:s}).map(f=>Array.from({length:a}).fill(l))}static createInt32Array(s,a,l){return Array.from({length:s}).map(f=>Int32Array.from({length:a}).fill(l))}static equals(s,a){if(!s||!a||!s.length||!a.length||s.length!==a.length)return!1;for(let l=0,h=s.length;l<h;l++)if(s[l]!==a[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let a=1;for(const l of s)a=31*a+l;return a}static fillUint8Array(s,a){for(let l=0;l!==s.length;l++)s[l]=a}static copyOf(s,a){return s.slice(0,a)}static copyOfUint8Array(s,a){if(s.length<=a){const l=new Uint8Array(a);return l.set(s),l}return s.slice(0,a)}static copyOfRange(s,a,l){const h=l-a,f=new Int32Array(h);return v.arraycopy(s,a,f,0,h),f}static binarySearch(s,a,l){l===void 0&&(l=I.numberComparator);let h=0,f=s.length-1;for(;h<=f;){const g=f+h>>1,w=l(a,s[g]);if(w>0)h=g+1;else if(w<0)f=g-1;else return g}return-h-1}static numberComparator(s,a){return s-a}}class T{static numberOfTrailingZeros(s){let a;if(s===0)return 32;let l=31;return a=s<<16,a!==0&&(l-=16,s=a),a=s<<8,a!==0&&(l-=8,s=a),a=s<<4,a!==0&&(l-=4,s=a),a=s<<2,a!==0&&(l-=2,s=a),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let a=1;return s>>>16||(a+=16,s<<=16),s>>>24||(a+=8,s<<=8),s>>>28||(a+=4,s<<=4),s>>>30||(a+=2,s<<=2),a-=s>>>31,a}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,a){return Math.trunc(s/a)}static parseInt(s,a=void 0){return parseInt(s,a)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class N{constructor(s,a){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,a==null?this.bits=N.makeArray(s):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const a=N.makeArray(s);v.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const a=this.size;if(s>=a)return a;const l=this.bits;let h=Math.floor(s/32),f=l[h];f&=~((1<<(s&31))-1);const g=l.length;for(;f===0;){if(++h===g)return a;f=l[h]}const w=h*32+T.numberOfTrailingZeros(f);return w>a?a:w}getNextUnset(s){const a=this.size;if(s>=a)return a;const l=this.bits;let h=Math.floor(s/32),f=~l[h];f&=~((1<<(s&31))-1);const g=l.length;for(;f===0;){if(++h===g)return a;f=~l[h]}const w=h*32+T.numberOfTrailingZeros(f);return w>a?a:w}setBulk(s,a){this.bits[Math.floor(s/32)]=a}setRange(s,a){if(a<s||s<0||a>this.size)throw new m;if(a===s)return;a--;const l=Math.floor(s/32),h=Math.floor(a/32),f=this.bits;for(let g=l;g<=h;g++){const w=g>l?0:s&31,y=(2<<(g<h?31:a&31))-(1<<w);f[g]|=y}}clear(){const s=this.bits.length,a=this.bits;for(let l=0;l<s;l++)a[l]=0}isRange(s,a,l){if(a<s||s<0||a>this.size)throw new m;if(a===s)return!0;a--;const h=Math.floor(s/32),f=Math.floor(a/32),g=this.bits;for(let w=h;w<=f;w++){const B=w>h?0:s&31,b=(2<<(w<f?31:a&31))-(1<<B)&4294967295;if((g[w]&b)!==(l?b:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,a){if(a<0||a>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const a=s.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new m("Sizes don't match");const a=this.bits;for(let l=0,h=a.length;l<h;l++)a[l]^=s.bits[l]}toBytes(s,a,l,h){for(let f=0;f<h;f++){let g=0;for(let w=0;w<8;w++)this.get(s)&&(g|=1<<7-w),s++;a[l+f]=g}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,h=this.bits;for(let f=0;f<l;f++){let g=h[f];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,s[a-f]=g}if(this.size!==l*32){const f=l*32-this.size;let g=s[0]>>>f;for(let w=1;w<l;w++){const B=s[w];g|=B<<32-f,s[w-1]=g,g=B>>>f}s[l-1]=g}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof N))return!1;const a=s;return this.size===a.size&&I.equals(this.bits,a.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let s="";for(let a=0,l=this.size;a<l;a++)a&7||(s+=" "),s+=this.get(a)?"X":".";return s}clone(){return new N(this.size,this.bits.slice())}}var L;(function(U){U[U.OTHER=0]="OTHER",U[U.PURE_BARCODE=1]="PURE_BARCODE",U[U.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",U[U.TRY_HARDER=3]="TRY_HARDER",U[U.CHARACTER_SET=4]="CHARACTER_SET",U[U.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",U[U.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",U[U.ASSUME_GS1=7]="ASSUME_GS1",U[U.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",U[U.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",U[U.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(L||(L={}));var k=L;class D extends d{static getFormatInstance(){return new D}}D.kind="FormatException";var K;(function(U){U[U.Cp437=0]="Cp437",U[U.ISO8859_1=1]="ISO8859_1",U[U.ISO8859_2=2]="ISO8859_2",U[U.ISO8859_3=3]="ISO8859_3",U[U.ISO8859_4=4]="ISO8859_4",U[U.ISO8859_5=5]="ISO8859_5",U[U.ISO8859_6=6]="ISO8859_6",U[U.ISO8859_7=7]="ISO8859_7",U[U.ISO8859_8=8]="ISO8859_8",U[U.ISO8859_9=9]="ISO8859_9",U[U.ISO8859_10=10]="ISO8859_10",U[U.ISO8859_11=11]="ISO8859_11",U[U.ISO8859_13=12]="ISO8859_13",U[U.ISO8859_14=13]="ISO8859_14",U[U.ISO8859_15=14]="ISO8859_15",U[U.ISO8859_16=15]="ISO8859_16",U[U.SJIS=16]="SJIS",U[U.Cp1250=17]="Cp1250",U[U.Cp1251=18]="Cp1251",U[U.Cp1252=19]="Cp1252",U[U.Cp1256=20]="Cp1256",U[U.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",U[U.UTF8=22]="UTF8",U[U.ASCII=23]="ASCII",U[U.Big5=24]="Big5",U[U.GB18030=25]="GB18030",U[U.EUC_KR=26]="EUC_KR"})(K||(K={}));class H{constructor(s,a,l,...h){this.valueIdentifier=s,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=h,H.VALUE_IDENTIFIER_TO_ECI.set(s,this),H.NAME_TO_ECI.set(l,this);const f=this.values;for(let g=0,w=f.length;g!==w;g++){const B=f[g];H.VALUES_TO_ECI.set(B,this)}for(const g of h)H.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new D("incorect value");const a=H.VALUES_TO_ECI.get(s);if(a===void 0)throw new D("incorect value");return a}static getCharacterSetECIByName(s){const a=H.NAME_TO_ECI.get(s);if(a===void 0)throw new D("incorect value");return a}equals(s){if(!(s instanceof H))return!1;const a=s;return this.getName()===a.getName()}}H.VALUE_IDENTIFIER_TO_ECI=new Map,H.VALUES_TO_ECI=new Map,H.NAME_TO_ECI=new Map,H.Cp437=new H(K.Cp437,Int32Array.from([0,2]),"Cp437"),H.ISO8859_1=new H(K.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),H.ISO8859_2=new H(K.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),H.ISO8859_3=new H(K.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),H.ISO8859_4=new H(K.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),H.ISO8859_5=new H(K.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),H.ISO8859_6=new H(K.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),H.ISO8859_7=new H(K.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),H.ISO8859_8=new H(K.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),H.ISO8859_9=new H(K.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),H.ISO8859_10=new H(K.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),H.ISO8859_11=new H(K.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),H.ISO8859_13=new H(K.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),H.ISO8859_14=new H(K.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),H.ISO8859_15=new H(K.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),H.ISO8859_16=new H(K.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),H.SJIS=new H(K.SJIS,20,"SJIS","Shift_JIS"),H.Cp1250=new H(K.Cp1250,21,"Cp1250","windows-1250"),H.Cp1251=new H(K.Cp1251,22,"Cp1251","windows-1251"),H.Cp1252=new H(K.Cp1252,23,"Cp1252","windows-1252"),H.Cp1256=new H(K.Cp1256,24,"Cp1256","windows-1256"),H.UnicodeBigUnmarked=new H(K.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),H.UTF8=new H(K.UTF8,26,"UTF8","UTF-8"),H.ASCII=new H(K.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),H.Big5=new H(K.Big5,28,"Big5"),H.GB18030=new H(K.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),H.EUC_KR=new H(K.EUC_KR,30,"EUC_KR","EUC-KR");class q extends d{}q.kind="UnsupportedOperationException";class oe{static decode(s,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!oe.isBrowser()&&s==="ISO-8859-1"}static encode(s,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof H?s:H.getCharacterSetECIByName(s)}static decodeFallback(s,a){const l=this.encodingCharacterSet(a);if(oe.isDecodeFallbackSupported(l)){let h="";for(let f=0,g=s.length;f<g;f++){let w=s[f].toString(16);w.length<2&&(w="0"+w),h+="%"+w}return decodeURIComponent(h)}if(l.equals(H.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new q(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(H.UTF8)||s.equals(H.ISO8859_1)||s.equals(H.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),h=[];for(let f=0;f<l.length;f++)h.push(l[f].charCodeAt(0));return new Uint8Array(h)}}class Z{static castAsNonUtf8Char(s,a=null){const l=a?a.getName():this.ISO88591;return oe.decode(new Uint8Array([s]),l)}static guessEncoding(s,a){if(a!=null&&a.get(k.CHARACTER_SET)!==void 0)return a.get(k.CHARACTER_SET).toString();const l=s.length;let h=!0,f=!0,g=!0,w=0,B=0,y=0,b=0,Q=0,O=0,M=0,P=0,j=0,z=0,X=0;const te=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ne=0;ne<l&&(h||f||g);ne++){const $=s[ne]&255;g&&(w>0?$&128?w--:g=!1:$&128&&($&64?(w++,$&32?(w++,$&16?(w++,$&8?g=!1:b++):y++):B++):g=!1)),h&&($>127&&$<160?h=!1:$>159&&($<192||$===215||$===247)&&X++),f&&(Q>0?$<64||$===127||$>252?f=!1:Q--:$===128||$===160||$>239?f=!1:$>160&&$<224?(O++,P=0,M++,M>j&&(j=M)):$>127?(Q++,M=0,P++,P>z&&(z=P)):(M=0,P=0))}return g&&w>0&&(g=!1),f&&Q>0&&(f=!1),g&&(te||B+y+b>0)?Z.UTF8:f&&(Z.ASSUME_SHIFT_JIS||j>=3||z>=3)?Z.SHIFT_JIS:h&&f?j===2&&O===2||X*10>=l?Z.SHIFT_JIS:Z.ISO88591:h?Z.ISO88591:f?Z.SHIFT_JIS:g?Z.UTF8:Z.PLATFORM_DEFAULT_ENCODING}static format(s,...a){let l=-1;function h(g,w,B,y,b,Q){if(g==="%%")return"%";if(a[++l]===void 0)return;g=y?parseInt(y.substr(1)):void 0;let O=b?parseInt(b.substr(1)):void 0,M;switch(Q){case"s":M=a[l];break;case"c":M=a[l][0];break;case"f":M=parseFloat(a[l]).toFixed(g);break;case"p":M=parseFloat(a[l]).toPrecision(g);break;case"e":M=parseFloat(a[l]).toExponential(g);break;case"x":M=parseInt(a[l]).toString(O||16);break;case"d":M=parseFloat(parseInt(a[l],O||10).toPrecision(g)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(O);let P=parseInt(B),j=B&&B[0]+""=="0"?"0":" ";for(;M.length<P;)M=w!==void 0?M+j:j+M;return M}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(f,h)}static getBytes(s,a){return oe.encode(s,a)}static getCharCode(s,a=0){return s.charCodeAt(a)}static getCharAt(s){return String.fromCharCode(s)}}Z.SHIFT_JIS=H.SJIS.getName(),Z.GB2312="GB2312",Z.ISO88591=H.ISO8859_1.getName(),Z.EUC_JP="EUC_JP",Z.UTF8=H.UTF8.getName(),Z.PLATFORM_DEFAULT_ENCODING=Z.UTF8,Z.ASSUME_SHIFT_JIS=!1;class Ae{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=Z.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,a,l){for(let h=a;a<a+l;h++)this.append(s[h]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+1)}substring(s,a){return this.value.substring(s,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+a.length)}}class ye{constructor(s,a,l,h){if(this.width=s,this.height=a,this.rowSize=l,this.bits=h,a==null&&(a=s),this.height=a,s<1||a<1)throw new m("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const a=s.length,l=s[0].length,h=new ye(l,a);for(let f=0;f<a;f++){const g=s[f];for(let w=0;w<l;w++)g[w]&&h.set(w,f)}return h}static parseFromString(s,a,l){if(s===null)throw new m("stringRepresentation cannot be null");const h=new Array(s.length);let f=0,g=0,w=-1,B=0,y=0;for(;y<s.length;)if(s.charAt(y)===`
`||s.charAt(y)==="\r"){if(f>g){if(w===-1)w=f-g;else if(f-g!==w)throw new m("row lengths do not match");g=f,B++}y++}else if(s.substring(y,y+a.length)===a)y+=a.length,h[f]=!0,f++;else if(s.substring(y,y+l.length)===l)y+=l.length,h[f]=!1,f++;else throw new m("illegal character encountered: "+s.substring(y));if(f>g){if(w===-1)w=f-g;else if(f-g!==w)throw new m("row lengths do not match");B++}const b=new ye(w,B);for(let Q=0;Q<f;Q++)h[Q]&&b.set(Math.floor(Q%w),Math.floor(Q/w));return b}get(s,a){const l=a*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new m("input matrix dimensions do not match");const a=new N(Math.floor(this.width/32)+1),l=this.rowSize,h=this.bits;for(let f=0,g=this.height;f<g;f++){const w=f*l,B=s.getRow(f,a).getBitArray();for(let y=0;y<l;y++)h[w+y]^=B[y]}}clear(){const s=this.bits,a=s.length;for(let l=0;l<a;l++)s[l]=0}setRegion(s,a,l,h){if(a<0||s<0)throw new m("Left and top must be nonnegative");if(h<1||l<1)throw new m("Height and width must be at least 1");const f=s+l,g=a+h;if(g>this.height||f>this.width)throw new m("The region must fit inside the matrix");const w=this.rowSize,B=this.bits;for(let y=a;y<g;y++){const b=y*w;for(let Q=s;Q<f;Q++)B[b+Math.floor(Q/32)]|=1<<(Q&31)&4294967295}}getRow(s,a){a==null||a.getSize()<this.width?a=new N(this.width):a.clear();const l=this.rowSize,h=this.bits,f=s*l;for(let g=0;g<l;g++)a.setBulk(g*32,h[f+g]);return a}setRow(s,a){v.arraycopy(a.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),a=this.getHeight();let l=new N(s),h=new N(s);for(let f=0,g=Math.floor((a+1)/2);f<g;f++)l=this.getRow(f,l),h=this.getRow(a-1-f,h),l.reverse(),h.reverse(),this.setRow(f,h),this.setRow(a-1-f,l)}getEnclosingRectangle(){const s=this.width,a=this.height,l=this.rowSize,h=this.bits;let f=s,g=a,w=-1,B=-1;for(let y=0;y<a;y++)for(let b=0;b<l;b++){const Q=h[y*l+b];if(Q!==0){if(y<g&&(g=y),y>B&&(B=y),b*32<f){let O=0;for(;!(Q<<31-O&4294967295);)O++;b*32+O<f&&(f=b*32+O)}if(b*32+31>w){let O=31;for(;!(Q>>>O);)O--;b*32+O>w&&(w=b*32+O)}}}return w<f||B<g?null:Int32Array.from([f,g,w-f+1,B-g+1])}getTopLeftOnBit(){const s=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const h=l/s;let f=l%s*32;const g=a[l];let w=0;for(;!(g<<31-w&4294967295);)w++;return f+=w,Int32Array.from([f,h])}getBottomRightOnBit(){const s=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const h=Math.floor(l/s);let f=Math.floor(l%s)*32;const g=a[l];let w=31;for(;!(g>>>w);)w--;return f+=w,Int32Array.from([f,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof ye))return!1;const a=s;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&I.equals(this.bits,a.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+I.hashCode(this.bits),s}toString(s="X ",a="  ",l=`
`){return this.buildToString(s,a,l)}buildToString(s,a,l){let h=new Ae;for(let f=0,g=this.height;f<g;f++){for(let w=0,B=this.width;w<B;w++)h.append(this.get(w,f)?s:a);h.append(l)}return h.toString()}clone(){return new ye(this.width,this.height,this.rowSize,this.bits.slice())}}class V extends d{static getNotFoundInstance(){return new V}}V.kind="NotFoundException";class we extends E{constructor(s){super(s),this.luminances=we.EMPTY,this.buckets=new Int32Array(we.LUMINANCE_BUCKETS)}getBlackRow(s,a){const l=this.getLuminanceSource(),h=l.getWidth();a==null||a.getSize()<h?a=new N(h):a.clear(),this.initArrays(h);const f=l.getRow(s,this.luminances),g=this.buckets;for(let B=0;B<h;B++)g[(f[B]&255)>>we.LUMINANCE_SHIFT]++;const w=we.estimateBlackPoint(g);if(h<3)for(let B=0;B<h;B++)(f[B]&255)<w&&a.set(B);else{let B=f[0]&255,y=f[1]&255;for(let b=1;b<h-1;b++){const Q=f[b+1]&255;(y*4-B-Q)/2<w&&a.set(b),B=y,y=Q}}return a}getBlackMatrix(){const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight(),h=new ye(a,l);this.initArrays(a);const f=this.buckets;for(let B=1;B<5;B++){const y=Math.floor(l*B/5),b=s.getRow(y,this.luminances),Q=Math.floor(a*4/5);for(let O=Math.floor(a/5);O<Q;O++){const M=b[O]&255;f[M>>we.LUMINANCE_SHIFT]++}}const g=we.estimateBlackPoint(f),w=s.getMatrix();for(let B=0;B<l;B++){const y=B*a;for(let b=0;b<a;b++)(w[y+b]&255)<g&&h.set(b,B)}return h}createBinarizer(s){return new we(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const a=this.buckets;for(let l=0;l<we.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(s){const a=s.length;let l=0,h=0,f=0;for(let b=0;b<a;b++)s[b]>f&&(h=b,f=s[b]),s[b]>l&&(l=s[b]);let g=0,w=0;for(let b=0;b<a;b++){const Q=b-h,O=s[b]*Q*Q;O>w&&(g=b,w=O)}if(h>g){const b=h;h=g,g=b}if(g-h<=a/16)throw new V;let B=g-1,y=-1;for(let b=g-1;b>h;b--){const Q=b-h,O=Q*Q*(g-b)*(l-s[b]);O>y&&(B=b,y=O)}return B<<we.LUMINANCE_SHIFT}}we.LUMINANCE_BITS=5,we.LUMINANCE_SHIFT=8-we.LUMINANCE_BITS,we.LUMINANCE_BUCKETS=1<<we.LUMINANCE_BITS,we.EMPTY=Uint8ClampedArray.from([0]);class ie extends we{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight();if(a>=ie.MINIMUM_DIMENSION&&l>=ie.MINIMUM_DIMENSION){const h=s.getMatrix();let f=a>>ie.BLOCK_SIZE_POWER;a&ie.BLOCK_SIZE_MASK&&f++;let g=l>>ie.BLOCK_SIZE_POWER;l&ie.BLOCK_SIZE_MASK&&g++;const w=ie.calculateBlackPoints(h,f,g,a,l),B=new ye(a,l);ie.calculateThresholdForBlock(h,f,g,a,l,w,B),this.matrix=B}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ie(s)}static calculateThresholdForBlock(s,a,l,h,f,g,w){const B=f-ie.BLOCK_SIZE,y=h-ie.BLOCK_SIZE;for(let b=0;b<l;b++){let Q=b<<ie.BLOCK_SIZE_POWER;Q>B&&(Q=B);const O=ie.cap(b,2,l-3);for(let M=0;M<a;M++){let P=M<<ie.BLOCK_SIZE_POWER;P>y&&(P=y);const j=ie.cap(M,2,a-3);let z=0;for(let te=-2;te<=2;te++){const ne=g[O+te];z+=ne[j-2]+ne[j-1]+ne[j]+ne[j+1]+ne[j+2]}const X=z/25;ie.thresholdBlock(s,P,Q,X,h,w)}}}static cap(s,a,l){return s<a?a:s>l?l:s}static thresholdBlock(s,a,l,h,f,g){for(let w=0,B=l*f+a;w<ie.BLOCK_SIZE;w++,B+=f)for(let y=0;y<ie.BLOCK_SIZE;y++)(s[B+y]&255)<=h&&g.set(a+y,l+w)}static calculateBlackPoints(s,a,l,h,f){const g=f-ie.BLOCK_SIZE,w=h-ie.BLOCK_SIZE,B=new Array(l);for(let y=0;y<l;y++){B[y]=new Int32Array(a);let b=y<<ie.BLOCK_SIZE_POWER;b>g&&(b=g);for(let Q=0;Q<a;Q++){let O=Q<<ie.BLOCK_SIZE_POWER;O>w&&(O=w);let M=0,P=255,j=0;for(let X=0,te=b*h+O;X<ie.BLOCK_SIZE;X++,te+=h){for(let ne=0;ne<ie.BLOCK_SIZE;ne++){const $=s[te+ne]&255;M+=$,$<P&&(P=$),$>j&&(j=$)}if(j-P>ie.MIN_DYNAMIC_RANGE)for(X++,te+=h;X<ie.BLOCK_SIZE;X++,te+=h)for(let ne=0;ne<ie.BLOCK_SIZE;ne++)M+=s[te+ne]&255}let z=M>>ie.BLOCK_SIZE_POWER*2;if(j-P<=ie.MIN_DYNAMIC_RANGE&&(z=P/2,y>0&&Q>0)){const X=(B[y-1][Q]+2*B[y][Q-1]+B[y-1][Q-1])/4;P<X&&(z=X)}B[y][Q]=z}}return B}}ie.BLOCK_SIZE_POWER=3,ie.BLOCK_SIZE=1<<ie.BLOCK_SIZE_POWER,ie.BLOCK_SIZE_MASK=ie.BLOCK_SIZE-1,ie.MINIMUM_DIMENSION=ie.BLOCK_SIZE*5,ie.MIN_DYNAMIC_RANGE=24;class re{constructor(s,a){this.width=s,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,a,l,h){throw new q("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new q("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new q("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let a=new Ae;for(let l=0;l<this.height;l++){const h=this.getRow(l,s);for(let f=0;f<this.width;f++){const g=h[f]&255;let w;g<64?w="#":g<128?w="+":g<192?w=".":w=" ",a.append(w)}a.append(`
`)}return a.toString()}}class ae extends re{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,a){const l=this.delegate.getRow(s,a),h=this.getWidth();for(let f=0;f<h;f++)l[f]=255-(l[f]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let h=0;h<a;h++)l[h]=255-(s[h]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,a,l,h){return new ae(this.delegate.crop(s,a,l,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ae(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ae(this.delegate.rotateCounterClockwise45())}}class pe extends re{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const a=s.getContext("2d").getImageData(0,0,s.width,s.height);return pe.toGrayscaleBuffer(a.data,s.width,s.height)}static toGrayscaleBuffer(s,a,l){const h=new Uint8ClampedArray(a*l);for(let f=0,g=0,w=s.length;f<w;f+=4,g++){let B;if(s[f+3]===0)B=255;else{const b=s[f],Q=s[f+1],O=s[f+2];B=306*b+601*Q+117*O+512>>10}h[g]=B}return h}getRow(s,a){if(s<0||s>=this.getHeight())throw new m("Requested row is outside the image: "+s);const l=this.getWidth(),h=s*l;return a===null?a=this.buffer.slice(h,h+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(h,h+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,a,l,h){return super.crop(s,a,l,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const a=this.getTempCanvasElement(),l=a.getContext("2d"),h=s*pe.DEGREE_TO_RADIANS,f=this.canvas.width,g=this.canvas.height,w=Math.ceil(Math.abs(Math.cos(h))*f+Math.abs(Math.sin(h))*g),B=Math.ceil(Math.abs(Math.sin(h))*f+Math.abs(Math.cos(h))*g);return a.width=w,a.height=B,l.translate(w/2,B/2),l.rotate(h),l.drawImage(this.canvas,f/-2,g/-2),this.buffer=pe.makeBufferFromCanvasImageData(a),this}invert(){return new ae(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Qe{constructor(s,a,l){this.deviceId=s,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var be=(globalThis||qo||self||window||void 0)&&(globalThis||qo||self||window||void 0).__awaiter||function(U,s,a,l){function h(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function w(b){try{y(l.next(b))}catch(Q){g(Q)}}function B(b){try{y(l.throw(b))}catch(Q){g(Q)}}function y(b){b.done?f(b.value):h(b.value).then(w,B)}y((l=l.apply(U,s||[])).next())})};class Je{constructor(s,a=500,l){this.reader=s,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return be(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of s){const h=l.kind==="video"?"videoinput":l.kind;if(h!=="videoinput")continue;const f=l.deviceId||l.id,g=l.label||`Video device ${a.length+1}`,w=l.groupId,B={deviceId:f,label:g,kind:h,groupId:w};a.push(B)}return a})}getVideoInputDevices(){return be(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new Qe(a.deviceId,a.label))})}findDeviceById(s){return be(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,a){return be(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,a)})}decodeOnceFromVideoDevice(s,a){return be(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const h={video:l};return yield this.decodeOnceFromConstraints(h,a)})}decodeOnceFromConstraints(s,a){return be(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(s,a){return be(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,a,l){return be(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,a,l)})}decodeFromVideoDevice(s,a,l){return be(this,void 0,void 0,function*(){let h;s?h={deviceId:{exact:s}}:h={facingMode:"environment"};const f={video:h};return yield this.decodeFromConstraints(f,a,l)})}decodeFromConstraints(s,a,l){return be(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(h,a,l)})}decodeFromStream(s,a,l){return be(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(s,a);return yield this.decodeContinuously(h,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,a){return be(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((a,l)=>this.playVideoOnLoad(s,()=>a()))}playVideoOnLoad(s,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",a),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return be(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,a){const l=document.getElementById(s);if(!l)throw new p(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new p(`element with id '${s}' must be an ${a} element`);return l}decodeFromImage(s,a){if(!s&&!a)throw new p("either imageElement with a src set or an url must be provided");return a&&!s?this.decodeFromImageUrl(a):this.decodeFromImageElement(s)}decodeFromVideo(s,a){if(!s&&!a)throw new p("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,a,l){if(s===void 0&&a===void 0)throw new p("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new p("An image element must be provided.");this.reset();const a=this.prepareImageElement(s);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(s){const a=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(s,a){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(s){if(!s)throw new p("A video element must be provided.");this.reset();const a=this.prepareVideoElement(s);return this.videoElement=a,a}decodeFromImageUrl(s){if(!s)throw new p("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=s,l}decodeFromVideoUrl(s){if(!s)throw new p("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=s,l}decodeFromVideoUrlContinuously(s,a){if(!s)throw new p("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(l,a);return l.src=s,h}_decodeOnLoadImage(s){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(a,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return be(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,a){return be(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,a)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let a;return typeof s>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof s=="string"&&(a=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(a=s),a}prepareVideoElement(s){let a;return!s&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof s=="string"&&(a=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(a=s),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(s,a=!0,l=!0){this._stopAsyncDecode=!1;const h=(f,g)=>{if(this._stopAsyncDecode){g(new V("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const w=this.decode(s);f(w)}catch(w){const B=a&&w instanceof V,b=(w instanceof C||w instanceof D)&&l;if(B||b)return setTimeout(h,this._timeBetweenDecodingAttempts,f,g);g(w)}};return new Promise((f,g)=>h(f,g))}decodeContinuously(s,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(s);a(h,null),setTimeout(l,this.timeBetweenScansMillis)}catch(h){a(null,h);const f=h instanceof C||h instanceof D,g=h instanceof V;(f||g)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const a=this.createBinaryBitmap(s);return this.decodeBitmap(a)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,a,l){a||(a={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(s,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const a=this.getCaptureCanvas(s),l=new pe(a),h=new ie(l);return new x(h)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const a=this.createCaptureCanvas(s);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,h;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,h=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,h=s.naturalHeight||s.height)),a.style.width=l+"px",a.style.height=h+"px",a.width=l,a.height=h,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,a){try{s.srcObject=a}catch{s.src=URL.createObjectURL(a)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Te{constructor(s,a,l=a==null?0:8*a.length,h,f,g=v.currentTimeMillis()){this.text=s,this.rawBytes=a,this.numBits=l,this.resultPoints=h,this.format=f,this.timestamp=g,this.text=s,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=h,this.format=f,this.resultMetadata=null,g==null?this.timestamp=v.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,a)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const a=this.resultPoints;if(a===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(a.length+s.length);v.arraycopy(a,0,l,0,a.length),v.arraycopy(s,0,l,a.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var mt;(function(U){U[U.AZTEC=0]="AZTEC",U[U.CODABAR=1]="CODABAR",U[U.CODE_39=2]="CODE_39",U[U.CODE_93=3]="CODE_93",U[U.CODE_128=4]="CODE_128",U[U.DATA_MATRIX=5]="DATA_MATRIX",U[U.EAN_8=6]="EAN_8",U[U.EAN_13=7]="EAN_13",U[U.ITF=8]="ITF",U[U.MAXICODE=9]="MAXICODE",U[U.PDF_417=10]="PDF_417",U[U.QR_CODE=11]="QR_CODE",U[U.RSS_14=12]="RSS_14",U[U.RSS_EXPANDED=13]="RSS_EXPANDED",U[U.UPC_A=14]="UPC_A",U[U.UPC_E=15]="UPC_E",U[U.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(mt||(mt={}));var le=mt,Fr;(function(U){U[U.OTHER=0]="OTHER",U[U.ORIENTATION=1]="ORIENTATION",U[U.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",U[U.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",U[U.ISSUE_NUMBER=4]="ISSUE_NUMBER",U[U.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",U[U.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",U[U.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",U[U.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",U[U.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",U[U.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Fr||(Fr={}));var Wt=Fr;class Po{constructor(s,a,l,h,f=-1,g=-1){this.rawBytes=s,this.text=a,this.byteSegments=l,this.ecLevel=h,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=g,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ho{exp(s){return this.expTable[s]}log(s){if(s===0)throw new m;return this.logTable[s]}static addOrSubtract(s,a){return s^a}}class Tr{constructor(s,a){if(a.length===0)throw new m;this.field=s;const l=a.length;if(l>1&&a[0]===0){let h=1;for(;h<l&&a[h]===0;)h++;h===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-h),v.arraycopy(a,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(s===1){l=0;for(let g=0,w=a.length;g!==w;g++){const B=a[g];l=Ho.addOrSubtract(l,B)}return l}l=a[0];const h=a.length,f=this.field;for(let g=1;g<h;g++)l=Ho.addOrSubtract(f.multiply(s,l),a[g]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){const g=a;a=l,l=g}let h=new Int32Array(l.length);const f=l.length-a.length;v.arraycopy(l,0,h,0,f);for(let g=f;g<l.length;g++)h[g]=Ho.addOrSubtract(a[g-f],l[g]);return new Tr(this.field,h)}multiply(s){if(!this.field.equals(s.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,h=s.coefficients,f=h.length,g=new Int32Array(l+f-1),w=this.field;for(let B=0;B<l;B++){const y=a[B];for(let b=0;b<f;b++)g[B+b]=Ho.addOrSubtract(g[B+b],w.multiply(y,h[b]))}return new Tr(w,g)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const a=this.coefficients.length,l=this.field,h=new Int32Array(a),f=this.coefficients;for(let g=0;g<a;g++)h[g]=l.multiply(f[g],s);return new Tr(l,h)}multiplyByMonomial(s,a){if(s<0)throw new m;if(a===0)return this.field.getZero();const l=this.coefficients,h=l.length,f=new Int32Array(h+s),g=this.field;for(let w=0;w<h;w++)f[w]=g.multiply(l[w],a);return new Tr(g,f)}divide(s){if(!this.field.equals(s.field))throw new m("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new m("Divide by 0");const a=this.field;let l=a.getZero(),h=this;const f=s.getCoefficient(s.getDegree()),g=a.inverse(f);for(;h.getDegree()>=s.getDegree()&&!h.isZero();){const w=h.getDegree()-s.getDegree(),B=a.multiply(h.getCoefficient(h.getDegree()),g),y=s.multiplyByMonomial(w,B),b=a.buildMonomial(w,B);l=l.addOrSubtract(b),h=h.addOrSubtract(y)}return[l,h]}toString(){let s="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),a===0||l!==1){const h=this.field.log(l);h===0?s+="1":h===1?s+="a":(s+="a^",s+=h)}a!==0&&(a===1?s+="x":(s+="x^",s+=a))}}return s}}class jl extends d{}jl.kind="ArithmeticException";class je extends Ho{constructor(s,a,l){super(),this.primitive=s,this.size=a,this.generatorBase=l;const h=new Int32Array(a);let f=1;for(let w=0;w<a;w++)h[w]=f,f*=2,f>=a&&(f^=s,f&=a-1);this.expTable=h;const g=new Int32Array(a);for(let w=0;w<a-1;w++)g[h[w]]=w;this.logTable=g,this.zero=new Tr(this,Int32Array.from([0])),this.one=new Tr(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new m;if(a===0)return this.zero;const l=new Int32Array(s+1);return l[0]=a,new Tr(this,l)}inverse(s){if(s===0)throw new jl;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,a){return s===0||a===0?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}je.AZTEC_DATA_12=new je(4201,4096,1),je.AZTEC_DATA_10=new je(1033,1024,1),je.AZTEC_DATA_6=new je(67,64,1),je.AZTEC_PARAM=new je(19,16,1),je.QR_CODE_FIELD_256=new je(285,256,0),je.DATA_MATRIX_FIELD_256=new je(301,256,1),je.AZTEC_DATA_8=je.DATA_MATRIX_FIELD_256,je.MAXICODE_FIELD_64=je.AZTEC_DATA_6;class ms extends d{}ms.kind="ReedSolomonException";class Kn extends d{}Kn.kind="IllegalStateException";class jo{constructor(s){this.field=s}decode(s,a){const l=this.field,h=new Tr(l,s),f=new Int32Array(a);let g=!0;for(let M=0;M<a;M++){const P=h.evaluateAt(l.exp(M+l.getGeneratorBase()));f[f.length-1-M]=P,P!==0&&(g=!1)}if(g)return;const w=new Tr(l,f),B=this.runEuclideanAlgorithm(l.buildMonomial(a,1),w,a),y=B[0],b=B[1],Q=this.findErrorLocations(y),O=this.findErrorMagnitudes(b,Q);for(let M=0;M<Q.length;M++){const P=s.length-1-l.log(Q[M]);if(P<0)throw new ms("Bad error location");s[P]=je.addOrSubtract(s[P],O[M])}}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){const M=s;s=a,a=M}const h=this.field;let f=s,g=a,w=h.getZero(),B=h.getOne();for(;g.getDegree()>=(l/2|0);){let M=f,P=w;if(f=g,w=B,f.isZero())throw new ms("r_{i-1} was zero");g=M;let j=h.getZero();const z=f.getCoefficient(f.getDegree()),X=h.inverse(z);for(;g.getDegree()>=f.getDegree()&&!g.isZero();){const te=g.getDegree()-f.getDegree(),ne=h.multiply(g.getCoefficient(g.getDegree()),X);j=j.addOrSubtract(h.buildMonomial(te,ne)),g=g.addOrSubtract(f.multiplyByMonomial(te,ne))}if(B=j.multiply(w).addOrSubtract(P),g.getDegree()>=f.getDegree())throw new Kn("Division algorithm failed to reduce polynomial?")}const y=B.getCoefficient(0);if(y===0)throw new ms("sigmaTilde(0) was zero");const b=h.inverse(y),Q=B.multiplyScalar(b),O=g.multiplyScalar(b);return[Q,O]}findErrorLocations(s){const a=s.getDegree();if(a===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(a);let h=0;const f=this.field;for(let g=1;g<f.getSize()&&h<a;g++)s.evaluateAt(g)===0&&(l[h]=f.inverse(g),h++);if(h!==a)throw new ms("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,a){const l=a.length,h=new Int32Array(l),f=this.field;for(let g=0;g<l;g++){const w=f.inverse(a[g]);let B=1;for(let y=0;y<l;y++)if(g!==y){const b=f.multiply(a[y],w),Q=b&1?b&-2:b|1;B=f.multiply(B,Q)}h[g]=f.multiply(s.evaluateAt(w),f.inverse(B)),f.getGeneratorBase()!==0&&(h[g]=f.multiply(h[g],w))}return h}}var $t;(function(U){U[U.UPPER=0]="UPPER",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.DIGIT=3]="DIGIT",U[U.PUNCT=4]="PUNCT",U[U.BINARY=5]="BINARY"})($t||($t={}));class nt{decode(s){this.ddata=s;let a=s.getBits(),l=this.extractBits(a),h=this.correctBits(l),f=nt.convertBoolArrayToByteArray(h),g=nt.getEncodedData(h),w=new Po(f,g,null,null);return w.setNumBits(h.length),w}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let a=s.length,l=$t.UPPER,h=$t.UPPER,f="",g=0;for(;g<a;)if(h===$t.BINARY){if(a-g<5)break;let w=nt.readCode(s,g,5);if(g+=5,w===0){if(a-g<11)break;w=nt.readCode(s,g,11)+31,g+=11}for(let B=0;B<w;B++){if(a-g<8){g=a;break}const y=nt.readCode(s,g,8);f+=Z.castAsNonUtf8Char(y),g+=8}h=l}else{let w=h===$t.DIGIT?4:5;if(a-g<w)break;let B=nt.readCode(s,g,w);g+=w;let y=nt.getCharacter(h,B);y.startsWith("CTRL_")?(l=h,h=nt.getTable(y.charAt(5)),y.charAt(6)==="L"&&(l=h)):(f+=y,h=l)}return f}static getTable(s){switch(s){case"L":return $t.LOWER;case"P":return $t.PUNCT;case"M":return $t.MIXED;case"D":return $t.DIGIT;case"B":return $t.BINARY;case"U":default:return $t.UPPER}}static getCharacter(s,a){switch(s){case $t.UPPER:return nt.UPPER_TABLE[a];case $t.LOWER:return nt.LOWER_TABLE[a];case $t.MIXED:return nt.MIXED_TABLE[a];case $t.PUNCT:return nt.PUNCT_TABLE[a];case $t.DIGIT:return nt.DIGIT_TABLE[a];default:throw new Kn("Bad table")}}correctBits(s){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=je.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=je.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=je.AZTEC_DATA_10):(l=12,a=je.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),f=s.length/l;if(f<h)throw new D;let g=s.length%l,w=new Int32Array(f);for(let O=0;O<f;O++,g+=l)w[O]=nt.readCode(s,g,l);try{new jo(a).decode(w,f-h)}catch(O){throw new D(O)}let B=(1<<l)-1,y=0;for(let O=0;O<h;O++){let M=w[O];if(M===0||M===B)throw new D;(M===1||M===B-1)&&y++}let b=new Array(h*l-y),Q=0;for(let O=0;O<h;O++){let M=w[O];if(M===1||M===B-1)b.fill(M>1,Q,Q+l-1),Q+=l-1;else for(let P=l-1;P>=0;--P)b[Q++]=(M&1<<P)!==0}return b}extractBits(s){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),h=(a?11:14)+l*4,f=new Int32Array(h),g=new Array(this.totalBitsInLayer(l,a));if(a)for(let w=0;w<f.length;w++)f[w]=w;else{let w=h+1+2*T.truncDivision(T.truncDivision(h,2)-1,15),B=h/2,y=T.truncDivision(w,2);for(let b=0;b<B;b++){let Q=b+T.truncDivision(b,15);f[B-b-1]=y-Q-1,f[B+b]=y+Q+1}}for(let w=0,B=0;w<l;w++){let y=(l-w)*4+(a?9:12),b=w*2,Q=h-1-b;for(let O=0;O<y;O++){let M=O*2;for(let P=0;P<2;P++)g[B+M+P]=s.get(f[b+P],f[b+O]),g[B+2*y+M+P]=s.get(f[b+O],f[Q-P]),g[B+4*y+M+P]=s.get(f[Q-P],f[Q-O]),g[B+6*y+M+P]=s.get(f[Q-O],f[b+P])}B+=y*8}return g}static readCode(s,a,l){let h=0;for(let f=a;f<a+l;f++)h<<=1,s[f]&&(h|=1);return h}static readByte(s,a){let l=s.length-a;return l>=8?nt.readCode(s,a,8):nt.readCode(s,a,l)<<8-l}static convertBoolArrayToByteArray(s){let a=new Uint8Array((s.length+7)/8);for(let l=0;l<a.length;l++)a[l]=nt.readByte(s,8*l);return a}totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}nt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],nt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],nt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],nt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],nt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class De{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,a,l,h){const f=s-l,g=a-h;return Math.sqrt(f*f+g*g)}static sum(s){let a=0;for(let l=0,h=s.length;l!==h;l++){const f=s[l];a+=f}return a}}class Kl{static floatToIntBits(s){return s}}Kl.MAX_VALUE=Number.MAX_SAFE_INTEGER;class me{constructor(s,a){this.x=s,this.y=a}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof me){const a=s;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*Kl.floatToIntBits(this.x)+Kl.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const a=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),h=this.distance(s[0],s[2]);let f,g,w;if(l>=a&&l>=h?(g=s[0],f=s[1],w=s[2]):h>=l&&h>=a?(g=s[1],f=s[0],w=s[2]):(g=s[2],f=s[0],w=s[1]),this.crossProductZ(f,g,w)<0){const B=f;f=w,w=B}s[0]=f,s[1]=g,s[2]=w}static distance(s,a){return De.distance(s.x,s.y,a.x,a.y)}static crossProductZ(s,a,l){const h=a.x,f=a.y;return(l.x-h)*(s.y-f)-(l.y-f)*(s.x-h)}}class Vl{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class pp extends Vl{constructor(s,a,l,h,f){super(s,a),this.compact=l,this.nbDatablocks=h,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class lA{constructor(s,a,l,h){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),a==null&&(a=lA.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),h==null&&(h=s.getHeight()/2|0);const f=a/2|0;if(this.leftInit=l-f,this.rightInit=l+f,this.upInit=h-f,this.downInit=h+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new V}detect(){let s=this.leftInit,a=this.rightInit,l=this.upInit,h=this.downInit,f=!1,g=!0,w=!1,B=!1,y=!1,b=!1,Q=!1;const O=this.width,M=this.height;for(;g;){g=!1;let P=!0;for(;(P||!B)&&a<O;)P=this.containsBlackPoint(l,h,a,!1),P?(a++,g=!0,B=!0):B||a++;if(a>=O){f=!0;break}let j=!0;for(;(j||!y)&&h<M;)j=this.containsBlackPoint(s,a,h,!0),j?(h++,g=!0,y=!0):y||h++;if(h>=M){f=!0;break}let z=!0;for(;(z||!b)&&s>=0;)z=this.containsBlackPoint(l,h,s,!1),z?(s--,g=!0,b=!0):b||s--;if(s<0){f=!0;break}let X=!0;for(;(X||!Q)&&l>=0;)X=this.containsBlackPoint(s,a,l,!0),X?(l--,g=!0,Q=!0):Q||l--;if(l<0){f=!0;break}g&&(w=!0)}if(!f&&w){const P=a-s;let j=null;for(let ne=1;j===null&&ne<P;ne++)j=this.getBlackPointOnSegment(s,h-ne,s+ne,h);if(j==null)throw new V;let z=null;for(let ne=1;z===null&&ne<P;ne++)z=this.getBlackPointOnSegment(s,l+ne,s+ne,l);if(z==null)throw new V;let X=null;for(let ne=1;X===null&&ne<P;ne++)X=this.getBlackPointOnSegment(a,l+ne,a-ne,l);if(X==null)throw new V;let te=null;for(let ne=1;te===null&&ne<P;ne++)te=this.getBlackPointOnSegment(a,h-ne,a-ne,h);if(te==null)throw new V;return this.centerEdges(te,j,X,z)}else throw new V}getBlackPointOnSegment(s,a,l,h){const f=De.round(De.distance(s,a,l,h)),g=(l-s)/f,w=(h-a)/f,B=this.image;for(let y=0;y<f;y++){const b=De.round(s+y*g),Q=De.round(a+y*w);if(B.get(b,Q))return new me(b,Q)}return null}centerEdges(s,a,l,h){const f=s.getX(),g=s.getY(),w=a.getX(),B=a.getY(),y=l.getX(),b=l.getY(),Q=h.getX(),O=h.getY(),M=lA.CORR;return f<this.width/2?[new me(Q-M,O+M),new me(w+M,B+M),new me(y-M,b-M),new me(f+M,g-M)]:[new me(Q+M,O+M),new me(w+M,B-M),new me(y-M,b+M),new me(f-M,g-M)]}containsBlackPoint(s,a,l,h){const f=this.image;if(h){for(let g=s;g<=a;g++)if(f.get(g,l))return!0}else for(let g=s;g<=a;g++)if(f.get(l,g))return!0;return!1}}lA.INIT_SIZE=10,lA.CORR=1;class ud{static checkAndNudgePoints(s,a){const l=s.getWidth(),h=s.getHeight();let f=!0;for(let g=0;g<a.length&&f;g+=2){const w=Math.floor(a[g]),B=Math.floor(a[g+1]);if(w<-1||w>l||B<-1||B>h)throw new V;f=!1,w===-1?(a[g]=0,f=!0):w===l&&(a[g]=l-1,f=!0),B===-1?(a[g+1]=0,f=!0):B===h&&(a[g+1]=h-1,f=!0)}f=!0;for(let g=a.length-2;g>=0&&f;g-=2){const w=Math.floor(a[g]),B=Math.floor(a[g+1]);if(w<-1||w>l||B<-1||B>h)throw new V;f=!1,w===-1?(a[g]=0,f=!0):w===l&&(a[g]=l-1,f=!0),B===-1?(a[g+1]=0,f=!0):B===h&&(a[g+1]=h-1,f=!0)}}}class In{constructor(s,a,l,h,f,g,w,B,y){this.a11=s,this.a21=a,this.a31=l,this.a12=h,this.a22=f,this.a32=g,this.a13=w,this.a23=B,this.a33=y}static quadrilateralToQuadrilateral(s,a,l,h,f,g,w,B,y,b,Q,O,M,P,j,z){const X=In.quadrilateralToSquare(s,a,l,h,f,g,w,B);return In.squareToQuadrilateral(y,b,Q,O,M,P,j,z).times(X)}transformPoints(s){const a=s.length,l=this.a11,h=this.a12,f=this.a13,g=this.a21,w=this.a22,B=this.a23,y=this.a31,b=this.a32,Q=this.a33;for(let O=0;O<a;O+=2){const M=s[O],P=s[O+1],j=f*M+B*P+Q;s[O]=(l*M+g*P+y)/j,s[O+1]=(h*M+w*P+b)/j}}transformPointsWithValues(s,a){const l=this.a11,h=this.a12,f=this.a13,g=this.a21,w=this.a22,B=this.a23,y=this.a31,b=this.a32,Q=this.a33,O=s.length;for(let M=0;M<O;M++){const P=s[M],j=a[M],z=f*P+B*j+Q;s[M]=(l*P+g*j+y)/z,a[M]=(h*P+w*j+b)/z}}static squareToQuadrilateral(s,a,l,h,f,g,w,B){const y=s-l+f-w,b=a-h+g-B;if(y===0&&b===0)return new In(l-s,f-l,s,h-a,g-h,a,0,0,1);{const Q=l-f,O=w-f,M=h-g,P=B-g,j=Q*P-O*M,z=(y*P-O*b)/j,X=(Q*b-y*M)/j;return new In(l-s+z*l,w-s+X*w,s,h-a+z*h,B-a+X*B,a,z,X,1)}}static quadrilateralToSquare(s,a,l,h,f,g,w,B){return In.squareToQuadrilateral(s,a,l,h,f,g,w,B).buildAdjoint()}buildAdjoint(){return new In(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new In(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class wp extends ud{sampleGrid(s,a,l,h,f,g,w,B,y,b,Q,O,M,P,j,z,X,te,ne){const $=In.quadrilateralToQuadrilateral(h,f,g,w,B,y,b,Q,O,M,P,j,z,X,te,ne);return this.sampleGridWithTransform(s,a,l,$)}sampleGridWithTransform(s,a,l,h){if(a<=0||l<=0)throw new V;const f=new ye(a,l),g=new Float32Array(2*a);for(let w=0;w<l;w++){const B=g.length,y=w+.5;for(let b=0;b<B;b+=2)g[b]=b/2+.5,g[b+1]=y;h.transformPoints(g),ud.checkAndNudgePoints(s,g);try{for(let b=0;b<B;b+=2)s.get(Math.floor(g[b]),Math.floor(g[b+1]))&&f.set(b/2,w)}catch{throw new V}}return f}}class UA{static setGridSampler(s){UA.gridSampler=s}static getInstance(){return UA.gridSampler}}UA.gridSampler=new wp;class xr{constructor(s,a){this.x=s,this.y=a}toResultPoint(){return new me(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class mp{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(s){let g=l[0];l[0]=l[2],l[2]=g}this.extractParameters(l);let h=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),f=this.getMatrixCornerPoints(l);return new pp(h,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new V;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],a),this.sampleLine(s[1],s[2],a),this.sampleLine(s[2],s[3],a),this.sampleLine(s[3],s[0],a)]);this.shift=this.getRotation(l,a);let h=0;for(let g=0;g<4;g++){let w=l[(this.shift+g)%4];this.compact?(h<<=7,h+=w>>1&127):(h<<=10,h+=(w>>2&992)+(w>>1&31))}let f=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(s,a){let l=0;s.forEach((h,f,g)=>{let w=(h>>a-2<<1)+(h&1);l=(l<<3)+w}),l=((l&1)<<11)+(l>>1);for(let h=0;h<4;h++)if(T.bitCount(l^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new V}getCorrectedParameterData(s,a){let l,h;a?(l=7,h=2):(l=10,h=4);let f=l-h,g=new Int32Array(l);for(let B=l-1;B>=0;--B)g[B]=s&15,s>>=4;try{new jo(je.AZTEC_PARAM).decode(g,f)}catch{throw new V}let w=0;for(let B=0;B<h;B++)w=(w<<4)+g[B];return w}getBullsEyeCorners(s){let a=s,l=s,h=s,f=s,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Q=this.getFirstDifferent(a,g,1,-1),O=this.getFirstDifferent(l,g,1,1),M=this.getFirstDifferent(h,g,-1,1),P=this.getFirstDifferent(f,g,-1,-1);if(this.nbCenterLayers>2){let j=this.distancePoint(P,Q)*this.nbCenterLayers/(this.distancePoint(f,a)*(this.nbCenterLayers+2));if(j<.75||j>1.25||!this.isWhiteOrBlackRectangle(Q,O,M,P))break}a=Q,l=O,h=M,f=P,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new V;this.compact=this.nbCenterLayers===5;let w=new me(a.getX()+.5,a.getY()-.5),B=new me(l.getX()+.5,l.getY()+.5),y=new me(h.getX()-.5,h.getY()+.5),b=new me(f.getX()-.5,f.getY()-.5);return this.expandSquare([w,B,y,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,a,l,h;try{let w=new lA(this.image).detect();s=w[0],a=w[1],l=w[2],h=w[3]}catch{let B=this.image.getWidth()/2,y=this.image.getHeight()/2;s=this.getFirstDifferent(new xr(B+7,y-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new xr(B+7,y+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new xr(B-7,y+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new xr(B-7,y-7),!1,-1,-1).toResultPoint()}let f=De.round((s.getX()+h.getX()+a.getX()+l.getX())/4),g=De.round((s.getY()+h.getY()+a.getY()+l.getY())/4);try{let w=new lA(this.image,15,f,g).detect();s=w[0],a=w[1],l=w[2],h=w[3]}catch{s=this.getFirstDifferent(new xr(f+7,g-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new xr(f+7,g+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new xr(f-7,g+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new xr(f-7,g-7),!1,-1,-1).toResultPoint()}return f=De.round((s.getX()+h.getX()+a.getX()+l.getX())/4),g=De.round((s.getY()+h.getY()+a.getY()+l.getY())/4),new xr(f,g)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,a,l,h,f){let g=UA.getInstance(),w=this.getDimension(),B=w/2-this.nbCenterLayers,y=w/2+this.nbCenterLayers;return g.sampleGrid(s,w,w,B,B,y,B,y,y,B,y,a.getX(),a.getY(),l.getX(),l.getY(),h.getX(),h.getY(),f.getX(),f.getY())}sampleLine(s,a,l){let h=0,f=this.distanceResultPoint(s,a),g=f/l,w=s.getX(),B=s.getY(),y=g*(a.getX()-s.getX())/f,b=g*(a.getY()-s.getY())/f;for(let Q=0;Q<l;Q++)this.image.get(De.round(w+Q*y),De.round(B+Q*b))&&(h|=1<<l-Q-1);return h}isWhiteOrBlackRectangle(s,a,l,h){let f=3;s=new xr(s.getX()-f,s.getY()+f),a=new xr(a.getX()-f,a.getY()-f),l=new xr(l.getX()+f,l.getY()-f),h=new xr(h.getX()+f,h.getY()+f);let g=this.getColor(h,s);if(g===0)return!1;let w=this.getColor(s,a);return w!==g||(w=this.getColor(a,l),w!==g)?!1:(w=this.getColor(l,h),w===g)}getColor(s,a){let l=this.distancePoint(s,a),h=(a.getX()-s.getX())/l,f=(a.getY()-s.getY())/l,g=0,w=s.getX(),B=s.getY(),y=this.image.get(s.getX(),s.getY()),b=Math.ceil(l);for(let O=0;O<b;O++)w+=h,B+=f,this.image.get(De.round(w),De.round(B))!==y&&g++;let Q=g/l;return Q>.1&&Q<.9?0:Q<=.1===y?1:-1}getFirstDifferent(s,a,l,h){let f=s.getX()+l,g=s.getY()+h;for(;this.isValid(f,g)&&this.image.get(f,g)===a;)f+=l,g+=h;for(f-=l,g-=h;this.isValid(f,g)&&this.image.get(f,g)===a;)f+=l;for(f-=l;this.isValid(f,g)&&this.image.get(f,g)===a;)g+=h;return g-=h,new xr(f,g)}expandSquare(s,a,l){let h=l/(2*a),f=s[0].getX()-s[2].getX(),g=s[0].getY()-s[2].getY(),w=(s[0].getX()+s[2].getX())/2,B=(s[0].getY()+s[2].getY())/2,y=new me(w+h*f,B+h*g),b=new me(w-h*f,B-h*g);f=s[1].getX()-s[3].getX(),g=s[1].getY()-s[3].getY(),w=(s[1].getX()+s[3].getX())/2,B=(s[1].getY()+s[3].getY())/2;let Q=new me(w+h*f,B+h*g),O=new me(w-h*f,B-h*g);return[y,Q,b,O]}isValid(s,a){return s>=0&&s<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(s){let a=De.round(s.getX()),l=De.round(s.getY());return this.isValid(a,l)}distancePoint(s,a){return De.distance(s.getX(),s.getY(),a.getX(),a.getY())}distanceResultPoint(s,a){return De.distance(s.getX(),s.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class zl{decode(s,a=null){let l=null,h=new mp(s.getBlackMatrix()),f=null,g=null;try{let b=h.detectMirror(!1);f=b.getPoints(),this.reportFoundResultPoints(a,f),g=new nt().decode(b)}catch(b){l=b}if(g==null)try{let b=h.detectMirror(!0);f=b.getPoints(),this.reportFoundResultPoints(a,f),g=new nt().decode(b)}catch(b){throw l??b}let w=new Te(g.getText(),g.getRawBytes(),g.getNumBits(),f,le.AZTEC,v.currentTimeMillis()),B=g.getByteSegments();B!=null&&w.putMetadata(Wt.BYTE_SEGMENTS,B);let y=g.getECLevel();return y!=null&&w.putMetadata(Wt.ERROR_CORRECTION_LEVEL,y),w}reportFoundResultPoints(s,a){if(s!=null){let l=s.get(k.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((h,f,g)=>{l.foundPossibleResultPoint(h)})}}reset(){}}class kb extends Je{constructor(s=500){super(new zl,s)}}class Nt{decode(s,a){try{return this.doDecode(s,a)}catch{if(a&&a.get(k.TRY_HARDER)===!0&&s.isRotateSupported()){const f=s.rotateCounterClockwise(),g=this.doDecode(f,a),w=g.getResultMetadata();let B=270;w!==null&&w.get(Wt.ORIENTATION)===!0&&(B=B+w.get(Wt.ORIENTATION)%360),g.putMetadata(Wt.ORIENTATION,B);const y=g.getResultPoints();if(y!==null){const b=f.getHeight();for(let Q=0;Q<y.length;Q++)y[Q]=new me(b-y[Q].getY()-1,y[Q].getX())}return g}else throw new V}}reset(){}doDecode(s,a){const l=s.getWidth(),h=s.getHeight();let f=new N(l);const g=a&&a.get(k.TRY_HARDER)===!0,w=Math.max(1,h>>(g?8:5));let B;g?B=h:B=15;const y=Math.trunc(h/2);for(let b=0;b<B;b++){const Q=Math.trunc((b+1)/2),O=(b&1)===0,M=y+w*(O?Q:-Q);if(M<0||M>=h)break;try{f=s.getBlackRow(M,f)}catch{continue}for(let P=0;P<2;P++){if(P===1&&(f.reverse(),a&&a.get(k.NEED_RESULT_POINT_CALLBACK)===!0)){const j=new Map;a.forEach((z,X)=>j.set(X,z)),j.delete(k.NEED_RESULT_POINT_CALLBACK),a=j}try{const j=this.decodeRow(M,f,a);if(P===1){j.putMetadata(Wt.ORIENTATION,180);const z=j.getResultPoints();z!==null&&(z[0]=new me(l-z[0].getX()-1,z[0].getY()),z[1]=new me(l-z[1].getX()-1,z[1].getY()))}return j}catch{}}}throw new V}static recordPattern(s,a,l){const h=l.length;for(let y=0;y<h;y++)l[y]=0;const f=s.getSize();if(a>=f)throw new V;let g=!s.get(a),w=0,B=a;for(;B<f;){if(s.get(B)!==g)l[w]++;else{if(++w===h)break;l[w]=1,g=!g}B++}if(!(w===h||w===h-1&&B===f))throw new V}static recordPatternInReverse(s,a,l){let h=l.length,f=s.get(a);for(;a>0&&h>=0;)s.get(--a)!==f&&(h--,f=!f);if(h>=0)throw new V;Nt.recordPattern(s,a+1,l)}static patternMatchVariance(s,a,l){const h=s.length;let f=0,g=0;for(let y=0;y<h;y++)f+=s[y],g+=a[y];if(f<g)return Number.POSITIVE_INFINITY;const w=f/g;l*=w;let B=0;for(let y=0;y<h;y++){const b=s[y],Q=a[y]*w,O=b>Q?b-Q:Q-b;if(O>l)return Number.POSITIVE_INFINITY;B+=O}return B/f}}class se extends Nt{static findStartPattern(s){const a=s.getSize(),l=s.getNextSet(0);let h=0,f=Int32Array.from([0,0,0,0,0,0]),g=l,w=!1;const B=6;for(let y=l;y<a;y++)if(s.get(y)!==w)f[h]++;else{if(h===B-1){let b=se.MAX_AVG_VARIANCE,Q=-1;for(let O=se.CODE_START_A;O<=se.CODE_START_C;O++){const M=Nt.patternMatchVariance(f,se.CODE_PATTERNS[O],se.MAX_INDIVIDUAL_VARIANCE);M<b&&(b=M,Q=O)}if(Q>=0&&s.isRange(Math.max(0,g-(y-g)/2),g,!1))return Int32Array.from([g,y,Q]);g+=f[0]+f[1],f=f.slice(2,f.length-1),f[h-1]=0,f[h]=0,h--}else h++;f[h]=1,w=!w}throw new V}static decodeCode(s,a,l){Nt.recordPattern(s,l,a);let h=se.MAX_AVG_VARIANCE,f=-1;for(let g=0;g<se.CODE_PATTERNS.length;g++){const w=se.CODE_PATTERNS[g],B=this.patternMatchVariance(a,w,se.MAX_INDIVIDUAL_VARIANCE);B<h&&(h=B,f=g)}if(f>=0)return f;throw new V}decodeRow(s,a,l){const h=l&&l.get(k.ASSUME_GS1)===!0,f=se.findStartPattern(a),g=f[2];let w=0;const B=new Uint8Array(20);B[w++]=g;let y;switch(g){case se.CODE_START_A:y=se.CODE_CODE_A;break;case se.CODE_START_B:y=se.CODE_CODE_B;break;case se.CODE_START_C:y=se.CODE_CODE_C;break;default:throw new D}let b=!1,Q=!1,O="",M=f[0],P=f[1];const j=Int32Array.from([0,0,0,0,0,0]);let z=0,X=0,te=g,ne=0,$=!0,Ne=!1,Se=!1;for(;!b;){const Is=Q;switch(Q=!1,z=X,X=se.decodeCode(a,j,P),B[w++]=X,X!==se.CODE_STOP&&($=!0),X!==se.CODE_STOP&&(ne++,te+=ne*X),M=P,P+=j.reduce((d_,f_)=>d_+f_,0),X){case se.CODE_START_A:case se.CODE_START_B:case se.CODE_START_C:throw new D}switch(y){case se.CODE_CODE_A:if(X<64)Se===Ne?O+=String.fromCharCode(32+X):O+=String.fromCharCode(32+X+128),Se=!1;else if(X<96)Se===Ne?O+=String.fromCharCode(X-64):O+=String.fromCharCode(X+64),Se=!1;else switch(X!==se.CODE_STOP&&($=!1),X){case se.CODE_FNC_1:h&&(O.length===0?O+="]C1":O+="");break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_A:!Ne&&Se?(Ne=!0,Se=!1):Ne&&Se?(Ne=!1,Se=!1):Se=!0;break;case se.CODE_SHIFT:Q=!0,y=se.CODE_CODE_B;break;case se.CODE_CODE_B:y=se.CODE_CODE_B;break;case se.CODE_CODE_C:y=se.CODE_CODE_C;break;case se.CODE_STOP:b=!0;break}break;case se.CODE_CODE_B:if(X<96)Se===Ne?O+=String.fromCharCode(32+X):O+=String.fromCharCode(32+X+128),Se=!1;else switch(X!==se.CODE_STOP&&($=!1),X){case se.CODE_FNC_1:h&&(O.length===0?O+="]C1":O+="");break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_B:!Ne&&Se?(Ne=!0,Se=!1):Ne&&Se?(Ne=!1,Se=!1):Se=!0;break;case se.CODE_SHIFT:Q=!0,y=se.CODE_CODE_A;break;case se.CODE_CODE_A:y=se.CODE_CODE_A;break;case se.CODE_CODE_C:y=se.CODE_CODE_C;break;case se.CODE_STOP:b=!0;break}break;case se.CODE_CODE_C:if(X<100)X<10&&(O+="0"),O+=X;else switch(X!==se.CODE_STOP&&($=!1),X){case se.CODE_FNC_1:h&&(O.length===0?O+="]C1":O+="");break;case se.CODE_CODE_A:y=se.CODE_CODE_A;break;case se.CODE_CODE_B:y=se.CODE_CODE_B;break;case se.CODE_STOP:b=!0;break}break}Is&&(y=y===se.CODE_CODE_A?se.CODE_CODE_B:se.CODE_CODE_A)}const Nr=P-M;if(P=a.getNextUnset(P),!a.isRange(P,Math.min(a.getSize(),P+(P-M)/2),!1))throw new V;if(te-=ne*z,te%103!==z)throw new C;const Fn=O.length;if(Fn===0)throw new V;Fn>0&&$&&(y===se.CODE_CODE_C?O=O.substring(0,Fn-2):O=O.substring(0,Fn-1));const Rr=(f[1]+f[0])/2,tt=M+Nr/2,rr=B.length,Xr=new Uint8Array(rr);for(let Is=0;Is<rr;Is++)Xr[Is]=B[Is];const _s=[new me(Rr,s),new me(tt,s)];return new Te(O,Xr,0,_s,le.CODE_128,new Date().getTime())}}se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],se.MAX_AVG_VARIANCE=.25,se.MAX_INDIVIDUAL_VARIANCE=.7,se.CODE_SHIFT=98,se.CODE_CODE_C=99,se.CODE_CODE_B=100,se.CODE_CODE_A=101,se.CODE_FNC_1=102,se.CODE_FNC_2=97,se.CODE_FNC_3=96,se.CODE_FNC_4_A=101,se.CODE_FNC_4_B=100,se.CODE_START_A=103,se.CODE_START_B=104,se.CODE_START_C=105,se.CODE_STOP=106;class Lt extends Nt{constructor(s=!1,a=!1){super(),this.usingCheckDigit=s,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,a,l){let h=this.counters;h.fill(0),this.decodeRowResult="";let f=Lt.findAsteriskPattern(a,h),g=a.getNextSet(f[1]),w=a.getSize(),B,y;do{Lt.recordPattern(a,g,h);let j=Lt.toNarrowWidePattern(h);if(j<0)throw new V;B=Lt.patternToChar(j),this.decodeRowResult+=B,y=g;for(let z of h)g+=z;g=a.getNextSet(g)}while(B!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let j of h)b+=j;let Q=g-y-b;if(g!==w&&Q*2<b)throw new V;if(this.usingCheckDigit){let j=this.decodeRowResult.length-1,z=0;for(let X=0;X<j;X++)z+=Lt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(X));if(this.decodeRowResult.charAt(j)!==Lt.ALPHABET_STRING.charAt(z%43))throw new C;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new V;let O;this.extendedMode?O=Lt.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;let M=(f[1]+f[0])/2,P=y+b/2;return new Te(O,null,0,[new me(M,s),new me(P,s)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(s,a){let l=s.getSize(),h=s.getNextSet(0),f=0,g=h,w=!1,B=a.length;for(let y=h;y<l;y++)if(s.get(y)!==w)a[f]++;else{if(f===B-1){if(this.toNarrowWidePattern(a)===Lt.ASTERISK_ENCODING&&s.isRange(Math.max(0,g-Math.floor((y-g)/2)),g,!1))return[g,y];g+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,w=!w}throw new V}static toNarrowWidePattern(s){let a=s.length,l=0,h;do{let f=2147483647;for(let B of s)B<f&&B>l&&(f=B);l=f,h=0;let g=0,w=0;for(let B=0;B<a;B++){let y=s[B];y>l&&(w|=1<<a-1-B,h++,g+=y)}if(h===3){for(let B=0;B<a&&h>0;B++){let y=s[B];if(y>l&&(h--,y*2>=g))return-1}return w}}while(h>3);return-1}static patternToChar(s){for(let a=0;a<Lt.CHARACTER_ENCODINGS.length;a++)if(Lt.CHARACTER_ENCODINGS[a]===s)return Lt.ALPHABET_STRING.charAt(a);if(s===Lt.ASTERISK_ENCODING)return"*";throw new V}static decodeExtended(s){let a=s.length,l="";for(let h=0;h<a;h++){let f=s.charAt(h);if(f==="+"||f==="$"||f==="%"||f==="/"){let g=s.charAt(h+1),w="\0";switch(f){case"+":if(g>="A"&&g<="Z")w=String.fromCharCode(g.charCodeAt(0)+32);else throw new D;break;case"$":if(g>="A"&&g<="Z")w=String.fromCharCode(g.charCodeAt(0)-64);else throw new D;break;case"%":if(g>="A"&&g<="E")w=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")w=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")w=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")w=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")w="\0";else if(g==="V")w="@";else if(g==="W")w="`";else if(g==="X"||g==="Y"||g==="Z")w="";else throw new D;break;case"/":if(g>="A"&&g<="O")w=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")w=":";else throw new D;break}l+=w,h++}else l+=f}return l}}Lt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Lt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Lt.ASTERISK_ENCODING=148;class $e extends Nt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,a,l){let h=this.decodeStart(a),f=this.decodeEnd(a),g=new Ae;$e.decodeMiddle(a,h[1],f[0],g);let w=g.toString(),B=null;l!=null&&(B=l.get(k.ALLOWED_LENGTHS)),B==null&&(B=$e.DEFAULT_ALLOWED_LENGTHS);let y=w.length,b=!1,Q=0;for(let P of B){if(y===P){b=!0;break}P>Q&&(Q=P)}if(!b&&y>Q&&(b=!0),!b)throw new D;const O=[new me(h[1],s),new me(f[0],s)];return new Te(w,null,0,O,le.ITF,new Date().getTime())}static decodeMiddle(s,a,l,h){let f=new Int32Array(10),g=new Int32Array(5),w=new Int32Array(5);for(f.fill(0),g.fill(0),w.fill(0);a<l;){Nt.recordPattern(s,a,f);for(let y=0;y<5;y++){let b=2*y;g[y]=f[b],w[y]=f[b+1]}let B=$e.decodeDigit(g);h.append(B.toString()),B=this.decodeDigit(w),h.append(B.toString()),f.forEach(function(y){a+=y})}}decodeStart(s){let a=$e.skipWhiteSpace(s),l=$e.findGuardPattern(s,a,$e.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let h=a-1;l>0&&h>=0&&!s.get(h);h--)l--;if(l!==0)throw new V}static skipWhiteSpace(s){const a=s.getSize(),l=s.getNextSet(0);if(l===a)throw new V;return l}decodeEnd(s){s.reverse();try{let a=$e.skipWhiteSpace(s),l;try{l=$e.findGuardPattern(s,a,$e.END_PATTERN_REVERSED[0])}catch(f){f instanceof V&&(l=$e.findGuardPattern(s,a,$e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let h=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-h,l}finally{s.reverse()}}static findGuardPattern(s,a,l){let h=l.length,f=new Int32Array(h),g=s.getSize(),w=!1,B=0,y=a;f.fill(0);for(let b=a;b<g;b++)if(s.get(b)!==w)f[B]++;else{if(B===h-1){if(Nt.patternMatchVariance(f,l,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE)return[y,b];y+=f[0]+f[1],v.arraycopy(f,2,f,0,B-1),f[B-1]=0,f[B]=0,B--}else B++;f[B]=1,w=!w}throw new V}static decodeDigit(s){let a=$e.MAX_AVG_VARIANCE,l=-1,h=$e.PATTERNS.length;for(let f=0;f<h;f++){let g=$e.PATTERNS[f],w=Nt.patternMatchVariance(s,g,$e.MAX_INDIVIDUAL_VARIANCE);w<a?(a=w,l=f):w===a&&(l=-1)}if(l>=0)return l%10;throw new V}}$e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],$e.MAX_AVG_VARIANCE=.38,$e.MAX_INDIVIDUAL_VARIANCE=.5,$e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],$e.START_PATTERN=Int32Array.from([1,1,1,1]),$e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Et extends Nt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let a=!1,l,h=0,f=Int32Array.from([0,0,0]);for(;!a;){f=Int32Array.from([0,0,0]),l=Et.findGuardPattern(s,h,!1,this.START_END_PATTERN,f);let g=l[0];h=l[1];let w=g-(h-g);w>=0&&(a=s.isRange(w,g,!1))}return l}static checkChecksum(s){return Et.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(a===0)return!1;let l=parseInt(s.charAt(a-1),10);return Et.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let h=a-1;h>=0;h-=2){let f=s.charAt(h).charCodeAt(0)-48;if(f<0||f>9)throw new D;l+=f}l*=3;for(let h=a-2;h>=0;h-=2){let f=s.charAt(h).charCodeAt(0)-48;if(f<0||f>9)throw new D;l+=f}return(1e3-l)%10}static decodeEnd(s,a){return Et.findGuardPattern(s,a,!1,Et.START_END_PATTERN,new Int32Array(Et.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,a,l,h){return this.findGuardPattern(s,a,l,h,new Int32Array(h.length))}static findGuardPattern(s,a,l,h,f){let g=s.getSize();a=l?s.getNextUnset(a):s.getNextSet(a);let w=0,B=a,y=h.length,b=l;for(let Q=a;Q<g;Q++)if(s.get(Q)!==b)f[w]++;else{if(w===y-1){if(Nt.patternMatchVariance(f,h,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return Int32Array.from([B,Q]);B+=f[0]+f[1];let O=f.slice(2,f.length-1);for(let M=0;M<w-1;M++)f[M]=O[M];f[w-1]=0,f[w]=0,w--}else w++;f[w]=1,b=!b}throw new V}static decodeDigit(s,a,l,h){this.recordPattern(s,l,a);let f=this.MAX_AVG_VARIANCE,g=-1,w=h.length;for(let B=0;B<w;B++){let y=h[B],b=Nt.patternMatchVariance(a,y,Et.MAX_INDIVIDUAL_VARIANCE);b<f&&(f=b,g=B)}if(g>=0)return g;throw new V}}Et.MAX_AVG_VARIANCE=.48,Et.MAX_INDIVIDUAL_VARIANCE=.7,Et.START_END_PATTERN=Int32Array.from([1,1,1]),Et.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Et.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Et.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ko{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let h=this.decodeRowStringBuffer,f=this.decodeMiddle(a,l,h),g=h.toString(),w=Ko.parseExtensionString(g),B=[new me((l[0]+l[1])/2,s),new me(f,s)],y=new Te(g,null,0,B,le.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&y.putAllMetadata(w),y}decodeMiddle(s,a,l){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let f=s.getSize(),g=a[1],w=0;for(let y=0;y<5&&g<f;y++){let b=Et.decodeDigit(s,h,g,Et.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let Q of h)g+=Q;b>=10&&(w|=1<<4-y),y!==4&&(g=s.getNextSet(g),g=s.getNextUnset(g))}if(l.length!==5)throw new V;let B=this.determineCheckDigit(w);if(Ko.extensionChecksum(l.toString())!==B)throw new V;return g}static extensionChecksum(s){let a=s.length,l=0;for(let h=a-2;h>=0;h-=2)l+=s.charAt(h).charCodeAt(0)-48;l*=3;for(let h=a-1;h>=0;h-=2)l+=s.charAt(h).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(s){for(let a=0;a<10;a++)if(s===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new V}static parseExtensionString(s){if(s.length!==5)return null;let a=Ko.parseExtension5String(s);return a==null?null:new Map([[Wt.SUGGESTED_PRICE,a]])}static parseExtension5String(s){let a;switch(s.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(s.substring(1)),h=(l/100).toString(),f=l%100,g=f<10?"0"+f:f.toString();return a+h+"."+g}}class hd{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let h=this.decodeRowStringBuffer,f=this.decodeMiddle(a,l,h),g=h.toString(),w=hd.parseExtensionString(g),B=[new me((l[0]+l[1])/2,s),new me(f,s)],y=new Te(g,null,0,B,le.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&y.putAllMetadata(w),y}decodeMiddle(s,a,l){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let f=s.getSize(),g=a[1],w=0;for(let B=0;B<2&&g<f;B++){let y=Et.decodeDigit(s,h,g,Et.L_AND_G_PATTERNS);l+=String.fromCharCode(48+y%10);for(let b of h)g+=b;y>=10&&(w|=1<<1-B),B!==1&&(g=s.getNextSet(g),g=s.getNextUnset(g))}if(l.length!==2)throw new V;if(parseInt(l.toString())%4!==w)throw new V;return g}static parseExtensionString(s){return s.length!==2?null:new Map([[Wt.ISSUE_NUMBER,parseInt(s)]])}}class Bp{static decodeRow(s,a,l){let h=Et.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ko().decodeRow(s,a,h)}catch{return new hd().decodeRow(s,a,h)}}}Bp.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ke extends Et{constructor(){super(),this.decodeRowStringBuffer="",Ke.L_AND_G_PATTERNS=Ke.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let a=Ke.L_PATTERNS[s-10],l=new Int32Array(a.length);for(let h=0;h<a.length;h++)l[h]=a[a.length-h-1];Ke.L_AND_G_PATTERNS[s]=l}}decodeRow(s,a,l){let h=Ke.findStartGuardPattern(a),f=l==null?null:l.get(k.NEED_RESULT_POINT_CALLBACK);if(f!=null){const $=new me((h[0]+h[1])/2,s);f.foundPossibleResultPoint($)}let g=this.decodeMiddle(a,h,this.decodeRowStringBuffer),w=g.rowOffset,B=g.resultString;if(f!=null){const $=new me(w,s);f.foundPossibleResultPoint($)}let y=this.decodeEnd(a,w);if(f!=null){const $=new me((y[0]+y[1])/2,s);f.foundPossibleResultPoint($)}let b=y[1],Q=b+(b-y[0]);if(Q>=a.getSize()||!a.isRange(b,Q,!1))throw new V;let O=B.toString();if(O.length<8)throw new D;if(!Ke.checkChecksum(O))throw new C;let M=(h[1]+h[0])/2,P=(y[1]+y[0])/2,j=this.getBarcodeFormat(),z=[new me(M,s),new me(P,s)],X=new Te(O,null,0,z,j,new Date().getTime()),te=0;try{let $=Bp.decodeRow(s,a,y[1]);X.putMetadata(Wt.UPC_EAN_EXTENSION,$.getText()),X.putAllMetadata($.getResultMetadata()),X.addResultPoints($.getResultPoints()),te=$.getText().length}catch{}let ne=l==null?null:l.get(k.ALLOWED_EAN_EXTENSIONS);if(ne!=null){let $=!1;for(let Ne in ne)if(te.toString()===Ne){$=!0;break}if(!$)throw new V}return X}decodeEnd(s,a){return Ke.findGuardPattern(s,a,!1,Ke.START_END_PATTERN,new Int32Array(Ke.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Ke.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(a===0)return!1;let l=parseInt(s.charAt(a-1),10);return Ke.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let h=a-1;h>=0;h-=2){let f=s.charAt(h).charCodeAt(0)-48;if(f<0||f>9)throw new D;l+=f}l*=3;for(let h=a-2;h>=0;h-=2){let f=s.charAt(h).charCodeAt(0)-48;if(f<0||f>9)throw new D;l+=f}return(1e3-l)%10}}class Fi extends Ke{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,l){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let f=s.getSize(),g=a[1],w=0;for(let y=0;y<6&&g<f;y++){let b=Ke.decodeDigit(s,h,g,Ke.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let Q of h)g+=Q;b>=10&&(w|=1<<5-y)}l=Fi.determineFirstDigit(l,w),g=Ke.findGuardPattern(s,g,!0,Ke.MIDDLE_PATTERN,new Int32Array(Ke.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&g<f;y++){let b=Ke.decodeDigit(s,h,g,Ke.L_PATTERNS);l+=String.fromCharCode(48+b);for(let Q of h)g+=Q}return{rowOffset:g,resultString:l}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(s,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode(48+l)+s,s;throw new V}}Fi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class xp extends Ke{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,l){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let f=s.getSize(),g=a[1];for(let B=0;B<4&&g<f;B++){let y=Ke.decodeDigit(s,h,g,Ke.L_PATTERNS);l+=String.fromCharCode(48+y);for(let b of h)g+=b}g=Ke.findGuardPattern(s,g,!0,Ke.MIDDLE_PATTERN,new Int32Array(Ke.MIDDLE_PATTERN.length).fill(0))[1];for(let B=0;B<4&&g<f;B++){let y=Ke.decodeDigit(s,h,g,Ke.L_PATTERNS);l+=String.fromCharCode(48+y);for(let b of h)g+=b}return{rowOffset:g,resultString:l}}getBarcodeFormat(){return le.EAN_8}}class yp extends Ke{constructor(){super(...arguments),this.ean13Reader=new Fi}getBarcodeFormat(){return le.UPC_A}decode(s,a){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,a,l))}decodeMiddle(s,a,l){return this.ean13Reader.decodeMiddle(s,a,l)}maybeReturnResult(s){let a=s.getText();if(a.charAt(0)==="0"){let l=new Te(a.substring(1),null,null,s.getResultPoints(),le.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new V}reset(){this.ean13Reader.reset()}}class Sn extends Ke{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,a,l){const h=this.decodeMiddleCounters.map(y=>y);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const f=s.getSize();let g=a[1],w=0;for(let y=0;y<6&&g<f;y++){const b=Sn.decodeDigit(s,h,g,Sn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let Q of h)g+=Q;b>=10&&(w|=1<<5-y)}let B=Sn.determineNumSysAndCheckDigit(l,w);return{rowOffset:g,resultString:B}}decodeEnd(s,a){return Sn.findGuardPatternWithoutCounters(s,a,!0,Sn.MIDDLE_END_PATTERN)}checkChecksum(s){return Ke.checkChecksum(Sn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,a){for(let l=0;l<=1;l++)for(let h=0;h<10;h++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][h]){let f=String.fromCharCode(48+l),g=String.fromCharCode(48+h);return f+s+g}throw V.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(s){const a=s.slice(1,7).split("").map(f=>f.charCodeAt(0)),l=new Ae;l.append(s.charAt(0));let h=a[5];switch(h){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(h),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(h);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}Sn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Sn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class dd extends Nt{constructor(s){super();let a=s==null?null:s.get(k.POSSIBLE_FORMATS),l=[];n(a)?(l.push(new Fi),l.push(new yp),l.push(new xp),l.push(new Sn)):(a.indexOf(le.EAN_13)>-1&&l.push(new Fi),a.indexOf(le.UPC_A)>-1&&l.push(new yp),a.indexOf(le.EAN_8)>-1&&l.push(new xp),a.indexOf(le.UPC_E)>-1&&l.push(new Sn)),this.readers=l}decodeRow(s,a,l){for(let h of this.readers)try{const f=h.decodeRow(s,a,l),g=f.getBarcodeFormat()===le.EAN_13&&f.getText().charAt(0)==="0",w=l==null?null:l.get(k.POSSIBLE_FORMATS),B=w==null||w.includes(le.UPC_A);if(g&&B){const y=f.getRawBytes(),b=new Te(f.getText().substring(1),y,y?y.length:null,f.getResultPoints(),le.UPC_A);return b.putAllMetadata(f.getResultMetadata()),b}return f}catch{}throw new V}reset(){for(let s of this.readers)s.reset()}}class cr extends Nt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,a){for(let l=0;l<a.length;l++)if(Nt.patternMatchVariance(s,a[l],cr.MAX_INDIVIDUAL_VARIANCE)<cr.MAX_AVG_VARIANCE)return l;throw new V}static count(s){return De.sum(new Int32Array(s))}static increment(s,a){let l=0,h=a[0];for(let f=1;f<s.length;f++)a[f]>h&&(h=a[f],l=f);s[l]++}static decrement(s,a){let l=0,h=a[0];for(let f=1;f<s.length;f++)a[f]<h&&(h=a[f],l=f);s[l]--}static isFinderPattern(s){let a=s[0]+s[1],l=a+s[2]+s[3],h=a/l;if(h>=cr.MIN_FINDER_PATTERN_RATIO&&h<=cr.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let w of s)w>g&&(g=w),w<f&&(f=w);return g<10*f}return!1}}cr.MAX_AVG_VARIANCE=.2,cr.MAX_INDIVIDUAL_VARIANCE=.45,cr.MIN_FINDER_PATTERN_RATIO=9.5/12,cr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Bs{constructor(s,a){this.value=s,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Bs))return!1;const a=s;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Gl{constructor(s,a,l,h,f){this.value=s,this.startEnd=a,this.value=s,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new me(l,f)),this.resultPoints.push(new me(h,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof Gl))return!1;const a=s;return this.value===a.value}hashCode(){return this.value}}class Vn{constructor(){}static getRSSvalue(s,a,l){let h=0;for(let B of s)h+=B;let f=0,g=0,w=s.length;for(let B=0;B<w-1;B++){let y;for(y=1,g|=1<<B;y<s[B];y++,g&=~(1<<B)){let b=Vn.combins(h-y-1,w-B-2);if(l&&g===0&&h-y-(w-B-1)>=w-B-1&&(b-=Vn.combins(h-y-(w-B),w-B-2)),w-B-1>1){let Q=0;for(let O=h-y-(w-B-2);O>a;O--)Q+=Vn.combins(h-y-O-1,w-B-3);b-=Q*(w-1-B)}else h-y>a&&b--;f+=b}h-=y}return f}static combins(s,a){let l,h;s-a>a?(h=a,l=s-a):(h=s-a,l=a);let f=1,g=1;for(let w=s;w>l;w--)f*=w,g<=h&&(f/=g,g++);for(;g<=h;)f/=g,g++;return f}}class Lb{static buildBitArray(s){let a=s.length*2-1;s[s.length-1].getRightChar()==null&&(a-=1);let l=12*a,h=new N(l),f=0,w=s[0].getRightChar().getValue();for(let B=11;B>=0;--B)w&1<<B&&h.set(f),f++;for(let B=1;B<s.length;++B){let y=s[B],b=y.getLeftChar().getValue();for(let Q=11;Q>=0;--Q)b&1<<Q&&h.set(f),f++;if(y.getRightChar()!=null){let Q=y.getRightChar().getValue();for(let O=11;O>=0;--O)Q&1<<O&&h.set(f),f++}}return h}}class Ti{constructor(s,a){a?this.decodedInformation=null:(this.finished=s,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class fd{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Ur extends fd{constructor(s,a){super(s),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Ur.FNC1}}Ur.FNC1="$";class Ui extends fd{constructor(s,a,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ln extends fd{constructor(s,a,l){if(super(s),a<0||a>10||l<0||l>10)throw new D;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ln.FNC1}isSecondDigitFNC1(){return this.secondDigit===ln.FNC1}isAnyFNC1(){return this.firstDigit===ln.FNC1||this.secondDigit===ln.FNC1}}ln.FNC1=10;class he{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new V;let a=s.substring(0,2);for(let f of he.TWO_DIGIT_DATA_LENGTH)if(f[0]===a)return f[1]===he.VARIABLE_LENGTH?he.processVariableAI(2,f[2],s):he.processFixedAI(2,f[1],s);if(s.length<3)throw new V;let l=s.substring(0,3);for(let f of he.THREE_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===he.VARIABLE_LENGTH?he.processVariableAI(3,f[2],s):he.processFixedAI(3,f[1],s);for(let f of he.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===he.VARIABLE_LENGTH?he.processVariableAI(4,f[2],s):he.processFixedAI(4,f[1],s);if(s.length<4)throw new V;let h=s.substring(0,4);for(let f of he.FOUR_DIGIT_DATA_LENGTH)if(f[0]===h)return f[1]===he.VARIABLE_LENGTH?he.processVariableAI(4,f[2],s):he.processFixedAI(4,f[1],s);throw new V}static processFixedAI(s,a,l){if(l.length<s)throw new V;let h=l.substring(0,s);if(l.length<s+a)throw new V;let f=l.substring(s,s+a),g=l.substring(s+a),w="("+h+")"+f,B=he.parseFieldsInGeneralPurpose(g);return B==null?w:w+B}static processVariableAI(s,a,l){let h=l.substring(0,s),f;l.length<s+a?f=l.length:f=s+a;let g=l.substring(s,f),w=l.substring(f),B="("+h+")"+g,y=he.parseFieldsInGeneralPurpose(w);return y==null?B:B+y}}he.VARIABLE_LENGTH=[],he.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",he.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",he.VARIABLE_LENGTH,20],["22",he.VARIABLE_LENGTH,29],["30",he.VARIABLE_LENGTH,8],["37",he.VARIABLE_LENGTH,8],["90",he.VARIABLE_LENGTH,30],["91",he.VARIABLE_LENGTH,30],["92",he.VARIABLE_LENGTH,30],["93",he.VARIABLE_LENGTH,30],["94",he.VARIABLE_LENGTH,30],["95",he.VARIABLE_LENGTH,30],["96",he.VARIABLE_LENGTH,30],["97",he.VARIABLE_LENGTH,3],["98",he.VARIABLE_LENGTH,30],["99",he.VARIABLE_LENGTH,30]],he.THREE_DIGIT_DATA_LENGTH=[["240",he.VARIABLE_LENGTH,30],["241",he.VARIABLE_LENGTH,30],["242",he.VARIABLE_LENGTH,6],["250",he.VARIABLE_LENGTH,30],["251",he.VARIABLE_LENGTH,30],["253",he.VARIABLE_LENGTH,17],["254",he.VARIABLE_LENGTH,20],["400",he.VARIABLE_LENGTH,30],["401",he.VARIABLE_LENGTH,30],["402",17],["403",he.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",he.VARIABLE_LENGTH,20],["421",he.VARIABLE_LENGTH,15],["422",3],["423",he.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],he.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",he.VARIABLE_LENGTH,15],["391",he.VARIABLE_LENGTH,18],["392",he.VARIABLE_LENGTH,15],["393",he.VARIABLE_LENGTH,18],["703",he.VARIABLE_LENGTH,30]],he.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",he.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",he.VARIABLE_LENGTH,20],["8003",he.VARIABLE_LENGTH,30],["8004",he.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",he.VARIABLE_LENGTH,30],["8008",he.VARIABLE_LENGTH,12],["8018",18],["8020",he.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",he.VARIABLE_LENGTH,70],["8200",he.VARIABLE_LENGTH,70]];class xs{constructor(s){this.buffer=new Ae,this.information=s}decodeAllCodes(s,a){let l=a,h=null;do{let f=this.decodeGeneralPurposeField(l,h),g=he.parseFieldsInGeneralPurpose(f.getNewString());if(g!=null&&s.append(g),f.isRemaining()?h=""+f.getRemainingValue():h=null,l===f.getNewPosition())break;l=f.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let a=s;a<s+3;++a)if(this.information.get(a))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(s,4);return f===0?new ln(this.information.getSize(),ln.FNC1,ln.FNC1):new ln(this.information.getSize(),f-1,ln.FNC1)}let a=this.extractNumericValueFromBitArray(s,7),l=(a-8)/11,h=(a-8)%11;return new ln(s+7,l,h)}extractNumericValueFromBitArray(s,a){return xs.extractNumericValueFromBitArray(this.information,s,a)}static extractNumericValueFromBitArray(s,a,l){let h=0;for(let f=0;f<l;++f)s.get(a+f)&&(h|=1<<l-f-1);return h}decodeGeneralPurposeField(s,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ui(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ui(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),s=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),s=a.isFinished()):(a=this.parseNumericBlock(),s=a.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let a;return s.isSecondDigitFNC1()?a=new Ui(this.current.getPosition(),this.buffer.toString()):a=new Ui(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Ti(!0,a)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let a=new Ui(this.current.getPosition(),this.buffer.toString());return new Ti(!0,a)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ti(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new Ui(this.current.getPosition(),this.buffer.toString());return new Ti(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ti(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new Ui(this.current.getPosition(),this.buffer.toString());return new Ti(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ti(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(s,8);return h>=232&&h<253}decodeIsoIec646(s){let a=this.extractNumericValueFromBitArray(s,5);if(a===15)return new Ur(s+5,Ur.FNC1);if(a>=5&&a<15)return new Ur(s+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new Ur(s+7,""+(l+1));if(l>=90&&l<116)return new Ur(s+7,""+(l+7));let h=this.extractNumericValueFromBitArray(s,8),f;switch(h){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new D}return new Ur(s+8,f)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let a=this.extractNumericValueFromBitArray(s,5);if(a===15)return new Ur(s+5,Ur.FNC1);if(a>=5&&a<15)return new Ur(s+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new Ur(s+6,""+(l+33));let h;switch(l){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new Kn("Decoding invalid alphanumeric value: "+l)}return new Ur(s+6,h)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<5&&a+s<this.information.getSize();++a)if(a===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+a))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let a=s;a<s+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<4&&a+s<this.information.getSize();++a)if(this.information.get(s+a))return!1;return!0}}class gd{constructor(s){this.information=s,this.generalDecoder=new xs(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Qr extends gd{constructor(s){super(s)}encodeCompressedGtin(s,a){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,a,l)}encodeCompressedGtinWithoutAI(s,a,l){for(let h=0;h<4;++h){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*h,10);f/100===0&&s.append("0"),f/10===0&&s.append("0"),s.append(f)}Qr.appendCheckDigit(s,l)}static appendCheckDigit(s,a){let l=0;for(let h=0;h<13;h++){let f=s.charAt(h+a).charCodeAt(0)-48;l+=h&1?f:3*f}l=10-l%10,l===10&&(l=0),s.append(l)}}Qr.GTIN_SIZE=40;class ys extends Qr{constructor(s){super(s)}parseInformation(){let s=new Ae;s.append("(01)");let a=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(ys.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,ys.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(s,ys.HEADER_SIZE+44)}}ys.HEADER_SIZE=4;class Wl extends gd{constructor(s){super(s)}parseInformation(){let s=new Ae;return this.getGeneralDecoder().decodeAllCodes(s,Wl.HEADER_SIZE)}}Wl.HEADER_SIZE=5;class Xl extends Qr{constructor(s){super(s)}encodeCompressedWeight(s,a,l){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(s,h);let f=this.checkWeight(h),g=1e5;for(let w=0;w<5;++w)f/g===0&&s.append("0"),g/=10;s.append(f)}}class zn extends Xl{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=zn.HEADER_SIZE+Xl.GTIN_SIZE+zn.WEIGHT_SIZE)throw new V;let s=new Ae;return this.encodeCompressedGtin(s,zn.HEADER_SIZE),this.encodeCompressedWeight(s,zn.HEADER_SIZE+Xl.GTIN_SIZE,zn.WEIGHT_SIZE),s.toString()}}zn.HEADER_SIZE=5,zn.WEIGHT_SIZE=15;class Pb extends zn{constructor(s){super(s)}addWeightCode(s,a){s.append("(3103)")}checkWeight(s){return s}}class Hb extends zn{constructor(s){super(s)}addWeightCode(s,a){a<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Gn extends Qr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Gn.HEADER_SIZE+Qr.GTIN_SIZE)throw new V;let s=new Ae;this.encodeCompressedGtin(s,Gn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Gn.HEADER_SIZE+Qr.GTIN_SIZE,Gn.LAST_DIGIT_SIZE);s.append("(392"),s.append(a),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Gn.HEADER_SIZE+Qr.GTIN_SIZE+Gn.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}Gn.HEADER_SIZE=8,Gn.LAST_DIGIT_SIZE=2;class yr extends Qr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<yr.HEADER_SIZE+Qr.GTIN_SIZE)throw new V;let s=new Ae;this.encodeCompressedGtin(s,yr.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(yr.HEADER_SIZE+Qr.GTIN_SIZE,yr.LAST_DIGIT_SIZE);s.append("(393"),s.append(a),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(yr.HEADER_SIZE+Qr.GTIN_SIZE+yr.LAST_DIGIT_SIZE,yr.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let h=this.getGeneralDecoder().decodeGeneralPurposeField(yr.HEADER_SIZE+Qr.GTIN_SIZE+yr.LAST_DIGIT_SIZE+yr.FIRST_THREE_DIGITS_SIZE,null);return s.append(h.getNewString()),s.toString()}}yr.HEADER_SIZE=8,yr.LAST_DIGIT_SIZE=2,yr.FIRST_THREE_DIGITS_SIZE=10;class gt extends Xl{constructor(s,a,l){super(s),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=gt.HEADER_SIZE+gt.GTIN_SIZE+gt.WEIGHT_SIZE+gt.DATE_SIZE)throw new V;let s=new Ae;return this.encodeCompressedGtin(s,gt.HEADER_SIZE),this.encodeCompressedWeight(s,gt.HEADER_SIZE+gt.GTIN_SIZE,gt.WEIGHT_SIZE),this.encodeCompressedDate(s,gt.HEADER_SIZE+gt.GTIN_SIZE+gt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,gt.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let h=l%32;l/=32;let f=l%12+1;l/=12;let g=l;g/10==0&&s.append("0"),s.append(g),f/10==0&&s.append("0"),s.append(f),h/10==0&&s.append("0"),s.append(h)}addWeightCode(s,a){s.append("("),s.append(this.firstAIdigits),s.append(a/1e5),s.append(")")}checkWeight(s){return s%1e5}}gt.HEADER_SIZE=8,gt.WEIGHT_SIZE=20,gt.DATE_SIZE=16;function Cp(U){try{if(U.get(1))return new ys(U);if(!U.get(2))return new Wl(U);switch(xs.extractNumericValueFromBitArray(U,1,4)){case 4:return new Pb(U);case 5:return new Hb(U)}switch(xs.extractNumericValueFromBitArray(U,1,5)){case 12:return new Gn(U);case 13:return new yr(U)}switch(xs.extractNumericValueFromBitArray(U,1,7)){case 56:return new gt(U,"310","11");case 57:return new gt(U,"320","11");case 58:return new gt(U,"310","13");case 59:return new gt(U,"320","13");case 60:return new gt(U,"310","15");case 61:return new gt(U,"320","15");case 62:return new gt(U,"310","17");case 63:return new gt(U,"320","17")}}catch(s){throw console.log(s),new Kn("unknown decoder: "+U)}}class QA{constructor(s,a,l,h){this.leftchar=s,this.rightchar=a,this.finderpattern=l,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,a){return s instanceof QA?QA.equalsOrNull(s.leftchar,a.leftchar)&&QA.equalsOrNull(s.rightchar,a.rightchar)&&QA.equalsOrNull(s.finderpattern,a.finderpattern):!1}static equalsOrNull(s,a){return s===null?a===null:QA.equals(s,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class pd{constructor(s,a,l){this.pairs=s,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,a){return s instanceof pd?this.checkEqualitity(s,a)&&s.wasReversed===a.wasReversed:!1}checkEqualitity(s,a){if(!s||!a)return;let l;return s.forEach((h,f)=>{a.forEach(g=>{h.getLeftChar().getValue()===g.getLeftChar().getValue()&&h.getRightChar().getValue()===g.getRightChar().getValue()&&h.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(l=!0)})}),l}}class J extends cr{constructor(s){super(...arguments),this.pairs=new Array(J.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,a,l){this.pairs.length=0,this.startFromEven=!1;try{return J.constructResult(this.decodeRow2pairs(s,a))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,J.constructResult(this.decodeRow2pairs(s,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,s))}catch(f){if(f instanceof V){if(!this.pairs.length)throw new V;l=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(s,!1),h){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new V}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),a}checkRows(s,a){for(let l=a;l<this.rows.length;l++){let h=this.rows[l];this.pairs.length=0;for(let g of s)this.pairs.push(g.getPairs());if(this.pairs.push(h.getPairs()),!J.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(s);f.push(h);try{return this.checkRows(f,l+1)}catch(g){this.verbose&&console.log(g)}}throw new V}static isValidSequence(s){for(let a of J.FINDER_PATTERN_SEQUENCES){if(s.length>a.length)continue;let l=!0;for(let h=0;h<s.length;h++)if(s[h].getFinderPattern().getValue()!=a[h]){l=!1;break}if(l)return!0}return!1}storeRow(s,a){let l=0,h=!1,f=!1;for(;l<this.rows.length;){let g=this.rows[l];if(g.getRowNumber()>s){f=g.isEquivalent(this.pairs);break}h=g.isEquivalent(this.pairs),l++}f||h||J.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new pd(this.pairs,s,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,a){for(let l of a)if(l.getPairs().length!==s.length){for(let h of l.getPairs())for(let f of s)if(QA.equals(h,f))break}}static isPartialRow(s,a){for(let l of a){let h=!0;for(let f of s){let g=!1;for(let w of l.getPairs())if(f.equals(w)){g=!0;break}if(!g){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(s){let a=Lb.buildBitArray(s),h=Cp(a).parseInformation(),f=s[0].getFinderPattern().getResultPoints(),g=s[s.length-1].getFinderPattern().getResultPoints(),w=[f[0],f[1],g[0],g[1]];return new Te(h,null,null,w,le.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),a=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let h=l.getChecksumPortion(),f=2;for(let w=1;w<this.pairs.size();++w){let B=this.pairs.get(w);h+=B.getLeftChar().getChecksumPortion(),f++;let y=B.getRightChar();y!=null&&(h+=y.getChecksumPortion(),f++)}return h%=211,211*(f-4)+h==a.getValue()}static getNextSecondBar(s,a){let l;return s.get(a)?(l=s.getNextUnset(a),l=s.getNextSet(l)):(l=s.getNextSet(a),l=s.getNextUnset(l)),l}retrieveNextPair(s,a,l){let h=a.length%2==0;this.startFromEven&&(h=!h);let f,g=!0,w=-1;do this.findNextPair(s,a,w),f=this.parseFoundFinderPattern(s,l,h),f==null?w=J.getNextSecondBar(s,this.startEnd[0]):g=!1;while(g);let B=this.decodeDataCharacter(s,f,h,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new V;let y;try{y=this.decodeDataCharacter(s,f,h,!1)}catch(b){y=null,this.verbose&&console.log(b)}return new QA(B,y,f,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,a,l){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let f=s.getSize(),g;l>=0?g=l:this.isEmptyPair(a)?g=0:g=a[a.length-1].getFinderPattern().getStartEnd()[1];let w=a.length%2!=0;this.startFromEven&&(w=!w);let B=!1;for(;g<f&&(B=!s.get(g),!!B);)g++;let y=0,b=g;for(let Q=g;Q<f;Q++)if(s.get(Q)!=B)h[y]++;else{if(y==3){if(w&&J.reverseCounters(h),J.isFinderPattern(h)){this.startEnd[0]=b,this.startEnd[1]=Q;return}w&&J.reverseCounters(h),b+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,y--}else y++;h[y]=1,B=!B}throw new V}static reverseCounters(s){let a=s.length;for(let l=0;l<a/2;++l){let h=s[l];s[l]=s[a-l-1],s[a-l-1]=h}}parseFoundFinderPattern(s,a,l){let h,f,g;if(l){let y=this.startEnd[0]-1;for(;y>=0&&!s.get(y);)y--;y++,h=this.startEnd[0]-y,f=y,g=this.startEnd[1]}else f=this.startEnd[0],g=s.getNextUnset(this.startEnd[1]+1),h=g-this.startEnd[1];let w=this.getDecodeFinderCounters();v.arraycopy(w,0,w,1,w.length-1),w[0]=h;let B;try{B=this.parseFinderValue(w,J.FINDER_PATTERNS)}catch{return null}return new Gl(B,[f,g],f,g,a)}decodeDataCharacter(s,a,l,h){let f=this.getDataCharacterCounters();for(let tt=0;tt<f.length;tt++)f[tt]=0;if(h)J.recordPatternInReverse(s,a.getStartEnd()[0],f);else{J.recordPattern(s,a.getStartEnd()[1],f);for(let tt=0,rr=f.length-1;tt<rr;tt++,rr--){let Xr=f[tt];f[tt]=f[rr],f[rr]=Xr}}let g=17,w=De.sum(new Int32Array(f))/g,B=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(w-B)/B>.3)throw new V;let y=this.getOddCounts(),b=this.getEvenCounts(),Q=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let tt=0;tt<f.length;tt++){let rr=1*f[tt]/w,Xr=rr+.5;if(Xr<1){if(rr<.3)throw new V;Xr=1}else if(Xr>8){if(rr>8.7)throw new V;Xr=8}let _s=tt/2;tt&1?(b[_s]=Xr,O[_s]=rr-Xr):(y[_s]=Xr,Q[_s]=rr-Xr)}this.adjustOddEvenCounts(g);let M=4*a.getValue()+(l?0:2)+(h?0:1)-1,P=0,j=0;for(let tt=y.length-1;tt>=0;tt--){if(J.isNotA1left(a,l,h)){let rr=J.WEIGHTS[M][2*tt];j+=y[tt]*rr}P+=y[tt]}let z=0;for(let tt=b.length-1;tt>=0;tt--)if(J.isNotA1left(a,l,h)){let rr=J.WEIGHTS[M][2*tt+1];z+=b[tt]*rr}let X=j+z;if(P&1||P>13||P<4)throw new V;let te=(13-P)/2,ne=J.SYMBOL_WIDEST[te],$=9-ne,Ne=Vn.getRSSvalue(y,ne,!0),Se=Vn.getRSSvalue(b,$,!1),Nr=J.EVEN_TOTAL_SUBSET[te],Fn=J.GSUM[te],Rr=Ne*Nr+Se+Fn;return new Bs(Rr,X)}static isNotA1left(s,a,l){return!(s.getValue()==0&&a&&l)}adjustOddEvenCounts(s){let a=De.sum(new Int32Array(this.getOddCounts())),l=De.sum(new Int32Array(this.getEvenCounts())),h=!1,f=!1;a>13?f=!0:a<4&&(h=!0);let g=!1,w=!1;l>13?w=!0:l<4&&(g=!0);let B=a+l-s,y=(a&1)==1,b=(l&1)==0;if(B==1)if(y){if(b)throw new V;f=!0}else{if(!b)throw new V;w=!0}else if(B==-1)if(y){if(b)throw new V;h=!0}else{if(!b)throw new V;g=!0}else if(B==0){if(y){if(!b)throw new V;a<l?(h=!0,w=!0):(f=!0,g=!0)}else if(b)throw new V}else throw new V;if(h){if(f)throw new V;J.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&J.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(w)throw new V;J.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&J.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}J.SYMBOL_WIDEST=[7,5,4,3,1],J.EVEN_TOTAL_SUBSET=[4,20,52,104,204],J.GSUM=[0,348,1388,2948,3988],J.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],J.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],J.FINDER_PAT_A=0,J.FINDER_PAT_B=1,J.FINDER_PAT_C=2,J.FINDER_PAT_D=3,J.FINDER_PAT_E=4,J.FINDER_PAT_F=5,J.FINDER_PATTERN_SEQUENCES=[[J.FINDER_PAT_A,J.FINDER_PAT_A],[J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B],[J.FINDER_PAT_A,J.FINDER_PAT_C,J.FINDER_PAT_B,J.FINDER_PAT_D],[J.FINDER_PAT_A,J.FINDER_PAT_E,J.FINDER_PAT_B,J.FINDER_PAT_D,J.FINDER_PAT_C],[J.FINDER_PAT_A,J.FINDER_PAT_E,J.FINDER_PAT_B,J.FINDER_PAT_D,J.FINDER_PAT_D,J.FINDER_PAT_F],[J.FINDER_PAT_A,J.FINDER_PAT_E,J.FINDER_PAT_B,J.FINDER_PAT_D,J.FINDER_PAT_E,J.FINDER_PAT_F,J.FINDER_PAT_F],[J.FINDER_PAT_A,J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B,J.FINDER_PAT_C,J.FINDER_PAT_C,J.FINDER_PAT_D,J.FINDER_PAT_D],[J.FINDER_PAT_A,J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B,J.FINDER_PAT_C,J.FINDER_PAT_C,J.FINDER_PAT_D,J.FINDER_PAT_E,J.FINDER_PAT_E],[J.FINDER_PAT_A,J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B,J.FINDER_PAT_C,J.FINDER_PAT_C,J.FINDER_PAT_D,J.FINDER_PAT_E,J.FINDER_PAT_F,J.FINDER_PAT_F],[J.FINDER_PAT_A,J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B,J.FINDER_PAT_C,J.FINDER_PAT_D,J.FINDER_PAT_D,J.FINDER_PAT_E,J.FINDER_PAT_E,J.FINDER_PAT_F,J.FINDER_PAT_F]],J.MAX_PAIRS=11;class jb extends Bs{constructor(s,a,l){super(s,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class bt extends cr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,a,l){const h=this.decodePair(a,!1,s,l);bt.addOrTally(this.possibleLeftPairs,h),a.reverse();let f=this.decodePair(a,!0,s,l);bt.addOrTally(this.possibleRightPairs,f),a.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let w of this.possibleRightPairs)if(w.getCount()>1&&bt.checkChecksum(g,w))return bt.constructResult(g,w)}throw new V}static addOrTally(s,a){if(a==null)return;let l=!1;for(let h of s)if(h.getValue()===a.getValue()){h.incrementCount(),l=!0;break}l||s.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,a){let l=4537077*s.getValue()+a.getValue(),h=new String(l).toString(),f=new Ae;for(let y=13-h.length;y>0;y--)f.append("0");f.append(h);let g=0;for(let y=0;y<13;y++){let b=f.charAt(y).charCodeAt(0)-48;g+=y&1?b:3*b}g=10-g%10,g===10&&(g=0),f.append(g.toString());let w=s.getFinderPattern().getResultPoints(),B=a.getFinderPattern().getResultPoints();return new Te(f.toString(),null,0,[w[0],w[1],B[0],B[1]],le.RSS_14,new Date().getTime())}static checkChecksum(s,a){let l=(s.getChecksumPortion()+16*a.getChecksumPortion())%79,h=9*s.getFinderPattern().getValue()+a.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,l===h}decodePair(s,a,l,h){try{let f=this.findFinderPattern(s,a),g=this.parseFoundFinderPattern(s,l,a,f),w=h==null?null:h.get(k.NEED_RESULT_POINT_CALLBACK);if(w!=null){let b=(f[0]+f[1])/2;a&&(b=s.getSize()-1-b),w.foundPossibleResultPoint(new me(b,l))}let B=this.decodeDataCharacter(s,g,!0),y=this.decodeDataCharacter(s,g,!1);return new jb(1597*B.getValue()+y.getValue(),B.getChecksumPortion()+4*y.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(s,a,l){let h=this.getDataCharacterCounters();for(let z=0;z<h.length;z++)h[z]=0;if(l)Nt.recordPatternInReverse(s,a.getStartEnd()[0],h);else{Nt.recordPattern(s,a.getStartEnd()[1]+1,h);for(let z=0,X=h.length-1;z<X;z++,X--){let te=h[z];h[z]=h[X],h[X]=te}}let f=l?16:15,g=De.sum(new Int32Array(h))/f,w=this.getOddCounts(),B=this.getEvenCounts(),y=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let z=0;z<h.length;z++){let X=h[z]/g,te=Math.floor(X+.5);te<1?te=1:te>8&&(te=8);let ne=Math.floor(z/2);z&1?(B[ne]=te,b[ne]=X-te):(w[ne]=te,y[ne]=X-te)}this.adjustOddEvenCounts(l,f);let Q=0,O=0;for(let z=w.length-1;z>=0;z--)O*=9,O+=w[z],Q+=w[z];let M=0,P=0;for(let z=B.length-1;z>=0;z--)M*=9,M+=B[z],P+=B[z];let j=O+3*M;if(l){if(Q&1||Q>12||Q<4)throw new V;let z=(12-Q)/2,X=bt.OUTSIDE_ODD_WIDEST[z],te=9-X,ne=Vn.getRSSvalue(w,X,!1),$=Vn.getRSSvalue(B,te,!0),Ne=bt.OUTSIDE_EVEN_TOTAL_SUBSET[z],Se=bt.OUTSIDE_GSUM[z];return new Bs(ne*Ne+$+Se,j)}else{if(P&1||P>10||P<4)throw new V;let z=(10-P)/2,X=bt.INSIDE_ODD_WIDEST[z],te=9-X,ne=Vn.getRSSvalue(w,X,!0),$=Vn.getRSSvalue(B,te,!1),Ne=bt.INSIDE_ODD_TOTAL_SUBSET[z],Se=bt.INSIDE_GSUM[z];return new Bs($*Ne+ne+Se,j)}}findFinderPattern(s,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let h=s.getSize(),f=!1,g=0;for(;g<h&&(f=!s.get(g),a!==f);)g++;let w=0,B=g;for(let y=g;y<h;y++)if(s.get(y)!==f)l[w]++;else{if(w===3){if(cr.isFinderPattern(l))return[B,y];B+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,w--}else w++;l[w]=1,f=!f}throw new V}parseFoundFinderPattern(s,a,l,h){let f=s.get(h[0]),g=h[0]-1;for(;g>=0&&f!==s.get(g);)g--;g++;const w=h[0]-g,B=this.getDecodeFinderCounters(),y=new Int32Array(B.length);v.arraycopy(B,0,y,1,B.length-1),y[0]=w;const b=this.parseFinderValue(y,bt.FINDER_PATTERNS);let Q=g,O=h[1];return l&&(Q=s.getSize()-1-Q,O=s.getSize()-1-O),new Gl(b,[g,h[1]],Q,O,a)}adjustOddEvenCounts(s,a){let l=De.sum(new Int32Array(this.getOddCounts())),h=De.sum(new Int32Array(this.getEvenCounts())),f=!1,g=!1,w=!1,B=!1;s?(l>12?g=!0:l<4&&(f=!0),h>12?B=!0:h<4&&(w=!0)):(l>11?g=!0:l<5&&(f=!0),h>10?B=!0:h<4&&(w=!0));let y=l+h-a,b=(l&1)===(s?1:0),Q=(h&1)===1;if(y===1)if(b){if(Q)throw new V;g=!0}else{if(!Q)throw new V;B=!0}else if(y===-1)if(b){if(Q)throw new V;f=!0}else{if(!Q)throw new V;w=!0}else if(y===0){if(b){if(!Q)throw new V;l<h?(f=!0,B=!0):(g=!0,w=!0)}else if(Q)throw new V}else throw new V;if(f){if(g)throw new V;cr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&cr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(B)throw new V;cr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}B&&cr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}bt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],bt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],bt.OUTSIDE_GSUM=[0,161,961,2015,2715],bt.INSIDE_GSUM=[0,336,1036,1516],bt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],bt.INSIDE_ODD_WIDEST=[2,4,6,8],bt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Cs extends Nt{constructor(s,a){super(),this.readers=[],this.verbose=a===!0;const l=s?s.get(k.POSSIBLE_FORMATS):null,h=s&&s.get(k.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(le.EAN_13)||l.includes(le.UPC_A)||l.includes(le.EAN_8)||l.includes(le.UPC_E))&&this.readers.push(new dd(s)),l.includes(le.CODE_39)&&this.readers.push(new Lt(h)),l.includes(le.CODE_128)&&this.readers.push(new se),l.includes(le.ITF)&&this.readers.push(new $e),l.includes(le.RSS_14)&&this.readers.push(new bt),l.includes(le.RSS_EXPANDED)&&this.readers.push(new J(this.verbose))):(this.readers.push(new dd(s)),this.readers.push(new Lt),this.readers.push(new dd(s)),this.readers.push(new se),this.readers.push(new $e),this.readers.push(new bt),this.readers.push(new J(this.verbose)))}decodeRow(s,a,l){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(s,a,l)}catch{}throw new V}reset(){this.readers.forEach(s=>s.reset())}}class Kb extends Je{constructor(s=500,a){super(new Cs(a),s,a)}}class ze{constructor(s,a,l){this.ecCodewords=s,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ve{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Me{constructor(s,a,l,h,f,g){this.versionNumber=s,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=f,this.ecBlocks=g;let w=0;const B=g.getECCodewords(),y=g.getECBlocks();for(let b of y)w+=b.getCount()*(b.getDataCodewords()+B);this.totalCodewords=w}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,a){if(s&1||a&1)throw new D;for(let l of Me.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===a)return l;throw new D}toString(){return""+this.versionNumber}static buildVersions(){return[new Me(1,10,10,8,8,new ze(5,new Ve(1,3))),new Me(2,12,12,10,10,new ze(7,new Ve(1,5))),new Me(3,14,14,12,12,new ze(10,new Ve(1,8))),new Me(4,16,16,14,14,new ze(12,new Ve(1,12))),new Me(5,18,18,16,16,new ze(14,new Ve(1,18))),new Me(6,20,20,18,18,new ze(18,new Ve(1,22))),new Me(7,22,22,20,20,new ze(20,new Ve(1,30))),new Me(8,24,24,22,22,new ze(24,new Ve(1,36))),new Me(9,26,26,24,24,new ze(28,new Ve(1,44))),new Me(10,32,32,14,14,new ze(36,new Ve(1,62))),new Me(11,36,36,16,16,new ze(42,new Ve(1,86))),new Me(12,40,40,18,18,new ze(48,new Ve(1,114))),new Me(13,44,44,20,20,new ze(56,new Ve(1,144))),new Me(14,48,48,22,22,new ze(68,new Ve(1,174))),new Me(15,52,52,24,24,new ze(42,new Ve(2,102))),new Me(16,64,64,14,14,new ze(56,new Ve(2,140))),new Me(17,72,72,16,16,new ze(36,new Ve(4,92))),new Me(18,80,80,18,18,new ze(48,new Ve(4,114))),new Me(19,88,88,20,20,new ze(56,new Ve(4,144))),new Me(20,96,96,22,22,new ze(68,new Ve(4,174))),new Me(21,104,104,24,24,new ze(56,new Ve(6,136))),new Me(22,120,120,18,18,new ze(68,new Ve(6,175))),new Me(23,132,132,20,20,new ze(62,new Ve(8,163))),new Me(24,144,144,22,22,new ze(62,new Ve(8,156),new Ve(2,155))),new Me(25,8,18,6,16,new ze(7,new Ve(1,5))),new Me(26,8,32,6,14,new ze(11,new Ve(1,10))),new Me(27,12,26,10,24,new ze(14,new Ve(1,16))),new Me(28,12,36,10,16,new ze(18,new Ve(1,22))),new Me(29,16,36,14,16,new ze(24,new Ve(1,32))),new Me(30,16,48,14,22,new ze(28,new Ve(1,49)))]}}Me.VERSIONS=Me.buildVersions();class wd{constructor(s){const a=s.getHeight();if(a<8||a>144||a&1)throw new D;this.version=wd.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new ye(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const a=s.getHeight(),l=s.getWidth();return Me.getVersionForDimensions(a,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,h=0;const f=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let w=!1,B=!1,y=!1,b=!1;do if(l===f&&h===0&&!w)s[a++]=this.readCorner1(f,g)&255,l-=2,h+=2,w=!0;else if(l===f-2&&h===0&&g&3&&!B)s[a++]=this.readCorner2(f,g)&255,l-=2,h+=2,B=!0;else if(l===f+4&&h===2&&!(g&7)&&!y)s[a++]=this.readCorner3(f,g)&255,l-=2,h+=2,y=!0;else if(l===f-2&&h===0&&(g&7)===4&&!b)s[a++]=this.readCorner4(f,g)&255,l-=2,h+=2,b=!0;else{do l<f&&h>=0&&!this.readMappingMatrix.get(h,l)&&(s[a++]=this.readUtah(l,h,f,g)&255),l-=2,h+=2;while(l>=0&&h<g);l+=1,h+=3;do l>=0&&h<g&&!this.readMappingMatrix.get(h,l)&&(s[a++]=this.readUtah(l,h,f,g)&255),l+=2,h-=2;while(l<f&&h>=0);l+=3,h+=1}while(l<f||h<g);if(a!==this.version.getTotalCodewords())throw new D;return s}readModule(s,a,l,h){return s<0&&(s+=l,a+=4-(l+4&7)),a<0&&(a+=h,s+=4-(h+4&7)),this.readMappingMatrix.set(a,s),this.mappingBitMatrix.get(a,s)}readUtah(s,a,l,h){let f=0;return this.readModule(s-2,a-2,l,h)&&(f|=1),f<<=1,this.readModule(s-2,a-1,l,h)&&(f|=1),f<<=1,this.readModule(s-1,a-2,l,h)&&(f|=1),f<<=1,this.readModule(s-1,a-1,l,h)&&(f|=1),f<<=1,this.readModule(s-1,a,l,h)&&(f|=1),f<<=1,this.readModule(s,a-2,l,h)&&(f|=1),f<<=1,this.readModule(s,a-1,l,h)&&(f|=1),f<<=1,this.readModule(s,a,l,h)&&(f|=1),f}readCorner1(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,1,s,a)&&(l|=1),l<<=1,this.readModule(s-1,2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}readCorner2(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-4,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner3(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-3,s,a)&&(l|=1),l<<=1,this.readModule(1,a-2,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner4(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}extractDataRegion(s){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==a)throw new m("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),g=a/h|0,w=l/f|0,B=g*h,y=w*f,b=new ye(y,B);for(let Q=0;Q<g;++Q){const O=Q*h;for(let M=0;M<w;++M){const P=M*f;for(let j=0;j<h;++j){const z=Q*(h+2)+1+j,X=O+j;for(let te=0;te<f;++te){const ne=M*(f+2)+1+te;if(s.get(ne,z)){const $=P+te;b.set($,X)}}}}}return b}}class md{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a){const l=a.getECBlocks();let h=0;const f=l.getECBlocks();for(let j of f)h+=j.getCount();const g=new Array(h);let w=0;for(let j of f)for(let z=0;z<j.getCount();z++){const X=j.getDataCodewords(),te=l.getECCodewords()+X;g[w++]=new md(X,new Uint8Array(te))}const y=g[0].codewords.length-l.getECCodewords(),b=y-1;let Q=0;for(let j=0;j<b;j++)for(let z=0;z<w;z++)g[z].codewords[j]=s[Q++];const O=a.getVersionNumber()===24,M=O?8:w;for(let j=0;j<M;j++)g[j].codewords[y-1]=s[Q++];const P=g[0].codewords.length;for(let j=y;j<P;j++)for(let z=0;z<w;z++){const X=O?(z+8)%w:z,te=O&&X>7?j-1:j;g[X].codewords[te]=s[Q++]}if(Q!==s.length)throw new m;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Bd{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new m(""+s);let a=0,l=this.bitOffset,h=this.byteOffset;const f=this.bytes;if(l>0){const g=8-l,w=s<g?s:g,B=g-w,y=255>>8-w<<B;a=(f[h]&y)>>B,s-=w,l+=w,l===8&&(l=0,h++)}if(s>0){for(;s>=8;)a=a<<8|f[h]&255,h++,s-=8;if(s>0){const g=8-s,w=255>>g<<g;a=a<<s|(f[h]&w)>>g,l+=s}}return this.bitOffset=l,this.byteOffset=h,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Pt;(function(U){U[U.PAD_ENCODE=0]="PAD_ENCODE",U[U.ASCII_ENCODE=1]="ASCII_ENCODE",U[U.C40_ENCODE=2]="C40_ENCODE",U[U.TEXT_ENCODE=3]="TEXT_ENCODE",U[U.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",U[U.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",U[U.BASE256_ENCODE=6]="BASE256_ENCODE"})(Pt||(Pt={}));class OA{static decode(s){const a=new Bd(s),l=new Ae,h=new Ae,f=new Array;let g=Pt.ASCII_ENCODE;do if(g===Pt.ASCII_ENCODE)g=this.decodeAsciiSegment(a,l,h);else{switch(g){case Pt.C40_ENCODE:this.decodeC40Segment(a,l);break;case Pt.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case Pt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case Pt.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case Pt.BASE256_ENCODE:this.decodeBase256Segment(a,l,f);break;default:throw new D}g=Pt.ASCII_ENCODE}while(g!==Pt.PAD_ENCODE&&a.available()>0);return h.length()>0&&l.append(h.toString()),new Po(s,l.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(s,a,l){let h=!1;do{let f=s.readBits(8);if(f===0)throw new D;if(f<=128)return h&&(f+=128),a.append(String.fromCharCode(f-1)),Pt.ASCII_ENCODE;if(f===129)return Pt.PAD_ENCODE;if(f<=229){const g=f-130;g<10&&a.append("0"),a.append(""+g)}else switch(f){case 230:return Pt.C40_ENCODE;case 231:return Pt.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return Pt.ANSIX12_ENCODE;case 239:return Pt.TEXT_ENCODE;case 240:return Pt.EDIFACT_ENCODE;case 241:break;default:if(f!==254||s.available()!==0)throw new D;break}}while(s.available()>0);return Pt.ASCII_ENCODE}static decodeC40Segment(s,a){let l=!1;const h=[];let f=0;do{if(s.available()===8)return;const g=s.readBits(8);if(g===254)return;this.parseTwoBytes(g,s.readBits(8),h);for(let w=0;w<3;w++){const B=h[w];switch(f){case 0:if(B<3)f=B+1;else if(B<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[B];l?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),l=!1):a.append(y)}else throw new D;break;case 1:l?(a.append(String.fromCharCode(B+128)),l=!1):a.append(String.fromCharCode(B)),f=0;break;case 2:if(B<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[B];l?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),l=!1):a.append(y)}else switch(B){case 27:a.append("");break;case 30:l=!0;break;default:throw new D}f=0;break;case 3:l?(a.append(String.fromCharCode(B+224)),l=!1):a.append(String.fromCharCode(B+96)),f=0;break;default:throw new D}}}while(s.available()>0)}static decodeTextSegment(s,a){let l=!1,h=[],f=0;do{if(s.available()===8)return;const g=s.readBits(8);if(g===254)return;this.parseTwoBytes(g,s.readBits(8),h);for(let w=0;w<3;w++){const B=h[w];switch(f){case 0:if(B<3)f=B+1;else if(B<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[B];l?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),l=!1):a.append(y)}else throw new D;break;case 1:l?(a.append(String.fromCharCode(B+128)),l=!1):a.append(String.fromCharCode(B)),f=0;break;case 2:if(B<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[B];l?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),l=!1):a.append(y)}else switch(B){case 27:a.append("");break;case 30:l=!0;break;default:throw new D}f=0;break;case 3:if(B<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[B];l?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),l=!1):a.append(y),f=0}else throw new D;break;default:throw new D}}}while(s.available()>0)}static decodeAnsiX12Segment(s,a){const l=[];do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),l);for(let f=0;f<3;f++){const g=l[f];switch(g){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(g<14)a.append(String.fromCharCode(g+44));else if(g<40)a.append(String.fromCharCode(g+51));else throw new D;break}}}while(s.available()>0)}static parseTwoBytes(s,a,l){let h=(s<<8)+a-1,f=Math.floor(h/1600);l[0]=f,h-=f*1600,f=Math.floor(h/40),l[1]=f,l[2]=h-f*40}static decodeEdifactSegment(s,a){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let h=s.readBits(6);if(h===31){const f=8-s.getBitOffset();f!==8&&s.readBits(f);return}h&32||(h|=64),a.append(String.fromCharCode(h))}}while(s.available()>0)}static decodeBase256Segment(s,a,l){let h=1+s.getByteOffset();const f=this.unrandomize255State(s.readBits(8),h++);let g;if(f===0?g=s.available()/8|0:f<250?g=f:g=250*(f-249)+this.unrandomize255State(s.readBits(8),h++),g<0)throw new D;const w=new Uint8Array(g);for(let B=0;B<g;B++){if(s.available()<8)throw new D;w[B]=this.unrandomize255State(s.readBits(8),h++)}l.push(w);try{a.append(oe.decode(w,Z.ISO88591))}catch(B){throw new Kn("Platform does not support required encoding: "+B.message)}}static unrandomize255State(s,a){const l=149*a%255+1,h=s-l;return h>=0?h:h+256}}OA.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],OA.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],OA.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],OA.TEXT_SHIFT2_SET_CHARS=OA.C40_SHIFT2_SET_CHARS,OA.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Vb{constructor(){this.rsDecoder=new jo(je.DATA_MATRIX_FIELD_256)}decode(s){const a=new wd(s),l=a.getVersion(),h=a.readCodewords(),f=md.getDataBlocks(h,l);let g=0;for(let y of f)g+=y.getNumDataCodewords();const w=new Uint8Array(g),B=f.length;for(let y=0;y<B;y++){const b=f[y],Q=b.getCodewords(),O=b.getNumDataCodewords();this.correctErrors(Q,O);for(let M=0;M<O;M++)w[M*B+y]=Q[M]}return OA.decode(w)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new C}for(let h=0;h<a;h++)s[h]=l[h]}}class Ft{constructor(s){this.image=s,this.rectangleDetector=new lA(this.image)}detect(){const s=this.rectangleDetector.detect();let a=this.detectSolid1(s);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new V;a=this.shiftToModuleCenter(a);const l=a[0],h=a[1],f=a[2],g=a[3];let w=this.transitionsBetween(l,g)+1,B=this.transitionsBetween(f,g)+1;(w&1)===1&&(w+=1),(B&1)===1&&(B+=1),4*w<7*B&&4*B<7*w&&(w=B=Math.max(w,B));let y=Ft.sampleGrid(this.image,l,h,f,g,w,B);return new Vl(y,[l,h,f,g])}static shiftPoint(s,a,l){let h=(a.getX()-s.getX())/(l+1),f=(a.getY()-s.getY())/(l+1);return new me(s.getX()+h,s.getY()+f)}static moveAway(s,a,l){let h=s.getX(),f=s.getY();return h<a?h-=1:h+=1,f<l?f-=1:f+=1,new me(h,f)}detectSolid1(s){let a=s[0],l=s[1],h=s[3],f=s[2],g=this.transitionsBetween(a,l),w=this.transitionsBetween(l,h),B=this.transitionsBetween(h,f),y=this.transitionsBetween(f,a),b=g,Q=[f,a,l,h];return b>w&&(b=w,Q[0]=a,Q[1]=l,Q[2]=h,Q[3]=f),b>B&&(b=B,Q[0]=l,Q[1]=h,Q[2]=f,Q[3]=a),b>y&&(Q[0]=h,Q[1]=f,Q[2]=a,Q[3]=l),Q}detectSolid2(s){let a=s[0],l=s[1],h=s[2],f=s[3],g=this.transitionsBetween(a,f),w=Ft.shiftPoint(l,h,(g+1)*4),B=Ft.shiftPoint(h,l,(g+1)*4),y=this.transitionsBetween(w,a),b=this.transitionsBetween(B,f);return y<b?(s[0]=a,s[1]=l,s[2]=h,s[3]=f):(s[0]=l,s[1]=h,s[2]=f,s[3]=a),s}correctTopRight(s){let a=s[0],l=s[1],h=s[2],f=s[3],g=this.transitionsBetween(a,f),w=this.transitionsBetween(l,f),B=Ft.shiftPoint(a,l,(w+1)*4),y=Ft.shiftPoint(h,l,(g+1)*4);g=this.transitionsBetween(B,f),w=this.transitionsBetween(y,f);let b=new me(f.getX()+(h.getX()-l.getX())/(g+1),f.getY()+(h.getY()-l.getY())/(g+1)),Q=new me(f.getX()+(a.getX()-l.getX())/(w+1),f.getY()+(a.getY()-l.getY())/(w+1));if(!this.isValid(b))return this.isValid(Q)?Q:null;if(!this.isValid(Q))return b;let O=this.transitionsBetween(B,b)+this.transitionsBetween(y,b),M=this.transitionsBetween(B,Q)+this.transitionsBetween(y,Q);return O>M?b:Q}shiftToModuleCenter(s){let a=s[0],l=s[1],h=s[2],f=s[3],g=this.transitionsBetween(a,f)+1,w=this.transitionsBetween(h,f)+1,B=Ft.shiftPoint(a,l,w*4),y=Ft.shiftPoint(h,l,g*4);g=this.transitionsBetween(B,f)+1,w=this.transitionsBetween(y,f)+1,(g&1)===1&&(g+=1),(w&1)===1&&(w+=1);let b=(a.getX()+l.getX()+h.getX()+f.getX())/4,Q=(a.getY()+l.getY()+h.getY()+f.getY())/4;a=Ft.moveAway(a,b,Q),l=Ft.moveAway(l,b,Q),h=Ft.moveAway(h,b,Q),f=Ft.moveAway(f,b,Q);let O,M;return B=Ft.shiftPoint(a,l,w*4),B=Ft.shiftPoint(B,f,g*4),O=Ft.shiftPoint(l,a,w*4),O=Ft.shiftPoint(O,h,g*4),y=Ft.shiftPoint(h,f,w*4),y=Ft.shiftPoint(y,l,g*4),M=Ft.shiftPoint(f,h,w*4),M=Ft.shiftPoint(M,a,g*4),[B,O,y,M]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,a,l,h,f,g,w){return UA.getInstance().sampleGrid(s,g,w,.5,.5,g-.5,.5,g-.5,w-.5,.5,w-.5,a.getX(),a.getY(),f.getX(),f.getY(),h.getX(),h.getY(),l.getX(),l.getY())}transitionsBetween(s,a){let l=Math.trunc(s.getX()),h=Math.trunc(s.getY()),f=Math.trunc(a.getX()),g=Math.trunc(a.getY()),w=Math.abs(g-h)>Math.abs(f-l);if(w){let j=l;l=h,h=j,j=f,f=g,g=j}let B=Math.abs(f-l),y=Math.abs(g-h),b=-B/2,Q=h<g?1:-1,O=l<f?1:-1,M=0,P=this.image.get(w?h:l,w?l:h);for(let j=l,z=h;j!==f;j+=O){let X=this.image.get(w?z:j,w?j:z);if(X!==P&&(M++,P=X),b+=y,b>0){if(z===g)break;z+=Q,b-=B}}return M}}class NA{constructor(){this.decoder=new Vb}decode(s,a=null){let l,h;if(a!=null&&a.has(k.PURE_BARCODE)){const y=NA.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(y),h=NA.NO_POINTS}else{const y=new Ft(s.getBlackMatrix()).detect();l=this.decoder.decode(y.getBits()),h=y.getPoints()}const f=l.getRawBytes(),g=new Te(l.getText(),f,8*f.length,h,le.DATA_MATRIX,v.currentTimeMillis()),w=l.getByteSegments();w!=null&&g.putMetadata(Wt.BYTE_SEGMENTS,w);const B=l.getECLevel();return B!=null&&g.putMetadata(Wt.ERROR_CORRECTION_LEVEL,B),g}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(a==null||l==null)throw new V;const h=this.moduleSize(a,s);let f=a[1];const g=l[1];let w=a[0];const y=(l[0]-w+1)/h,b=(g-f+1)/h;if(y<=0||b<=0)throw new V;const Q=h/2;f+=Q,w+=Q;const O=new ye(y,b);for(let M=0;M<b;M++){const P=f+M*h;for(let j=0;j<y;j++)s.get(w+j*h,P)&&O.set(j,M)}return O}static moduleSize(s,a){const l=a.getWidth();let h=s[0];const f=s[1];for(;h<l&&a.get(h,f);)h++;if(h===l)throw new V;const g=h-s[0];if(g===0)throw new V;return g}}NA.NO_POINTS=[];class zb extends Je{constructor(s=500){super(new NA,s)}}var vs;(function(U){U[U.L=0]="L",U[U.M=1]="M",U[U.Q=2]="Q",U[U.H=3]="H"})(vs||(vs={}));class At{constructor(s,a,l){this.value=s,this.stringValue=a,this.bits=l,At.FOR_BITS.set(l,this),At.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return At.L;case"M":return At.M;case"Q":return At.Q;case"H":return At.H;default:throw new p(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof At))return!1;const a=s;return this.value===a.value}static forBits(s){if(s<0||s>=At.FOR_BITS.size)throw new m;return At.FOR_BITS.get(s)}}At.FOR_BITS=new Map,At.FOR_VALUE=new Map,At.L=new At(vs.L,"L",1),At.M=new At(vs.M,"M",0),At.Q=new At(vs.Q,"Q",3),At.H=new At(vs.H,"H",2);class ur{constructor(s){this.errorCorrectionLevel=At.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,a){return T.bitCount(s^a)}static decodeFormatInformation(s,a){const l=ur.doDecodeFormatInformation(s,a);return l!==null?l:ur.doDecodeFormatInformation(s^ur.FORMAT_INFO_MASK_QR,a^ur.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,a){let l=Number.MAX_SAFE_INTEGER,h=0;for(const f of ur.FORMAT_INFO_DECODE_LOOKUP){const g=f[0];if(g===s||g===a)return new ur(f[1]);let w=ur.numBitsDiffering(s,g);w<l&&(h=f[1],l=w),s!==a&&(w=ur.numBitsDiffering(a,g),w<l&&(h=f[1],l=w))}return l<=3?new ur(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof ur))return!1;const a=s;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}ur.FORMAT_INFO_MASK_QR=21522,ur.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class G{constructor(s,...a){this.ecCodewordsPerBlock=s,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const a=this.ecBlocks;for(const l of a)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class R{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xe{constructor(s,a,...l){this.versionNumber=s,this.alignmentPatternCenters=a,this.ecBlocks=l;let h=0;const f=l[0].getECCodewordsPerBlock(),g=l[0].getECBlocks();for(const w of g)h+=w.getCount()*(w.getDataCodewords()+f);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new D;try{return this.getVersionForNumber((s-17)/4)}catch{throw new D}}static getVersionForNumber(s){if(s<1||s>40)throw new m;return xe.VERSIONS[s-1]}static decodeVersionInformation(s){let a=Number.MAX_SAFE_INTEGER,l=0;for(let h=0;h<xe.VERSION_DECODE_INFO.length;h++){const f=xe.VERSION_DECODE_INFO[h];if(f===s)return xe.getVersionForNumber(h+7);const g=ur.numBitsDiffering(s,f);g<a&&(l=h+7,a=g)}return a<=3?xe.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),a=new ye(s);a.setRegion(0,0,9,9),a.setRegion(s-8,0,8,9),a.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let h=0;h<l;h++){const f=this.alignmentPatternCenters[h]-2;for(let g=0;g<l;g++)h===0&&(g===0||g===l-1)||h===l-1&&g===0||a.setRegion(this.alignmentPatternCenters[g]-2,f,5,5)}return a.setRegion(6,9,1,s-17),a.setRegion(9,6,s-17,1),this.versionNumber>6&&(a.setRegion(s-11,0,3,6),a.setRegion(0,s-11,6,3)),a}toString(){return""+this.versionNumber}}xe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),xe.VERSIONS=[new xe(1,new Int32Array(0),new G(7,new R(1,19)),new G(10,new R(1,16)),new G(13,new R(1,13)),new G(17,new R(1,9))),new xe(2,Int32Array.from([6,18]),new G(10,new R(1,34)),new G(16,new R(1,28)),new G(22,new R(1,22)),new G(28,new R(1,16))),new xe(3,Int32Array.from([6,22]),new G(15,new R(1,55)),new G(26,new R(1,44)),new G(18,new R(2,17)),new G(22,new R(2,13))),new xe(4,Int32Array.from([6,26]),new G(20,new R(1,80)),new G(18,new R(2,32)),new G(26,new R(2,24)),new G(16,new R(4,9))),new xe(5,Int32Array.from([6,30]),new G(26,new R(1,108)),new G(24,new R(2,43)),new G(18,new R(2,15),new R(2,16)),new G(22,new R(2,11),new R(2,12))),new xe(6,Int32Array.from([6,34]),new G(18,new R(2,68)),new G(16,new R(4,27)),new G(24,new R(4,19)),new G(28,new R(4,15))),new xe(7,Int32Array.from([6,22,38]),new G(20,new R(2,78)),new G(18,new R(4,31)),new G(18,new R(2,14),new R(4,15)),new G(26,new R(4,13),new R(1,14))),new xe(8,Int32Array.from([6,24,42]),new G(24,new R(2,97)),new G(22,new R(2,38),new R(2,39)),new G(22,new R(4,18),new R(2,19)),new G(26,new R(4,14),new R(2,15))),new xe(9,Int32Array.from([6,26,46]),new G(30,new R(2,116)),new G(22,new R(3,36),new R(2,37)),new G(20,new R(4,16),new R(4,17)),new G(24,new R(4,12),new R(4,13))),new xe(10,Int32Array.from([6,28,50]),new G(18,new R(2,68),new R(2,69)),new G(26,new R(4,43),new R(1,44)),new G(24,new R(6,19),new R(2,20)),new G(28,new R(6,15),new R(2,16))),new xe(11,Int32Array.from([6,30,54]),new G(20,new R(4,81)),new G(30,new R(1,50),new R(4,51)),new G(28,new R(4,22),new R(4,23)),new G(24,new R(3,12),new R(8,13))),new xe(12,Int32Array.from([6,32,58]),new G(24,new R(2,92),new R(2,93)),new G(22,new R(6,36),new R(2,37)),new G(26,new R(4,20),new R(6,21)),new G(28,new R(7,14),new R(4,15))),new xe(13,Int32Array.from([6,34,62]),new G(26,new R(4,107)),new G(22,new R(8,37),new R(1,38)),new G(24,new R(8,20),new R(4,21)),new G(22,new R(12,11),new R(4,12))),new xe(14,Int32Array.from([6,26,46,66]),new G(30,new R(3,115),new R(1,116)),new G(24,new R(4,40),new R(5,41)),new G(20,new R(11,16),new R(5,17)),new G(24,new R(11,12),new R(5,13))),new xe(15,Int32Array.from([6,26,48,70]),new G(22,new R(5,87),new R(1,88)),new G(24,new R(5,41),new R(5,42)),new G(30,new R(5,24),new R(7,25)),new G(24,new R(11,12),new R(7,13))),new xe(16,Int32Array.from([6,26,50,74]),new G(24,new R(5,98),new R(1,99)),new G(28,new R(7,45),new R(3,46)),new G(24,new R(15,19),new R(2,20)),new G(30,new R(3,15),new R(13,16))),new xe(17,Int32Array.from([6,30,54,78]),new G(28,new R(1,107),new R(5,108)),new G(28,new R(10,46),new R(1,47)),new G(28,new R(1,22),new R(15,23)),new G(28,new R(2,14),new R(17,15))),new xe(18,Int32Array.from([6,30,56,82]),new G(30,new R(5,120),new R(1,121)),new G(26,new R(9,43),new R(4,44)),new G(28,new R(17,22),new R(1,23)),new G(28,new R(2,14),new R(19,15))),new xe(19,Int32Array.from([6,30,58,86]),new G(28,new R(3,113),new R(4,114)),new G(26,new R(3,44),new R(11,45)),new G(26,new R(17,21),new R(4,22)),new G(26,new R(9,13),new R(16,14))),new xe(20,Int32Array.from([6,34,62,90]),new G(28,new R(3,107),new R(5,108)),new G(26,new R(3,41),new R(13,42)),new G(30,new R(15,24),new R(5,25)),new G(28,new R(15,15),new R(10,16))),new xe(21,Int32Array.from([6,28,50,72,94]),new G(28,new R(4,116),new R(4,117)),new G(26,new R(17,42)),new G(28,new R(17,22),new R(6,23)),new G(30,new R(19,16),new R(6,17))),new xe(22,Int32Array.from([6,26,50,74,98]),new G(28,new R(2,111),new R(7,112)),new G(28,new R(17,46)),new G(30,new R(7,24),new R(16,25)),new G(24,new R(34,13))),new xe(23,Int32Array.from([6,30,54,78,102]),new G(30,new R(4,121),new R(5,122)),new G(28,new R(4,47),new R(14,48)),new G(30,new R(11,24),new R(14,25)),new G(30,new R(16,15),new R(14,16))),new xe(24,Int32Array.from([6,28,54,80,106]),new G(30,new R(6,117),new R(4,118)),new G(28,new R(6,45),new R(14,46)),new G(30,new R(11,24),new R(16,25)),new G(30,new R(30,16),new R(2,17))),new xe(25,Int32Array.from([6,32,58,84,110]),new G(26,new R(8,106),new R(4,107)),new G(28,new R(8,47),new R(13,48)),new G(30,new R(7,24),new R(22,25)),new G(30,new R(22,15),new R(13,16))),new xe(26,Int32Array.from([6,30,58,86,114]),new G(28,new R(10,114),new R(2,115)),new G(28,new R(19,46),new R(4,47)),new G(28,new R(28,22),new R(6,23)),new G(30,new R(33,16),new R(4,17))),new xe(27,Int32Array.from([6,34,62,90,118]),new G(30,new R(8,122),new R(4,123)),new G(28,new R(22,45),new R(3,46)),new G(30,new R(8,23),new R(26,24)),new G(30,new R(12,15),new R(28,16))),new xe(28,Int32Array.from([6,26,50,74,98,122]),new G(30,new R(3,117),new R(10,118)),new G(28,new R(3,45),new R(23,46)),new G(30,new R(4,24),new R(31,25)),new G(30,new R(11,15),new R(31,16))),new xe(29,Int32Array.from([6,30,54,78,102,126]),new G(30,new R(7,116),new R(7,117)),new G(28,new R(21,45),new R(7,46)),new G(30,new R(1,23),new R(37,24)),new G(30,new R(19,15),new R(26,16))),new xe(30,Int32Array.from([6,26,52,78,104,130]),new G(30,new R(5,115),new R(10,116)),new G(28,new R(19,47),new R(10,48)),new G(30,new R(15,24),new R(25,25)),new G(30,new R(23,15),new R(25,16))),new xe(31,Int32Array.from([6,30,56,82,108,134]),new G(30,new R(13,115),new R(3,116)),new G(28,new R(2,46),new R(29,47)),new G(30,new R(42,24),new R(1,25)),new G(30,new R(23,15),new R(28,16))),new xe(32,Int32Array.from([6,34,60,86,112,138]),new G(30,new R(17,115)),new G(28,new R(10,46),new R(23,47)),new G(30,new R(10,24),new R(35,25)),new G(30,new R(19,15),new R(35,16))),new xe(33,Int32Array.from([6,30,58,86,114,142]),new G(30,new R(17,115),new R(1,116)),new G(28,new R(14,46),new R(21,47)),new G(30,new R(29,24),new R(19,25)),new G(30,new R(11,15),new R(46,16))),new xe(34,Int32Array.from([6,34,62,90,118,146]),new G(30,new R(13,115),new R(6,116)),new G(28,new R(14,46),new R(23,47)),new G(30,new R(44,24),new R(7,25)),new G(30,new R(59,16),new R(1,17))),new xe(35,Int32Array.from([6,30,54,78,102,126,150]),new G(30,new R(12,121),new R(7,122)),new G(28,new R(12,47),new R(26,48)),new G(30,new R(39,24),new R(14,25)),new G(30,new R(22,15),new R(41,16))),new xe(36,Int32Array.from([6,24,50,76,102,128,154]),new G(30,new R(6,121),new R(14,122)),new G(28,new R(6,47),new R(34,48)),new G(30,new R(46,24),new R(10,25)),new G(30,new R(2,15),new R(64,16))),new xe(37,Int32Array.from([6,28,54,80,106,132,158]),new G(30,new R(17,122),new R(4,123)),new G(28,new R(29,46),new R(14,47)),new G(30,new R(49,24),new R(10,25)),new G(30,new R(24,15),new R(46,16))),new xe(38,Int32Array.from([6,32,58,84,110,136,162]),new G(30,new R(4,122),new R(18,123)),new G(28,new R(13,46),new R(32,47)),new G(30,new R(48,24),new R(14,25)),new G(30,new R(42,15),new R(32,16))),new xe(39,Int32Array.from([6,26,54,82,110,138,166]),new G(30,new R(20,117),new R(4,118)),new G(28,new R(40,47),new R(7,48)),new G(30,new R(43,24),new R(22,25)),new G(30,new R(10,15),new R(67,16))),new xe(40,Int32Array.from([6,30,58,86,114,142,170]),new G(30,new R(19,118),new R(6,119)),new G(28,new R(18,47),new R(31,48)),new G(30,new R(34,24),new R(34,25)),new G(30,new R(20,15),new R(61,16)))];var Xt;(function(U){U[U.DATA_MASK_000=0]="DATA_MASK_000",U[U.DATA_MASK_001=1]="DATA_MASK_001",U[U.DATA_MASK_010=2]="DATA_MASK_010",U[U.DATA_MASK_011=3]="DATA_MASK_011",U[U.DATA_MASK_100=4]="DATA_MASK_100",U[U.DATA_MASK_101=5]="DATA_MASK_101",U[U.DATA_MASK_110=6]="DATA_MASK_110",U[U.DATA_MASK_111=7]="DATA_MASK_111"})(Xt||(Xt={}));class cn{constructor(s,a){this.value=s,this.isMasked=a}unmaskBitMatrix(s,a){for(let l=0;l<a;l++)for(let h=0;h<a;h++)this.isMasked(l,h)&&s.flip(h,l)}}cn.values=new Map([[Xt.DATA_MASK_000,new cn(Xt.DATA_MASK_000,(U,s)=>(U+s&1)===0)],[Xt.DATA_MASK_001,new cn(Xt.DATA_MASK_001,(U,s)=>(U&1)===0)],[Xt.DATA_MASK_010,new cn(Xt.DATA_MASK_010,(U,s)=>s%3===0)],[Xt.DATA_MASK_011,new cn(Xt.DATA_MASK_011,(U,s)=>(U+s)%3===0)],[Xt.DATA_MASK_100,new cn(Xt.DATA_MASK_100,(U,s)=>(Math.floor(U/2)+Math.floor(s/3)&1)===0)],[Xt.DATA_MASK_101,new cn(Xt.DATA_MASK_101,(U,s)=>U*s%6===0)],[Xt.DATA_MASK_110,new cn(Xt.DATA_MASK_110,(U,s)=>U*s%6<3)],[Xt.DATA_MASK_111,new cn(Xt.DATA_MASK_111,(U,s)=>(U+s+U*s%3&1)===0)]]);class Gb{constructor(s){const a=s.getHeight();if(a<21||(a&3)!==1)throw new D;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let f=0;f<6;f++)s=this.copyBit(f,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let f=5;f>=0;f--)s=this.copyBit(8,f,s);const a=this.bitMatrix.getHeight();let l=0;const h=a-7;for(let f=a-1;f>=h;f--)l=this.copyBit(8,f,l);for(let f=a-8;f<a;f++)l=this.copyBit(f,8,l);if(this.parsedFormatInfo=ur.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new D}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),a=Math.floor((s-17)/4);if(a<=6)return xe.getVersionForNumber(a);let l=0;const h=s-11;for(let g=5;g>=0;g--)for(let w=s-9;w>=h;w--)l=this.copyBit(w,g,l);let f=xe.decodeVersionInformation(l);if(f!==null&&f.getDimensionForVersion()===s)return this.parsedVersion=f,f;l=0;for(let g=5;g>=0;g--)for(let w=s-9;w>=h;w--)l=this.copyBit(g,w,l);if(f=xe.decodeVersionInformation(l),f!==null&&f.getDimensionForVersion()===s)return this.parsedVersion=f,f;throw new D}copyBit(s,a,l){return(this.isMirror?this.bitMatrix.get(a,s):this.bitMatrix.get(s,a))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),a=this.readVersion(),l=cn.values.get(s.getDataMask()),h=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,h);const f=a.buildFunctionPattern();let g=!0;const w=new Uint8Array(a.getTotalCodewords());let B=0,y=0,b=0;for(let Q=h-1;Q>0;Q-=2){Q===6&&Q--;for(let O=0;O<h;O++){const M=g?h-1-O:O;for(let P=0;P<2;P++)f.get(Q-P,M)||(b++,y<<=1,this.bitMatrix.get(Q-P,M)&&(y|=1),b===8&&(w[B++]=y,b=0,y=0))}g=!g}if(B!==a.getTotalCodewords())throw new D;return w}remask(){if(this.parsedFormatInfo===null)return;const s=cn.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let a=0,l=s.getWidth();a<l;a++)for(let h=a+1,f=s.getHeight();h<f;h++)s.get(a,h)!==s.get(h,a)&&(s.flip(h,a),s.flip(a,h))}}class xd{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a,l){if(s.length!==a.getTotalCodewords())throw new m;const h=a.getECBlocksForLevel(l);let f=0;const g=h.getECBlocks();for(const P of g)f+=P.getCount();const w=new Array(f);let B=0;for(const P of g)for(let j=0;j<P.getCount();j++){const z=P.getDataCodewords(),X=h.getECCodewordsPerBlock()+z;w[B++]=new xd(z,new Uint8Array(X))}const y=w[0].codewords.length;let b=w.length-1;for(;b>=0&&w[b].codewords.length!==y;)b--;b++;const Q=y-h.getECCodewordsPerBlock();let O=0;for(let P=0;P<Q;P++)for(let j=0;j<B;j++)w[j].codewords[P]=s[O++];for(let P=b;P<B;P++)w[P].codewords[Q]=s[O++];const M=w[0].codewords.length;for(let P=Q;P<M;P++)for(let j=0;j<B;j++){const z=j<b?P:P+1;w[j].codewords[z]=s[O++]}return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var un;(function(U){U[U.TERMINATOR=0]="TERMINATOR",U[U.NUMERIC=1]="NUMERIC",U[U.ALPHANUMERIC=2]="ALPHANUMERIC",U[U.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",U[U.BYTE=4]="BYTE",U[U.ECI=5]="ECI",U[U.KANJI=6]="KANJI",U[U.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",U[U.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",U[U.HANZI=9]="HANZI"})(un||(un={}));class Ce{constructor(s,a,l,h){this.value=s,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=h,Ce.FOR_BITS.set(h,this),Ce.FOR_VALUE.set(s,this)}static forBits(s){const a=Ce.FOR_BITS.get(s);if(a===void 0)throw new m;return a}getCharacterCountBits(s){const a=s.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Ce))return!1;const a=s;return this.value===a.value}toString(){return this.stringValue}}Ce.FOR_BITS=new Map,Ce.FOR_VALUE=new Map,Ce.TERMINATOR=new Ce(un.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ce.NUMERIC=new Ce(un.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ce.ALPHANUMERIC=new Ce(un.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ce.STRUCTURED_APPEND=new Ce(un.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ce.BYTE=new Ce(un.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ce.ECI=new Ce(un.ECI,"ECI",Int32Array.from([0,0,0]),7),Ce.KANJI=new Ce(un.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ce.FNC1_FIRST_POSITION=new Ce(un.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ce.FNC1_SECOND_POSITION=new Ce(un.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ce.HANZI=new Ce(un.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Bt{static decode(s,a,l,h){const f=new Bd(s);let g=new Ae;const w=new Array;let B=-1,y=-1;try{let b=null,Q=!1,O;do{if(f.available()<4)O=Ce.TERMINATOR;else{const M=f.readBits(4);O=Ce.forBits(M)}switch(O){case Ce.TERMINATOR:break;case Ce.FNC1_FIRST_POSITION:case Ce.FNC1_SECOND_POSITION:Q=!0;break;case Ce.STRUCTURED_APPEND:if(f.available()<16)throw new D;B=f.readBits(8),y=f.readBits(8);break;case Ce.ECI:const M=Bt.parseECIValue(f);if(b=H.getCharacterSetECIByValue(M),b===null)throw new D;break;case Ce.HANZI:const P=f.readBits(4),j=f.readBits(O.getCharacterCountBits(a));P===Bt.GB2312_SUBSET&&Bt.decodeHanziSegment(f,g,j);break;default:const z=f.readBits(O.getCharacterCountBits(a));switch(O){case Ce.NUMERIC:Bt.decodeNumericSegment(f,g,z);break;case Ce.ALPHANUMERIC:Bt.decodeAlphanumericSegment(f,g,z,Q);break;case Ce.BYTE:Bt.decodeByteSegment(f,g,z,b,w,h);break;case Ce.KANJI:Bt.decodeKanjiSegment(f,g,z);break;default:throw new D}break}}while(O!==Ce.TERMINATOR)}catch{throw new D}return new Po(s,g.toString(),w.length===0?null:w,l===null?null:l.toString(),B,y)}static decodeHanziSegment(s,a,l){if(l*13>s.available())throw new D;const h=new Uint8Array(2*l);let f=0;for(;l>0;){const g=s.readBits(13);let w=g/96<<8&4294967295|g%96;w<959?w+=41377:w+=42657,h[f]=w>>8&255,h[f+1]=w&255,f+=2,l--}try{a.append(oe.decode(h,Z.GB2312))}catch(g){throw new D(g)}}static decodeKanjiSegment(s,a,l){if(l*13>s.available())throw new D;const h=new Uint8Array(2*l);let f=0;for(;l>0;){const g=s.readBits(13);let w=g/192<<8&4294967295|g%192;w<7936?w+=33088:w+=49472,h[f]=w>>8,h[f+1]=w,f+=2,l--}try{a.append(oe.decode(h,Z.SHIFT_JIS))}catch(g){throw new D(g)}}static decodeByteSegment(s,a,l,h,f,g){if(8*l>s.available())throw new D;const w=new Uint8Array(l);for(let y=0;y<l;y++)w[y]=s.readBits(8);let B;h===null?B=Z.guessEncoding(w,g):B=h.getName();try{a.append(oe.decode(w,B))}catch(y){throw new D(y)}f.push(w)}static toAlphaNumericChar(s){if(s>=Bt.ALPHANUMERIC_CHARS.length)throw new D;return Bt.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,a,l,h){const f=a.length();for(;l>1;){if(s.available()<11)throw new D;const g=s.readBits(11);a.append(Bt.toAlphaNumericChar(Math.floor(g/45))),a.append(Bt.toAlphaNumericChar(g%45)),l-=2}if(l===1){if(s.available()<6)throw new D;a.append(Bt.toAlphaNumericChar(s.readBits(6)))}if(h)for(let g=f;g<a.length();g++)a.charAt(g)==="%"&&(g<a.length()-1&&a.charAt(g+1)==="%"?a.deleteCharAt(g+1):a.setCharAt(g,""))}static decodeNumericSegment(s,a,l){for(;l>=3;){if(s.available()<10)throw new D;const h=s.readBits(10);if(h>=1e3)throw new D;a.append(Bt.toAlphaNumericChar(Math.floor(h/100))),a.append(Bt.toAlphaNumericChar(Math.floor(h/10)%10)),a.append(Bt.toAlphaNumericChar(h%10)),l-=3}if(l===2){if(s.available()<7)throw new D;const h=s.readBits(7);if(h>=100)throw new D;a.append(Bt.toAlphaNumericChar(Math.floor(h/10))),a.append(Bt.toAlphaNumericChar(h%10))}else if(l===1){if(s.available()<4)throw new D;const h=s.readBits(4);if(h>=10)throw new D;a.append(Bt.toAlphaNumericChar(h))}}static parseECIValue(s){const a=s.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const l=s.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=s.readBits(16);return(a&31)<<16&4294967295|l}throw new D}}Bt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Bt.GB2312_SUBSET=1;class vp{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const a=s[0];s[0]=s[2],s[2]=a}}class Wb{constructor(){this.rsDecoder=new jo(je.QR_CODE_FIELD_256)}decodeBooleanArray(s,a){return this.decodeBitMatrix(ye.parseFromBooleanArray(s),a)}decodeBitMatrix(s,a){const l=new Gb(s);let h=null;try{return this.decodeBitMatrixParser(l,a)}catch(f){h=f}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const f=this.decodeBitMatrixParser(l,a);return f.setOther(new vp(!0)),f}catch(f){throw h!==null?h:f}}decodeBitMatrixParser(s,a){const l=s.readVersion(),h=s.readFormatInformation().getErrorCorrectionLevel(),f=s.readCodewords(),g=xd.getDataBlocks(f,l,h);let w=0;for(const b of g)w+=b.getNumDataCodewords();const B=new Uint8Array(w);let y=0;for(const b of g){const Q=b.getCodewords(),O=b.getNumDataCodewords();this.correctErrors(Q,O);for(let M=0;M<O;M++)B[y++]=Q[M]}return Bt.decode(B,l,h,a)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new C}for(let h=0;h<a;h++)s[h]=l[h]}}class yd extends me{constructor(s,a,l){super(s,a),this.estimatedModuleSize=l}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const h=Math.abs(s-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const h=(this.getX()+a)/2,f=(this.getY()+s)/2,g=(this.estimatedModuleSize+l)/2;return new yd(h,f,g)}}class Yl{constructor(s,a,l,h,f,g,w){this.image=s,this.startX=a,this.startY=l,this.width=h,this.height=f,this.moduleSize=g,this.resultPointCallback=w,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,a=this.height,l=this.width,h=s+l,f=this.startY+a/2,g=new Int32Array(3),w=this.image;for(let B=0;B<a;B++){const y=f+(B&1?-Math.floor((B+1)/2):Math.floor((B+1)/2));g[0]=0,g[1]=0,g[2]=0;let b=s;for(;b<h&&!w.get(b,y);)b++;let Q=0;for(;b<h;){if(w.get(b,y))if(Q===1)g[1]++;else if(Q===2){if(this.foundPatternCross(g)){const O=this.handlePossibleCenter(g,y,b);if(O!==null)return O}g[0]=g[2],g[1]=1,g[2]=0,Q=1}else g[++Q]++;else Q===1&&Q++,g[Q]++;b++}if(this.foundPatternCross(g)){const O=this.handlePossibleCenter(g,y,h);if(O!==null)return O}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new V}static centerFromEnd(s,a){return a-s[2]-s[1]/2}foundPatternCross(s){const a=this.moduleSize,l=a/2;for(let h=0;h<3;h++)if(Math.abs(a-s[h])>=l)return!1;return!0}crossCheckVertical(s,a,l,h){const f=this.image,g=f.getHeight(),w=this.crossCheckStateCount;w[0]=0,w[1]=0,w[2]=0;let B=s;for(;B>=0&&f.get(a,B)&&w[1]<=l;)w[1]++,B--;if(B<0||w[1]>l)return NaN;for(;B>=0&&!f.get(a,B)&&w[0]<=l;)w[0]++,B--;if(w[0]>l)return NaN;for(B=s+1;B<g&&f.get(a,B)&&w[1]<=l;)w[1]++,B++;if(B===g||w[1]>l)return NaN;for(;B<g&&!f.get(a,B)&&w[2]<=l;)w[2]++,B++;if(w[2]>l)return NaN;const y=w[0]+w[1]+w[2];return 5*Math.abs(y-h)>=2*h?NaN:this.foundPatternCross(w)?Yl.centerFromEnd(w,B):NaN}handlePossibleCenter(s,a,l){const h=s[0]+s[1]+s[2],f=Yl.centerFromEnd(s,l),g=this.crossCheckVertical(a,f,2*s[1],h);if(!isNaN(g)){const w=(s[0]+s[1]+s[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(w,g,f))return y.combineEstimate(g,f,w);const B=new yd(f,g,w);this.possibleCenters.push(B),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(B)}return null}}class Cd extends me{constructor(s,a,l,h){super(s,a),this.estimatedModuleSize=l,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const h=Math.abs(s-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const h=this.count+1,f=(this.count*this.getX()+a)/h,g=(this.count*this.getY()+s)/h,w=(this.count*this.estimatedModuleSize+l)/h;return new Cd(f,g,w,h)}}class Xb{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Yt{constructor(s,a){this.image=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const a=s!=null&&s.get(k.TRY_HARDER)!==void 0,l=s!=null&&s.get(k.PURE_BARCODE)!==void 0,h=this.image,f=h.getHeight(),g=h.getWidth();let w=Math.floor(3*f/(4*Yt.MAX_MODULES));(w<Yt.MIN_SKIP||a)&&(w=Yt.MIN_SKIP);let B=!1;const y=new Int32Array(5);for(let Q=w-1;Q<f&&!B;Q+=w){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let O=0;for(let M=0;M<g;M++)if(h.get(M,Q))(O&1)===1&&O++,y[O]++;else if(O&1)y[O]++;else if(O===4)if(Yt.foundPatternCross(y)){if(this.handlePossibleCenter(y,Q,M,l)===!0)if(w=2,this.hasSkipped===!0)B=this.haveMultiplyConfirmedCenters();else{const j=this.findRowSkip();j>y[2]&&(Q+=j-y[2]-w,M=g-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,O=3;continue}O=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,O=3;else y[++O]++;Yt.foundPatternCross(y)&&this.handlePossibleCenter(y,Q,g,l)===!0&&(w=y[0],this.hasSkipped&&(B=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return me.orderBestPatterns(b),new Xb(b)}static centerFromEnd(s,a){return a-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let a=0;for(let f=0;f<5;f++){const g=s[f];if(g===0)return!1;a+=g}if(a<7)return!1;const l=a/7,h=l/2;return Math.abs(l-s[0])<h&&Math.abs(l-s[1])<h&&Math.abs(3*l-s[2])<3*h&&Math.abs(l-s[3])<h&&Math.abs(l-s[4])<h}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,a,l,h){const f=this.getCrossCheckStateCount();let g=0;const w=this.image;for(;s>=g&&a>=g&&w.get(a-g,s-g);)f[2]++,g++;if(s<g||a<g)return!1;for(;s>=g&&a>=g&&!w.get(a-g,s-g)&&f[1]<=l;)f[1]++,g++;if(s<g||a<g||f[1]>l)return!1;for(;s>=g&&a>=g&&w.get(a-g,s-g)&&f[0]<=l;)f[0]++,g++;if(f[0]>l)return!1;const B=w.getHeight(),y=w.getWidth();for(g=1;s+g<B&&a+g<y&&w.get(a+g,s+g);)f[2]++,g++;if(s+g>=B||a+g>=y)return!1;for(;s+g<B&&a+g<y&&!w.get(a+g,s+g)&&f[3]<l;)f[3]++,g++;if(s+g>=B||a+g>=y||f[3]>=l)return!1;for(;s+g<B&&a+g<y&&w.get(a+g,s+g)&&f[4]<l;)f[4]++,g++;if(f[4]>=l)return!1;const b=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(b-h)<2*h&&Yt.foundPatternCross(f)}crossCheckVertical(s,a,l,h){const f=this.image,g=f.getHeight(),w=this.getCrossCheckStateCount();let B=s;for(;B>=0&&f.get(a,B);)w[2]++,B--;if(B<0)return NaN;for(;B>=0&&!f.get(a,B)&&w[1]<=l;)w[1]++,B--;if(B<0||w[1]>l)return NaN;for(;B>=0&&f.get(a,B)&&w[0]<=l;)w[0]++,B--;if(w[0]>l)return NaN;for(B=s+1;B<g&&f.get(a,B);)w[2]++,B++;if(B===g)return NaN;for(;B<g&&!f.get(a,B)&&w[3]<l;)w[3]++,B++;if(B===g||w[3]>=l)return NaN;for(;B<g&&f.get(a,B)&&w[4]<l;)w[4]++,B++;if(w[4]>=l)return NaN;const y=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(y-h)>=2*h?NaN:Yt.foundPatternCross(w)?Yt.centerFromEnd(w,B):NaN}crossCheckHorizontal(s,a,l,h){const f=this.image,g=f.getWidth(),w=this.getCrossCheckStateCount();let B=s;for(;B>=0&&f.get(B,a);)w[2]++,B--;if(B<0)return NaN;for(;B>=0&&!f.get(B,a)&&w[1]<=l;)w[1]++,B--;if(B<0||w[1]>l)return NaN;for(;B>=0&&f.get(B,a)&&w[0]<=l;)w[0]++,B--;if(w[0]>l)return NaN;for(B=s+1;B<g&&f.get(B,a);)w[2]++,B++;if(B===g)return NaN;for(;B<g&&!f.get(B,a)&&w[3]<l;)w[3]++,B++;if(B===g||w[3]>=l)return NaN;for(;B<g&&f.get(B,a)&&w[4]<l;)w[4]++,B++;if(w[4]>=l)return NaN;const y=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(y-h)>=h?NaN:Yt.foundPatternCross(w)?Yt.centerFromEnd(w,B):NaN}handlePossibleCenter(s,a,l,h){const f=s[0]+s[1]+s[2]+s[3]+s[4];let g=Yt.centerFromEnd(s,l),w=this.crossCheckVertical(a,Math.floor(g),s[2],f);if(!isNaN(w)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(w),s[2],f),!isNaN(g)&&(!h||this.crossCheckDiagonal(Math.floor(w),Math.floor(g),s[2],f)))){const B=f/7;let y=!1;const b=this.possibleCenters;for(let Q=0,O=b.length;Q<O;Q++){const M=b[Q];if(M.aboutEquals(B,w,g)){b[Q]=M.combineEstimate(w,g,B),y=!0;break}}if(!y){const Q=new Cd(g,w,B);b.push(Q),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Q)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=Yt.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,a=0;const l=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=Yt.CENTER_QUORUM&&(s++,a+=g.getEstimatedModuleSize());if(s<3)return!1;const h=a/l;let f=0;for(const g of this.possibleCenters)f+=Math.abs(g.getEstimatedModuleSize()-h);return f<=.05*a}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new V;const a=this.possibleCenters;let l;if(s>3){let h=0,f=0;for(const B of this.possibleCenters){const y=B.getEstimatedModuleSize();h+=y,f+=y*y}l=h/s;let g=Math.sqrt(f/s-l*l);a.sort((B,y)=>{const b=Math.abs(y.getEstimatedModuleSize()-l),Q=Math.abs(B.getEstimatedModuleSize()-l);return b<Q?-1:b>Q?1:0});const w=Math.max(.2*l,g);for(let B=0;B<a.length&&a.length>3;B++){const y=a[B];Math.abs(y.getEstimatedModuleSize()-l)>w&&(a.splice(B,1),B--)}}if(a.length>3){let h=0;for(const f of a)h+=f.getEstimatedModuleSize();l=h/a.length,a.sort((f,g)=>{if(g.getCount()===f.getCount()){const w=Math.abs(g.getEstimatedModuleSize()-l),B=Math.abs(f.getEstimatedModuleSize()-l);return w<B?1:w>B?-1:0}else return g.getCount()-f.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Yt.CENTER_QUORUM=2,Yt.MIN_SKIP=3,Yt.MAX_MODULES=57;class Vo{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(k.NEED_RESULT_POINT_CALLBACK);const l=new Yt(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const a=s.getTopLeft(),l=s.getTopRight(),h=s.getBottomLeft(),f=this.calculateModuleSize(a,l,h);if(f<1)throw new V("No pattern found in proccess finder.");const g=Vo.computeDimension(a,l,h,f),w=xe.getProvisionalVersionForDimension(g),B=w.getDimensionForVersion()-7;let y=null;if(w.getAlignmentPatternCenters().length>0){const M=l.getX()-a.getX()+h.getX(),P=l.getY()-a.getY()+h.getY(),j=1-3/B,z=Math.floor(a.getX()+j*(M-a.getX())),X=Math.floor(a.getY()+j*(P-a.getY()));for(let te=4;te<=16;te<<=1)try{y=this.findAlignmentInRegion(f,z,X,te);break}catch(ne){if(!(ne instanceof V))throw ne}}const b=Vo.createTransform(a,l,h,y,g),Q=Vo.sampleGrid(this.image,b,g);let O;return y===null?O=[h,a,l]:O=[h,a,l,y],new Vl(Q,O)}static createTransform(s,a,l,h,f){const g=f-3.5;let w,B,y,b;return h!==null?(w=h.getX(),B=h.getY(),y=g-3,b=y):(w=a.getX()-s.getX()+l.getX(),B=a.getY()-s.getY()+l.getY(),y=g,b=g),In.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,y,b,3.5,g,s.getX(),s.getY(),a.getX(),a.getY(),w,B,l.getX(),l.getY())}static sampleGrid(s,a,l){return UA.getInstance().sampleGridWithTransform(s,l,l,a)}static computeDimension(s,a,l,h){const f=De.round(me.distance(s,a)/h),g=De.round(me.distance(s,l)/h);let w=Math.floor((f+g)/2)+7;switch(w&3){case 0:w++;break;case 2:w--;break;case 3:throw new V("Dimensions could be not found.")}return w}calculateModuleSize(s,a,l){return(this.calculateModuleSizeOneWay(s,a)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(a.getX()),Math.floor(a.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?h/7:isNaN(h)?l/7:(l+h)/14}sizeOfBlackWhiteBlackRunBothWays(s,a,l,h){let f=this.sizeOfBlackWhiteBlackRun(s,a,l,h),g=1,w=s-(l-s);w<0?(g=s/(s-w),w=0):w>=this.image.getWidth()&&(g=(this.image.getWidth()-1-s)/(w-s),w=this.image.getWidth()-1);let B=Math.floor(a-(h-a)*g);return g=1,B<0?(g=a/(a-B),B=0):B>=this.image.getHeight()&&(g=(this.image.getHeight()-1-a)/(B-a),B=this.image.getHeight()-1),w=Math.floor(s+(w-s)*g),f+=this.sizeOfBlackWhiteBlackRun(s,a,w,B),f-1}sizeOfBlackWhiteBlackRun(s,a,l,h){const f=Math.abs(h-a)>Math.abs(l-s);if(f){let M=s;s=a,a=M,M=l,l=h,h=M}const g=Math.abs(l-s),w=Math.abs(h-a);let B=-g/2;const y=s<l?1:-1,b=a<h?1:-1;let Q=0;const O=l+y;for(let M=s,P=a;M!==O;M+=y){const j=f?P:M,z=f?M:P;if(Q===1===this.image.get(j,z)){if(Q===2)return De.distance(M,P,s,a);Q++}if(B+=w,B>0){if(P===h)break;P+=b,B-=g}}return Q===2?De.distance(l+y,h,s,a):NaN}findAlignmentInRegion(s,a,l,h){const f=Math.floor(h*s),g=Math.max(0,a-f),w=Math.min(this.image.getWidth()-1,a+f);if(w-g<s*3)throw new V("Alignment top exceeds estimated module size.");const B=Math.max(0,l-f),y=Math.min(this.image.getHeight()-1,l+f);if(y-B<s*3)throw new V("Alignment bottom exceeds estimated module size.");return new Yl(this.image,g,B,w-g,y-B,s,this.resultPointCallback).find()}}class RA{constructor(){this.decoder=new Wb}getDecoder(){return this.decoder}decode(s,a){let l,h;if(a!=null&&a.get(k.PURE_BARCODE)!==void 0){const B=RA.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(B,a),h=RA.NO_POINTS}else{const B=new Vo(s.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(B.getBits(),a),h=B.getPoints()}l.getOther()instanceof vp&&l.getOther().applyMirroredCorrection(h);const f=new Te(l.getText(),l.getRawBytes(),void 0,h,le.QR_CODE,void 0),g=l.getByteSegments();g!==null&&f.putMetadata(Wt.BYTE_SEGMENTS,g);const w=l.getECLevel();return w!==null&&f.putMetadata(Wt.ERROR_CORRECTION_LEVEL,w),l.hasStructuredAppend()&&(f.putMetadata(Wt.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),f.putMetadata(Wt.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),f}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(a===null||l===null)throw new V;const h=this.moduleSize(a,s);let f=a[1],g=l[1],w=a[0],B=l[0];if(w>=B||f>=g)throw new V;if(g-f!==B-w&&(B=w+(g-f),B>=s.getWidth()))throw new V;const y=Math.round((B-w+1)/h),b=Math.round((g-f+1)/h);if(y<=0||b<=0)throw new V;if(b!==y)throw new V;const Q=Math.floor(h/2);f+=Q,w+=Q;const O=w+Math.floor((y-1)*h)-B;if(O>0){if(O>Q)throw new V;w-=O}const M=f+Math.floor((b-1)*h)-g;if(M>0){if(M>Q)throw new V;f-=M}const P=new ye(y,b);for(let j=0;j<b;j++){const z=f+Math.floor(j*h);for(let X=0;X<y;X++)s.get(w+Math.floor(X*h),z)&&P.set(X,j)}return P}static moduleSize(s,a){const l=a.getHeight(),h=a.getWidth();let f=s[0],g=s[1],w=!0,B=0;for(;f<h&&g<l;){if(w!==a.get(f,g)){if(++B===5)break;w=!w}f++,g++}if(f===h||g===l)throw new V;return(f-s[0])/7}}RA.NO_POINTS=new Array;class _e{PDF417Common(){}static getBitCountSum(s){return De.sum(s)}static toIntArray(s){if(s==null||!s.length)return _e.EMPTY_INT_ARRAY;const a=new Int32Array(s.length);let l=0;for(const h of s)a[l++]=h;return a}static getCodeword(s){const a=I.binarySearch(_e.SYMBOL_TABLE,s&262143);return a<0?-1:(_e.CODEWORD_TABLE[a]-1)%_e.NUMBER_OF_CODEWORDS}}_e.NUMBER_OF_CODEWORDS=929,_e.MAX_CODEWORDS_IN_BARCODE=_e.NUMBER_OF_CODEWORDS-1,_e.MIN_ROWS_IN_BARCODE=3,_e.MAX_ROWS_IN_BARCODE=90,_e.MODULES_IN_CODEWORD=17,_e.MODULES_IN_STOP_PATTERN=18,_e.BARS_IN_MODULE=8,_e.EMPTY_INT_ARRAY=new Int32Array([]),_e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),_e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Yb{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Fe{static detectMultiple(s,a,l){let h=s.getBlackMatrix(),f=Fe.detect(l,h);return f.length||(h=h.clone(),h.rotate180(),f=Fe.detect(l,h)),new Yb(h,f)}static detect(s,a){const l=new Array;let h=0,f=0,g=!1;for(;h<a.getHeight();){const w=Fe.findVertices(a,h,f);if(w[0]==null&&w[3]==null){if(!g)break;g=!1,f=0;for(const B of l)B[1]!=null&&(h=Math.trunc(Math.max(h,B[1].getY()))),B[3]!=null&&(h=Math.max(h,Math.trunc(B[3].getY())));h+=Fe.ROW_STEP;continue}if(g=!0,l.push(w),!s)break;w[2]!=null?(f=Math.trunc(w[2].getX()),h=Math.trunc(w[2].getY())):(f=Math.trunc(w[4].getX()),h=Math.trunc(w[4].getY()))}return l}static findVertices(s,a,l){const h=s.getHeight(),f=s.getWidth(),g=new Array(8);return Fe.copyToResult(g,Fe.findRowsWithPattern(s,h,f,a,l,Fe.START_PATTERN),Fe.INDEXES_START_PATTERN),g[4]!=null&&(l=Math.trunc(g[4].getX()),a=Math.trunc(g[4].getY())),Fe.copyToResult(g,Fe.findRowsWithPattern(s,h,f,a,l,Fe.STOP_PATTERN),Fe.INDEXES_STOP_PATTERN),g}static copyToResult(s,a,l){for(let h=0;h<l.length;h++)s[l[h]]=a[h]}static findRowsWithPattern(s,a,l,h,f,g){const w=new Array(4);let B=!1;const y=new Int32Array(g.length);for(;h<a;h+=Fe.ROW_STEP){let Q=Fe.findGuardPattern(s,f,h,l,!1,g,y);if(Q!=null){for(;h>0;){const O=Fe.findGuardPattern(s,f,--h,l,!1,g,y);if(O!=null)Q=O;else{h++;break}}w[0]=new me(Q[0],h),w[1]=new me(Q[1],h),B=!0;break}}let b=h+1;if(B){let Q=0,O=Int32Array.from([Math.trunc(w[0].getX()),Math.trunc(w[1].getX())]);for(;b<a;b++){const M=Fe.findGuardPattern(s,O[0],b,l,!1,g,y);if(M!=null&&Math.abs(O[0]-M[0])<Fe.MAX_PATTERN_DRIFT&&Math.abs(O[1]-M[1])<Fe.MAX_PATTERN_DRIFT)O=M,Q=0;else{if(Q>Fe.SKIPPED_ROW_COUNT_MAX)break;Q++}}b-=Q+1,w[2]=new me(O[0],b),w[3]=new me(O[1],b)}return b-h<Fe.BARCODE_MIN_HEIGHT&&I.fill(w,null),w}static findGuardPattern(s,a,l,h,f,g,w){I.fillWithin(w,0,w.length,0);let B=a,y=0;for(;s.get(B,l)&&B>0&&y++<Fe.MAX_PIXEL_DRIFT;)B--;let b=B,Q=0,O=g.length;for(let M=f;b<h;b++)if(s.get(b,l)!==M)w[Q]++;else{if(Q===O-1){if(Fe.patternMatchVariance(w,g,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE)return new Int32Array([B,b]);B+=w[0]+w[1],v.arraycopy(w,2,w,0,Q-1),w[Q-1]=0,w[Q]=0,Q--}else Q++;w[Q]=1,M=!M}return Q===O-1&&Fe.patternMatchVariance(w,g,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE?new Int32Array([B,b-1]):null}static patternMatchVariance(s,a,l){let h=s.length,f=0,g=0;for(let y=0;y<h;y++)f+=s[y],g+=a[y];if(f<g)return 1/0;let w=f/g;l*=w;let B=0;for(let y=0;y<h;y++){let b=s[y],Q=a[y]*w,O=b>Q?b-Q:Q-b;if(O>l)return 1/0;B+=O}return B/f}}Fe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Fe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Fe.MAX_AVG_VARIANCE=.42,Fe.MAX_INDIVIDUAL_VARIANCE=.8,Fe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Fe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Fe.MAX_PIXEL_DRIFT=3,Fe.MAX_PATTERN_DRIFT=5,Fe.SKIPPED_ROW_COUNT_MAX=25,Fe.ROW_STEP=5,Fe.BARCODE_MIN_HEIGHT=10;class er{constructor(s,a){if(a.length===0)throw new m;this.field=s;let l=a.length;if(l>1&&a[0]===0){let h=1;for(;h<l&&a[h]===0;)h++;h===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-h),v.arraycopy(a,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let h=0;for(let f of this.coefficients)h=this.field.add(h,f);return h}let a=this.coefficients[0],l=this.coefficients.length;for(let h=1;h<l;h++)a=this.field.add(this.field.multiply(s,a),this.coefficients[h]);return a}add(s){if(!this.field.equals(s.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){let g=a;a=l,l=g}let h=new Int32Array(l.length),f=l.length-a.length;v.arraycopy(l,0,h,0,f);for(let g=f;g<l.length;g++)h[g]=this.field.add(a[g-f],l[g]);return new er(this.field,h)}subtract(s){if(!this.field.equals(s.field))throw new m("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof er?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new er(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,h=s.coefficients,f=h.length,g=new Int32Array(l+f-1);for(let w=0;w<l;w++){let B=a[w];for(let y=0;y<f;y++)g[w+y]=this.field.add(g[w+y],this.field.multiply(B,h[y]))}return new er(this.field,g)}negative(){let s=this.coefficients.length,a=new Int32Array(s);for(let l=0;l<s;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new er(this.field,a)}multiplyScalar(s){if(s===0)return new er(this.field,new Int32Array([0]));if(s===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let h=0;h<a;h++)l[h]=this.field.multiply(this.coefficients[h],s);return new er(this.field,l)}multiplyByMonomial(s,a){if(s<0)throw new m;if(a===0)return new er(this.field,new Int32Array([0]));let l=this.coefficients.length,h=new Int32Array(l+s);for(let f=0;f<l;f++)h[f]=this.field.multiply(this.coefficients[f],a);return new er(this.field,h)}toString(){let s=new Ae;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(a===0||l!==1)&&s.append(l),a!==0&&(a===1?s.append("x"):(s.append("x^"),s.append(a))))}return s.toString()}}class Jb{add(s,a){return(s+a)%this.modulus}subtract(s,a){return(this.modulus+s-a)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new m;return this.logTable[s]}inverse(s){if(s===0)throw new jl;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,a){return s===0||a===0?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class vd extends Jb{constructor(s,a){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let h=0;h<s;h++)this.expTable[h]=l,l=l*a%s;for(let h=0;h<s-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new er(this,new Int32Array([0])),this.one=new er(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new m;if(a===0)return this.zero;let l=new Int32Array(s+1);return l[0]=a,new er(this,l)}}vd.PDF417_GF=new vd(_e.NUMBER_OF_CODEWORDS,3);class Ep{constructor(){this.field=vd.PDF417_GF}decode(s,a,l){let h=new er(this.field,s),f=new Int32Array(a),g=!1;for(let P=a;P>0;P--){let j=h.evaluateAt(this.field.exp(P));f[a-P]=j,j!==0&&(g=!0)}if(!g)return 0;let w=this.field.getOne();if(l!=null)for(const P of l){let j=this.field.exp(s.length-1-P),z=new er(this.field,new Int32Array([this.field.subtract(0,j),1]));w=w.multiply(z)}let B=new er(this.field,f),y=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),B,a),b=y[0],Q=y[1],O=this.findErrorLocations(b),M=this.findErrorMagnitudes(Q,b,O);for(let P=0;P<O.length;P++){let j=s.length-1-this.field.log(O[P]);if(j<0)throw C.getChecksumInstance();s[j]=this.field.subtract(s[j],M[P])}return O.length}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){let O=s;s=a,a=O}let h=s,f=a,g=this.field.getZero(),w=this.field.getOne();for(;f.getDegree()>=Math.round(l/2);){let O=h,M=g;if(h=f,g=w,h.isZero())throw C.getChecksumInstance();f=O;let P=this.field.getZero(),j=h.getCoefficient(h.getDegree()),z=this.field.inverse(j);for(;f.getDegree()>=h.getDegree()&&!f.isZero();){let X=f.getDegree()-h.getDegree(),te=this.field.multiply(f.getCoefficient(f.getDegree()),z);P=P.add(this.field.buildMonomial(X,te)),f=f.subtract(h.multiplyByMonomial(X,te))}w=P.multiply(g).subtract(M).negative()}let B=w.getCoefficient(0);if(B===0)throw C.getChecksumInstance();let y=this.field.inverse(B),b=w.multiply(y),Q=f.multiply(y);return[b,Q]}findErrorLocations(s){let a=s.getDegree(),l=new Int32Array(a),h=0;for(let f=1;f<this.field.getSize()&&h<a;f++)s.evaluateAt(f)===0&&(l[h]=this.field.inverse(f),h++);if(h!==a)throw C.getChecksumInstance();return l}findErrorMagnitudes(s,a,l){let h=a.getDegree(),f=new Int32Array(h);for(let y=1;y<=h;y++)f[h-y]=this.field.multiply(y,a.getCoefficient(y));let g=new er(this.field,f),w=l.length,B=new Int32Array(w);for(let y=0;y<w;y++){let b=this.field.inverse(l[y]),Q=this.field.subtract(0,s.evaluateAt(b)),O=this.field.inverse(g.evaluateAt(b));B[y]=this.field.multiply(Q,O)}return B}}class Qi{constructor(s,a,l,h,f){s instanceof Qi?this.constructor_2(s):this.constructor_1(s,a,l,h,f)}constructor_1(s,a,l,h,f){const g=a==null||l==null,w=h==null||f==null;if(g&&w)throw new V;g?(a=new me(0,h.getY()),l=new me(0,f.getY())):w&&(h=new me(s.getWidth()-1,a.getY()),f=new me(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=a,this.bottomLeft=l,this.topRight=h,this.bottomRight=f,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(h.getX(),f.getX())),this.minY=Math.trunc(Math.min(a.getY(),h.getY())),this.maxY=Math.trunc(Math.max(l.getY(),f.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,a){return s==null?a:a==null?s:new Qi(s.image,s.topLeft,s.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(s,a,l){let h=this.topLeft,f=this.bottomLeft,g=this.topRight,w=this.bottomRight;if(s>0){let B=l?this.topLeft:this.topRight,y=Math.trunc(B.getY()-s);y<0&&(y=0);let b=new me(B.getX(),y);l?h=b:g=b}if(a>0){let B=l?this.bottomLeft:this.bottomRight,y=Math.trunc(B.getY()+a);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let b=new me(B.getX(),y);l?f=b:w=b}return new Qi(this.image,h,f,g,w)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Zb{constructor(s,a,l,h){this.columnCount=s,this.errorCorrectionLevel=h,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class zo{constructor(){this.buffer=""}static form(s,a){let l=-1;function h(g,w,B,y,b,Q){if(g==="%%")return"%";if(a[++l]===void 0)return;g=y?parseInt(y.substr(1)):void 0;let O=b?parseInt(b.substr(1)):void 0,M;switch(Q){case"s":M=a[l];break;case"c":M=a[l][0];break;case"f":M=parseFloat(a[l]).toFixed(g);break;case"p":M=parseFloat(a[l]).toPrecision(g);break;case"e":M=parseFloat(a[l]).toExponential(g);break;case"x":M=parseInt(a[l]).toString(O||16);break;case"d":M=parseFloat(parseInt(a[l],O||10).toPrecision(g)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(O);let P=parseInt(B),j=B&&B[0]+""=="0"?"0":" ";for(;M.length<P;)M=w!==void 0?M+j:j+M;return M}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(f,h)}format(s,...a){this.buffer+=zo.form(s,a)}toString(){return this.buffer}}class Go{constructor(s){this.boundingBox=new Qi(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let a=this.getCodeword(s);if(a!=null)return a;for(let l=1;l<Go.MAX_NEARBY_DISTANCE;l++){let h=this.imageRowToCodewordIndex(s)-l;if(h>=0&&(a=this.codewords[h],a!=null)||(h=this.imageRowToCodewordIndex(s)+l,h<this.codewords.length&&(a=this.codewords[h],a!=null)))return a}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,a){this.codewords[this.imageRowToCodewordIndex(s)]=a}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new zo;let a=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",a++);continue}s.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return s.toString()}}Go.MAX_NEARBY_DISTANCE=5;class Wo{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let a=this.values.get(s);a==null&&(a=0),a++,this.values.set(s,a)}getValue(){let s=-1,a=new Array;for(const[l,h]of this.values.entries()){const f={getKey:()=>l,getValue:()=>h};f.getValue()>s?(s=f.getValue(),a=[],a.push(f.getKey())):f.getValue()===s&&a.push(f.getKey())}return _e.toIntArray(a)}getConfidence(s){return this.values.get(s)}}class bp extends Go{constructor(s,a){super(s),this._isLeft=a}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,s);let l=this.getBoundingBox(),h=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=this.imageRowToCodewordIndex(Math.trunc(f.getY())),B=-1,y=1,b=0;for(let Q=g;Q<w;Q++){if(a[Q]==null)continue;let O=a[Q],M=O.getRowNumber()-B;if(M===0)b++;else if(M===1)y=Math.max(y,b),b=1,B=O.getRowNumber();else if(M<0||O.getRowNumber()>=s.getRowCount()||M>Q)a[Q]=null;else{let P;y>2?P=(y-2)*M:P=M;let j=P>=Q;for(let z=1;z<=P&&!j;z++)j=a[Q-z]!=null;j?a[Q]=null:(B=O.getRowNumber(),b=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let a=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let h=l.getRowNumber();if(h>=a.length)continue;a[h]++}return a}adjustIncompleteIndicatorColumnRowNumbers(s){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),h=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=this.getCodewords(),B=-1;for(let y=f;y<g;y++){if(w[y]==null)continue;let b=w[y];b.setRowNumberAsRowIndicatorColumn();let Q=b.getRowNumber()-B;Q===0||(Q===1?B=b.getRowNumber():b.getRowNumber()>=s.getRowCount()?w[y]=null:B=b.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),a=new Wo,l=new Wo,h=new Wo,f=new Wo;for(let w of s){if(w==null)continue;w.setRowNumberAsRowIndicatorColumn();let B=w.getValue()%30,y=w.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:l.setValue(B*3+1);break;case 1:f.setValue(B/3),h.setValue(B%3);break;case 2:a.setValue(B+1);break}}if(a.getValue().length===0||l.getValue().length===0||h.getValue().length===0||f.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+h.getValue()[0]<_e.MIN_ROWS_IN_BARCODE||l.getValue()[0]+h.getValue()[0]>_e.MAX_ROWS_IN_BARCODE)return null;let g=new Zb(a.getValue()[0],l.getValue()[0],h.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(s,g),g}removeIncorrectCodewords(s,a){for(let l=0;l<s.length;l++){let h=s[l];if(s[l]==null)continue;let f=h.getValue()%30,g=h.getRowNumber();if(g>a.getRowCount()){s[l]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:f*3+1!==a.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(f/3)!==a.getErrorCorrectionLevel()||f%3!==a.getRowCountLowerPart())&&(s[l]=null);break;case 2:f+1!==a.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Xo{constructor(s,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=_e.MAX_CODEWORDS_IN_BARCODE,a;do a=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let h=0;h<l.length;h++)l[h]!=null&&(l[h].hasValidRowNumber()||this.adjustRowNumbers(a,h,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&a[l]!=null&&s[l].getRowNumber()===a[l].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let f=this.detectionResultColumns[h].getCodewords()[l];f!=null&&(f.setRowNumber(s[l].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let h=a[l].getRowNumber(),f=0;for(let g=this.barcodeColumnCount+1;g>0&&f<this.ADJUST_ROW_NUMBER_SKIP;g--){let w=this.detectionResultColumns[g].getCodewords()[l];w!=null&&(f=Xo.adjustRowNumberIfValid(h,f,w),w.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let h=a[l].getRowNumber(),f=0;for(let g=1;g<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;g++){let w=this.detectionResultColumns[g].getCodewords()[l];w!=null&&(f=Xo.adjustRowNumberIfValid(h,f,w),w.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),a=0):++a),a}adjustRowNumbers(s,a,l){if(!this.detectionResultColumns[s-1])return;let h=l[a],f=this.detectionResultColumns[s-1].getCodewords(),g=f;this.detectionResultColumns[s+1]!=null&&(g=this.detectionResultColumns[s+1].getCodewords());let w=new Array(14);w[2]=f[a],w[3]=g[a],a>0&&(w[0]=l[a-1],w[4]=f[a-1],w[5]=g[a-1]),a>1&&(w[8]=l[a-2],w[10]=f[a-2],w[11]=g[a-2]),a<l.length-1&&(w[1]=l[a+1],w[6]=f[a+1],w[7]=g[a+1]),a<l.length-2&&(w[9]=l[a+2],w[12]=f[a+2],w[13]=g[a+2]);for(let B of w)if(Xo.adjustRowNumber(h,B))return}static adjustRowNumber(s,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===s.getBucket()?(s.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,a){this.detectionResultColumns[s]=a}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new zo;for(let l=0;l<s.getCodewords().length;l++){a.format("CW %3d:",l);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){a.format("    |   ");continue}let f=this.detectionResultColumns[h].getCodewords()[l];if(f==null){a.format("    |   ");continue}a.format(" %3d|%3d",f.getRowNumber(),f.getValue())}a.format("%n")}return a.toString()}}class Yo{constructor(s,a,l,h){this.rowNumber=Yo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Yo.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Yo.BARCODE_ROW_UNKNOWN=-1;class Or{static initialize(){for(let s=0;s<_e.SYMBOL_TABLE.length;s++){let a=_e.SYMBOL_TABLE[s],l=a&1;for(let h=0;h<_e.BARS_IN_MODULE;h++){let f=0;for(;(a&1)===l;)f+=1,a>>=1;l=a&1,Or.RATIOS_TABLE[s]||(Or.RATIOS_TABLE[s]=new Array(_e.BARS_IN_MODULE)),Or.RATIOS_TABLE[s][_e.BARS_IN_MODULE-h-1]=Math.fround(f/_e.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let a=Or.getDecodedCodewordValue(Or.sampleBitCounts(s));return a!==-1?a:Or.getClosestDecodedValue(s)}static sampleBitCounts(s){let a=De.sum(s),l=new Int32Array(_e.BARS_IN_MODULE),h=0,f=0;for(let g=0;g<_e.MODULES_IN_CODEWORD;g++){let w=a/(2*_e.MODULES_IN_CODEWORD)+g*a/_e.MODULES_IN_CODEWORD;f+s[h]<=w&&(f+=s[h],h++),l[h]++}return l}static getDecodedCodewordValue(s){let a=Or.getBitValue(s);return _e.getCodeword(a)===-1?-1:a}static getBitValue(s){let a=0;for(let l=0;l<s.length;l++)for(let h=0;h<s[l];h++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(s){let a=De.sum(s),l=new Array(_e.BARS_IN_MODULE);if(a>1)for(let g=0;g<l.length;g++)l[g]=Math.fround(s[g]/a);let h=Kl.MAX_VALUE,f=-1;this.bSymbolTableReady||Or.initialize();for(let g=0;g<Or.RATIOS_TABLE.length;g++){let w=0,B=Or.RATIOS_TABLE[g];for(let y=0;y<_e.BARS_IN_MODULE;y++){let b=Math.fround(B[y]-l[y]);if(w+=Math.fround(b*b),w>=h)break}w<h&&(h=w,f=_e.SYMBOL_TABLE[g])}return f}}Or.bSymbolTableReady=!1,Or.RATIOS_TABLE=new Array(_e.SYMBOL_TABLE.length).map(U=>new Array(_e.BARS_IN_MODULE));class _p{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Ip{static parseLong(s,a=void 0){return parseInt(s,a)}}class Sp extends d{}Sp.kind="NullPointerException";class qb{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,a,l){if(s==null)throw new Sp;if(a<0||a>s.length||l<0||a+l>s.length||a+l<0)throw new F;if(l===0)return;for(let h=0;h<l;h++)this.write(s[a+h])}flush(){}close(){}}class $b extends d{}class e_ extends qb{constructor(s=32){if(super(),this.count=0,s<0)throw new m("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new $b;l=T.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,a,l){if(a<0||a>s.length||l<0||a+l-s.length>0)throw new F;this.ensureCapacity(this.count+l),v.arraycopy(s,a,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Ze;(function(U){U[U.ALPHA=0]="ALPHA",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.PUNCT=3]="PUNCT",U[U.ALPHA_SHIFT=4]="ALPHA_SHIFT",U[U.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ze||(Ze={}));function Fp(){if(typeof window<"u")return window.BigInt||null;if(typeof qo<"u")return qo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Jl;function MA(U){if(typeof Jl>"u"&&(Jl=Fp()),Jl===null)throw new Error("BigInt is not supported!");return Jl(U)}function t_(){let U=[];U[0]=MA(1);let s=MA(900);U[1]=s;for(let a=2;a<16;a++)U[a]=U[a-1]*s;return U}class W{static decode(s,a){let l=new Ae(""),h=H.ISO8859_1;l.enableDecoding(h);let f=1,g=s[f++],w=new _p;for(;f<s[0];){switch(g){case W.TEXT_COMPACTION_MODE_LATCH:f=W.textCompaction(s,f,l);break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:f=W.byteCompaction(g,s,h,f,l);break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[f++]);break;case W.NUMERIC_COMPACTION_MODE_LATCH:f=W.numericCompaction(s,f,l);break;case W.ECI_CHARSET:H.getCharacterSetECIByValue(s[f++]);break;case W.ECI_GENERAL_PURPOSE:f+=2;break;case W.ECI_USER_DEFINED:f++;break;case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=W.decodeMacroBlock(s,f,w);break;case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:throw new D;default:f--,f=W.textCompaction(s,f,l);break}if(f<s.length)g=s[f++];else throw D.getFormatInstance()}if(l.length()===0)throw D.getFormatInstance();let B=new Po(null,l.toString(),null,a);return B.setOther(w),B}static decodeMacroBlock(s,a,l){if(a+W.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw D.getFormatInstance();let h=new Int32Array(W.NUMBER_OF_SEQUENCE_CODEWORDS);for(let w=0;w<W.NUMBER_OF_SEQUENCE_CODEWORDS;w++,a++)h[w]=s[a];l.setSegmentIndex(T.parseInt(W.decodeBase900toBase10(h,W.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new Ae;a=W.textCompaction(s,a,f),l.setFileId(f.toString());let g=-1;for(s[a]===W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=a+1);a<s[0];)switch(s[a]){case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,s[a]){case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let w=new Ae;a=W.textCompaction(s,a+1,w),l.setFileName(w.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let B=new Ae;a=W.textCompaction(s,a+1,B),l.setSender(B.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new Ae;a=W.textCompaction(s,a+1,y),l.setAddressee(y.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new Ae;a=W.numericCompaction(s,a+1,b),l.setSegmentCount(T.parseInt(b.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Q=new Ae;a=W.numericCompaction(s,a+1,Q),l.setTimestamp(Ip.parseLong(Q.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let O=new Ae;a=W.numericCompaction(s,a+1,O),l.setChecksum(T.parseInt(O.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let M=new Ae;a=W.numericCompaction(s,a+1,M),l.setFileSize(Ip.parseLong(M.toString()));break;default:throw D.getFormatInstance()}break;case W.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw D.getFormatInstance()}if(g!==-1){let w=a-g;l.isLastSegment()&&w--,l.setOptionalData(I.copyOfRange(s,g,g+w))}return a}static textCompaction(s,a,l){let h=new Int32Array((s[0]-a)*2),f=new Int32Array((s[0]-a)*2),g=0,w=!1;for(;a<s[0]&&!w;){let B=s[a++];if(B<W.TEXT_COMPACTION_MODE_LATCH)h[g]=B/30,h[g+1]=B%30,g+=2;else switch(B){case W.TEXT_COMPACTION_MODE_LATCH:h[g++]=W.TEXT_COMPACTION_MODE_LATCH;break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:a--,w=!0;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[g]=W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,B=s[a++],f[g]=B,g++;break}}return W.decodeTextCompaction(h,f,g,l),a}static decodeTextCompaction(s,a,l,h){let f=Ze.ALPHA,g=Ze.ALPHA,w=0;for(;w<l;){let B=s[w],y="";switch(f){case Ze.ALPHA:if(B<26)y=String.fromCharCode(65+B);else switch(B){case 26:y=" ";break;case W.LL:f=Ze.LOWER;break;case W.ML:f=Ze.MIXED;break;case W.PS:g=f,f=Ze.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(a[w]);break;case W.TEXT_COMPACTION_MODE_LATCH:f=Ze.ALPHA;break}break;case Ze.LOWER:if(B<26)y=String.fromCharCode(97+B);else switch(B){case 26:y=" ";break;case W.AS:g=f,f=Ze.ALPHA_SHIFT;break;case W.ML:f=Ze.MIXED;break;case W.PS:g=f,f=Ze.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(a[w]);break;case W.TEXT_COMPACTION_MODE_LATCH:f=Ze.ALPHA;break}break;case Ze.MIXED:if(B<W.PL)y=W.MIXED_CHARS[B];else switch(B){case W.PL:f=Ze.PUNCT;break;case 26:y=" ";break;case W.LL:f=Ze.LOWER;break;case W.AL:f=Ze.ALPHA;break;case W.PS:g=f,f=Ze.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(a[w]);break;case W.TEXT_COMPACTION_MODE_LATCH:f=Ze.ALPHA;break}break;case Ze.PUNCT:if(B<W.PAL)y=W.PUNCT_CHARS[B];else switch(B){case W.PAL:f=Ze.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(a[w]);break;case W.TEXT_COMPACTION_MODE_LATCH:f=Ze.ALPHA;break}break;case Ze.ALPHA_SHIFT:if(f=g,B<26)y=String.fromCharCode(65+B);else switch(B){case 26:y=" ";break;case W.TEXT_COMPACTION_MODE_LATCH:f=Ze.ALPHA;break}break;case Ze.PUNCT_SHIFT:if(f=g,B<W.PAL)y=W.PUNCT_CHARS[B];else switch(B){case W.PAL:f=Ze.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(a[w]);break;case W.TEXT_COMPACTION_MODE_LATCH:f=Ze.ALPHA;break}break}y!==""&&h.append(y),w++}}static byteCompaction(s,a,l,h,f){let g=new e_,w=0,B=0,y=!1;switch(s){case W.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),Q=a[h++];for(;h<a[0]&&!y;)switch(b[w++]=Q,B=900*B+Q,Q=a[h++],Q){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:h--,y=!0;break;default:if(w%5===0&&w>0){for(let O=0;O<6;++O)g.write(Number(MA(B)>>MA(8*(5-O))));B=0,w=0}break}h===a[0]&&Q<W.TEXT_COMPACTION_MODE_LATCH&&(b[w++]=Q);for(let O=0;O<w;O++)g.write(b[O]);break;case W.BYTE_COMPACTION_MODE_LATCH_6:for(;h<a[0]&&!y;){let O=a[h++];if(O<W.TEXT_COMPACTION_MODE_LATCH)w++,B=900*B+O;else switch(O){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:h--,y=!0;break}if(w%5===0&&w>0){for(let M=0;M<6;++M)g.write(Number(MA(B)>>MA(8*(5-M))));B=0,w=0}}break}return f.append(oe.decode(g.toByteArray(),l)),h}static numericCompaction(s,a,l){let h=0,f=!1,g=new Int32Array(W.MAX_NUMERIC_CODEWORDS);for(;a<s[0]&&!f;){let w=s[a++];if(a===s[0]&&(f=!0),w<W.TEXT_COMPACTION_MODE_LATCH)g[h]=w,h++;else switch(w){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:a--,f=!0;break}(h%W.MAX_NUMERIC_CODEWORDS===0||w===W.NUMERIC_COMPACTION_MODE_LATCH||f)&&h>0&&(l.append(W.decodeBase900toBase10(g,h)),h=0)}return a}static decodeBase900toBase10(s,a){let l=MA(0);for(let f=0;f<a;f++)l+=W.EXP900[a-f-1]*MA(s[f]);let h=l.toString();if(h.charAt(0)!=="1")throw new D;return h.substring(1)}}W.TEXT_COMPACTION_MODE_LATCH=900,W.BYTE_COMPACTION_MODE_LATCH=901,W.NUMERIC_COMPACTION_MODE_LATCH=902,W.BYTE_COMPACTION_MODE_LATCH_6=924,W.ECI_USER_DEFINED=925,W.ECI_GENERAL_PURPOSE=926,W.ECI_CHARSET=927,W.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,W.MACRO_PDF417_TERMINATOR=922,W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,W.MAX_NUMERIC_CODEWORDS=15,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,W.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,W.PL=25,W.LL=27,W.AS=27,W.ML=28,W.AL=28,W.PS=29,W.PAL=29,W.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,W.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",W.EXP900=Fp()?t_():[],W.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ue{constructor(){}static decode(s,a,l,h,f,g,w){let B=new Qi(s,a,l,h,f),y=null,b=null,Q;for(let P=!0;;P=!1){if(a!=null&&(y=Ue.getRowIndicatorColumn(s,B,a,!0,g,w)),h!=null&&(b=Ue.getRowIndicatorColumn(s,B,h,!1,g,w)),Q=Ue.merge(y,b),Q==null)throw V.getNotFoundInstance();let j=Q.getBoundingBox();if(P&&j!=null&&(j.getMinY()<B.getMinY()||j.getMaxY()>B.getMaxY()))B=j;else break}Q.setBoundingBox(B);let O=Q.getBarcodeColumnCount()+1;Q.setDetectionResultColumn(0,y),Q.setDetectionResultColumn(O,b);let M=y!=null;for(let P=1;P<=O;P++){let j=M?P:O-P;if(Q.getDetectionResultColumn(j)!==void 0)continue;let z;j===0||j===O?z=new bp(B,j===0):z=new Go(B),Q.setDetectionResultColumn(j,z);let X=-1,te=X;for(let ne=B.getMinY();ne<=B.getMaxY();ne++){if(X=Ue.getStartColumn(Q,j,ne,M),X<0||X>B.getMaxX()){if(te===-1)continue;X=te}let $=Ue.detectCodeword(s,B.getMinX(),B.getMaxX(),M,X,ne,g,w);$!=null&&(z.setCodeword(ne,$),te=X,g=Math.min(g,$.getWidth()),w=Math.max(w,$.getWidth()))}}return Ue.createDecoderResult(Q)}static merge(s,a){if(s==null&&a==null)return null;let l=Ue.getBarcodeMetadata(s,a);if(l==null)return null;let h=Qi.merge(Ue.adjustBoundingBox(s),Ue.adjustBoundingBox(a));return new Xo(l,h)}static adjustBoundingBox(s){if(s==null)return null;let a=s.getRowHeights();if(a==null)return null;let l=Ue.getMax(a),h=0;for(let w of a)if(h+=l-w,w>0)break;let f=s.getCodewords();for(let w=0;h>0&&f[w]==null;w++)h--;let g=0;for(let w=a.length-1;w>=0&&(g+=l-a[w],!(a[w]>0));w--);for(let w=f.length-1;g>0&&f[w]==null;w--)g--;return s.getBoundingBox().addMissingRows(h,g,s.isLeft())}static getMax(s){let a=-1;for(let l of s)a=Math.max(a,l);return a}static getBarcodeMetadata(s,a){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let h;return a==null||(h=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==h.getColumnCount()&&l.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&l.getRowCount()!==h.getRowCount()?null:l}static getRowIndicatorColumn(s,a,l,h,f,g){let w=new bp(a,h);for(let B=0;B<2;B++){let y=B===0?1:-1,b=Math.trunc(Math.trunc(l.getX()));for(let Q=Math.trunc(Math.trunc(l.getY()));Q<=a.getMaxY()&&Q>=a.getMinY();Q+=y){let O=Ue.detectCodeword(s,0,s.getWidth(),h,b,Q,f,g);O!=null&&(w.setCodeword(Q,O),h?b=O.getStartX():b=O.getEndX())}}return w}static adjustCodewordCount(s,a){let l=a[0][1],h=l.getValue(),f=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Ue.getNumberOfECCodeWords(s.getBarcodeECLevel());if(h.length===0){if(f<1||f>_e.MAX_CODEWORDS_IN_BARCODE)throw V.getNotFoundInstance();l.setValue(f)}else h[0]!==f&&l.setValue(f)}static createDecoderResult(s){let a=Ue.createBarcodeMatrix(s);Ue.adjustCodewordCount(s,a);let l=new Array,h=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),f=[],g=new Array;for(let B=0;B<s.getBarcodeRowCount();B++)for(let y=0;y<s.getBarcodeColumnCount();y++){let b=a[B][y+1].getValue(),Q=B*s.getBarcodeColumnCount()+y;b.length===0?l.push(Q):b.length===1?h[Q]=b[0]:(g.push(Q),f.push(b))}let w=new Array(f.length);for(let B=0;B<w.length;B++)w[B]=f[B];return Ue.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),h,_e.toIntArray(l),_e.toIntArray(g),w)}static createDecoderResultFromAmbiguousValues(s,a,l,h,f){let g=new Int32Array(h.length),w=100;for(;w-- >0;){for(let B=0;B<g.length;B++)a[h[B]]=f[B][g[B]];try{return Ue.decodeCodewords(a,s,l)}catch(B){if(!(B instanceof C))throw B}if(g.length===0)throw C.getChecksumInstance();for(let B=0;B<g.length;B++)if(g[B]<f[B].length-1){g[B]++;break}else if(g[B]=0,B===g.length-1)throw C.getChecksumInstance()}throw C.getChecksumInstance()}static createBarcodeMatrix(s){let a=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let h=0;h<a.length;h++)for(let f=0;f<a[h].length;f++)a[h][f]=new Wo;let l=0;for(let h of s.getDetectionResultColumns()){if(h!=null){for(let f of h.getCodewords())if(f!=null){let g=f.getRowNumber();if(g>=0){if(g>=a.length)continue;a[g][l].setValue(f.getValue())}}}l++}return a}static isValidBarcodeColumn(s,a){return a>=0&&a<=s.getBarcodeColumnCount()+1}static getStartColumn(s,a,l,h){let f=h?1:-1,g=null;if(Ue.isValidBarcodeColumn(s,a-f)&&(g=s.getDetectionResultColumn(a-f).getCodeword(l)),g!=null)return h?g.getEndX():g.getStartX();if(g=s.getDetectionResultColumn(a).getCodewordNearby(l),g!=null)return h?g.getStartX():g.getEndX();if(Ue.isValidBarcodeColumn(s,a-f)&&(g=s.getDetectionResultColumn(a-f).getCodewordNearby(l)),g!=null)return h?g.getEndX():g.getStartX();let w=0;for(;Ue.isValidBarcodeColumn(s,a-f);){a-=f;for(let B of s.getDetectionResultColumn(a).getCodewords())if(B!=null)return(h?B.getEndX():B.getStartX())+f*w*(B.getEndX()-B.getStartX());w++}return h?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,a,l,h,f,g,w,B){f=Ue.adjustCodewordStartColumn(s,a,l,h,f,g);let y=Ue.getModuleBitCount(s,a,l,h,f,g);if(y==null)return null;let b,Q=De.sum(y);if(h)b=f+Q;else{for(let P=0;P<y.length/2;P++){let j=y[P];y[P]=y[y.length-1-P],y[y.length-1-P]=j}b=f,f=b-Q}if(!Ue.checkCodewordSkew(Q,w,B))return null;let O=Or.getDecodedValue(y),M=_e.getCodeword(O);return M===-1?null:new Yo(f,b,Ue.getCodewordBucketNumber(O),M)}static getModuleBitCount(s,a,l,h,f,g){let w=f,B=new Int32Array(8),y=0,b=h?1:-1,Q=h;for(;(h?w<l:w>=a)&&y<B.length;)s.get(w,g)===Q?(B[y]++,w+=b):(y++,Q=!Q);return y===B.length||w===(h?l:a)&&y===B.length-1?B:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,a,l,h,f,g){let w=f,B=h?-1:1;for(let y=0;y<2;y++){for(;(h?w>=a:w<l)&&h===s.get(w,g);){if(Math.abs(f-w)>Ue.CODEWORD_SKEW_SIZE)return f;w+=B}B=-B,h=!h}return w}static checkCodewordSkew(s,a,l){return a-Ue.CODEWORD_SKEW_SIZE<=s&&s<=l+Ue.CODEWORD_SKEW_SIZE}static decodeCodewords(s,a,l){if(s.length===0)throw D.getFormatInstance();let h=1<<a+1,f=Ue.correctErrors(s,l,h);Ue.verifyCodewordCount(s,h);let g=W.decode(s,""+a);return g.setErrorsCorrected(f),g.setErasures(l.length),g}static correctErrors(s,a,l){if(a!=null&&a.length>l/2+Ue.MAX_ERRORS||l<0||l>Ue.MAX_EC_CODEWORDS)throw C.getChecksumInstance();return Ue.errorCorrection.decode(s,l,a)}static verifyCodewordCount(s,a){if(s.length<4)throw D.getFormatInstance();let l=s[0];if(l>s.length)throw D.getFormatInstance();if(l===0)if(a<s.length)s[0]=s.length-a;else throw D.getFormatInstance()}static getBitCountForCodeword(s){let a=new Int32Array(8),l=0,h=a.length-1;for(;!((s&1)!==l&&(l=s&1,h--,h<0));)a[h]++,s>>=1;return a}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Ue.getCodewordBucketNumber(Ue.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let a=new zo;for(let l=0;l<s.length;l++){a.format("Row %2d: ",l);for(let h=0;h<s[l].length;h++){let f=s[l][h];f.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}a.format("%n")}return a.toString()}}Ue.CODEWORD_SKEW_SIZE=2,Ue.MAX_ERRORS=3,Ue.MAX_EC_CODEWORDS=512,Ue.errorCorrection=new Ep;class tr{decode(s,a=null){let l=tr.decode(s,a,!1);if(l==null||l.length===0||l[0]==null)throw V.getNotFoundInstance();return l[0]}decodeMultiple(s,a=null){try{return tr.decode(s,a,!0)}catch(l){throw l instanceof D||l instanceof C?V.getNotFoundInstance():l}}static decode(s,a,l){const h=new Array,f=Fe.detectMultiple(s,a,l);for(const g of f.getPoints()){const w=Ue.decode(f.getBits(),g[4],g[5],g[6],g[7],tr.getMinCodewordWidth(g),tr.getMaxCodewordWidth(g)),B=new Te(w.getText(),w.getRawBytes(),void 0,g,le.PDF_417);B.putMetadata(Wt.ERROR_CORRECTION_LEVEL,w.getECLevel());const y=w.getOther();y!=null&&B.putMetadata(Wt.PDF417_EXTRA_METADATA,y),h.push(B)}return h.map(g=>g)}static getMaxWidth(s,a){return s==null||a==null?0:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMinWidth(s,a){return s==null||a==null?T.MAX_VALUE:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(tr.getMaxWidth(s[0],s[4]),tr.getMaxWidth(s[6],s[2])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN),Math.max(tr.getMaxWidth(s[1],s[5]),tr.getMaxWidth(s[7],s[3])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(tr.getMinWidth(s[0],s[4]),tr.getMinWidth(s[6],s[2])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN),Math.min(tr.getMinWidth(s[1],s[5]),tr.getMinWidth(s[7],s[3])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN)))}reset(){}}class Zl extends d{}Zl.kind="ReaderException";class Tp{constructor(s,a){this.verbose=s===!0,a&&this.setHints(a)}decode(s,a){return a&&this.setHints(a),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const a=!n(s)&&s.get(k.TRY_HARDER)===!0,l=n(s)?null:s.get(k.POSSIBLE_FORMATS),h=new Array;if(!n(l)){const f=l.some(g=>g===le.UPC_A||g===le.UPC_E||g===le.EAN_13||g===le.EAN_8||g===le.CODABAR||g===le.CODE_39||g===le.CODE_93||g===le.CODE_128||g===le.ITF||g===le.RSS_14||g===le.RSS_EXPANDED);f&&!a&&h.push(new Cs(s,this.verbose)),l.includes(le.QR_CODE)&&h.push(new RA),l.includes(le.DATA_MATRIX)&&h.push(new NA),l.includes(le.AZTEC)&&h.push(new zl),l.includes(le.PDF_417)&&h.push(new tr),f&&a&&h.push(new Cs(s,this.verbose))}h.length===0&&(a||h.push(new Cs(s,this.verbose)),h.push(new RA),h.push(new NA),h.push(new zl),h.push(new tr),a&&h.push(new Cs(s,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Zl("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(s,this.hints)}catch(l){if(l instanceof Zl)continue}throw new V("No MultiFormat Readers were able to detect the code.")}}class r_ extends Je{constructor(s=null,a=500){const l=new Tp;l.setHints(s),super(l,a)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class n_ extends Je{constructor(s=500){super(new tr,s)}}class A_ extends Je{constructor(s=500){super(new RA,s)}}var Ed;(function(U){U[U.ERROR_CORRECTION=0]="ERROR_CORRECTION",U[U.CHARACTER_SET=1]="CHARACTER_SET",U[U.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",U[U.MIN_SIZE=3]="MIN_SIZE",U[U.MAX_SIZE=4]="MAX_SIZE",U[U.MARGIN=5]="MARGIN",U[U.PDF417_COMPACT=6]="PDF417_COMPACT",U[U.PDF417_COMPACTION=7]="PDF417_COMPACTION",U[U.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",U[U.AZTEC_LAYERS=9]="AZTEC_LAYERS",U[U.QR_VERSION=10]="QR_VERSION"})(Ed||(Ed={}));var Ht=Ed;class bd{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Tr(s,Int32Array.from([1])))}buildGenerator(s){const a=this.cachedGenerators;if(s>=a.length){let l=a[a.length-1];const h=this.field;for(let f=a.length;f<=s;f++){const g=l.multiply(new Tr(h,Int32Array.from([1,h.exp(f-1+h.getGeneratorBase())])));a.push(g),l=g}}return a[s]}encode(s,a){if(a===0)throw new m("No error correction bytes");const l=s.length-a;if(l<=0)throw new m("No data bytes provided");const h=this.buildGenerator(a),f=new Int32Array(l);v.arraycopy(s,0,f,0,l);let g=new Tr(this.field,f);g=g.multiplyByMonomial(a,1);const B=g.divide(h)[1].getCoefficients(),y=a-B.length;for(let b=0;b<y;b++)s[l+b]=0;v.arraycopy(B,0,s,l+y,B.length)}}class _t{constructor(){}static applyMaskPenaltyRule1(s){return _t.applyMaskPenaltyRule1Internal(s,!0)+_t.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let a=0;const l=s.getArray(),h=s.getWidth(),f=s.getHeight();for(let g=0;g<f-1;g++){const w=l[g];for(let B=0;B<h-1;B++){const y=w[B];y===w[B+1]&&y===l[g+1][B]&&y===l[g+1][B+1]&&a++}}return _t.N2*a}static applyMaskPenaltyRule3(s){let a=0;const l=s.getArray(),h=s.getWidth(),f=s.getHeight();for(let g=0;g<f;g++)for(let w=0;w<h;w++){const B=l[g];w+6<h&&B[w]===1&&B[w+1]===0&&B[w+2]===1&&B[w+3]===1&&B[w+4]===1&&B[w+5]===0&&B[w+6]===1&&(_t.isWhiteHorizontal(B,w-4,w)||_t.isWhiteHorizontal(B,w+7,w+11))&&a++,g+6<f&&l[g][w]===1&&l[g+1][w]===0&&l[g+2][w]===1&&l[g+3][w]===1&&l[g+4][w]===1&&l[g+5][w]===0&&l[g+6][w]===1&&(_t.isWhiteVertical(l,w,g-4,g)||_t.isWhiteVertical(l,w,g+7,g+11))&&a++}return a*_t.N3}static isWhiteHorizontal(s,a,l){a=Math.max(a,0),l=Math.min(l,s.length);for(let h=a;h<l;h++)if(s[h]===1)return!1;return!0}static isWhiteVertical(s,a,l,h){l=Math.max(l,0),h=Math.min(h,s.length);for(let f=l;f<h;f++)if(s[f][a]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let a=0;const l=s.getArray(),h=s.getWidth(),f=s.getHeight();for(let B=0;B<f;B++){const y=l[B];for(let b=0;b<h;b++)y[b]===1&&a++}const g=s.getHeight()*s.getWidth();return Math.floor(Math.abs(a*2-g)*10/g)*_t.N4}static getDataMaskBit(s,a,l){let h,f;switch(s){case 0:h=l+a&1;break;case 1:h=l&1;break;case 2:h=a%3;break;case 3:h=(l+a)%3;break;case 4:h=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:f=l*a,h=(f&1)+f%3;break;case 6:f=l*a,h=(f&1)+f%3&1;break;case 7:f=l*a,h=f%3+(l+a&1)&1;break;default:throw new m("Invalid mask pattern: "+s)}return h===0}static applyMaskPenaltyRule1Internal(s,a){let l=0;const h=a?s.getHeight():s.getWidth(),f=a?s.getWidth():s.getHeight(),g=s.getArray();for(let w=0;w<h;w++){let B=0,y=-1;for(let b=0;b<f;b++){const Q=a?g[w][b]:g[b][w];Q===y?B++:(B>=5&&(l+=_t.N1+(B-5)),B=1,y=Q)}B>=5&&(l+=_t.N1+(B-5))}return l}}_t.N1=3,_t.N2=3,_t.N3=40,_t.N4=10;class ql{constructor(s,a){this.width=s,this.height=a;const l=new Array(a);for(let h=0;h!==a;h++)l[h]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,a){return this.bytes[a][s]}getArray(){return this.bytes}setNumber(s,a,l){this.bytes[a][s]=l}setBoolean(s,a,l){this.bytes[a][s]=l?1:0}clear(s){for(const a of this.bytes)I.fill(a,s)}equals(s){if(!(s instanceof ql))return!1;const a=s;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,h=this.height;l<h;++l){const f=this.bytes[l],g=a.bytes[l];for(let w=0,B=this.width;w<B;++w)if(f[w]!==g[w])return!1}return!0}toString(){const s=new Ae;for(let a=0,l=this.height;a<l;++a){const h=this.bytes[a];for(let f=0,g=this.width;f<g;++f)switch(h[f]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Oi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new Ae;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Oi.NUM_MASK_PATTERNS}}Oi.NUM_MASK_PATTERNS=8;class et extends d{}et.kind="WriterException";class ve{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,a,l,h,f){ve.clearMatrix(f),ve.embedBasicPatterns(l,f),ve.embedTypeInfo(a,h,f),ve.maybeEmbedVersionInfo(l,f),ve.embedDataBits(s,h,f)}static embedBasicPatterns(s,a){ve.embedPositionDetectionPatternsAndSeparators(a),ve.embedDarkDotAtLeftBottomCorner(a),ve.maybeEmbedPositionAdjustmentPatterns(s,a),ve.embedTimingPatterns(a)}static embedTypeInfo(s,a,l){const h=new N;ve.makeTypeInfoBits(s,a,h);for(let f=0,g=h.getSize();f<g;++f){const w=h.get(h.getSize()-1-f),B=ve.TYPE_INFO_COORDINATES[f],y=B[0],b=B[1];if(l.setBoolean(y,b,w),f<8){const Q=l.getWidth()-f-1;l.setBoolean(Q,8,w)}else{const O=l.getHeight()-7+(f-8);l.setBoolean(8,O,w)}}}static maybeEmbedVersionInfo(s,a){if(s.getVersionNumber()<7)return;const l=new N;ve.makeVersionInfoBits(s,l);let h=6*3-1;for(let f=0;f<6;++f)for(let g=0;g<3;++g){const w=l.get(h);h--,a.setBoolean(f,a.getHeight()-11+g,w),a.setBoolean(a.getHeight()-11+g,f,w)}}static embedDataBits(s,a,l){let h=0,f=-1,g=l.getWidth()-1,w=l.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);w>=0&&w<l.getHeight();){for(let B=0;B<2;++B){const y=g-B;if(!ve.isEmpty(l.get(y,w)))continue;let b;h<s.getSize()?(b=s.get(h),++h):b=!1,a!==255&&_t.getDataMaskBit(a,y,w)&&(b=!b),l.setBoolean(y,w,b)}w+=f}f=-f,w+=f,g-=2}if(h!==s.getSize())throw new et("Not all bits consumed: "+h+"/"+s.getSize())}static findMSBSet(s){return 32-T.numberOfLeadingZeros(s)}static calculateBCHCode(s,a){if(a===0)throw new m("0 polynomial");const l=ve.findMSBSet(a);for(s<<=l-1;ve.findMSBSet(s)>=l;)s^=a<<ve.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,a,l){if(!Oi.isValidMaskPattern(a))throw new et("Invalid mask pattern");const h=s.getBits()<<3|a;l.appendBits(h,5);const f=ve.calculateBCHCode(h,ve.TYPE_INFO_POLY);l.appendBits(f,10);const g=new N;if(g.appendBits(ve.TYPE_INFO_MASK_PATTERN,15),l.xor(g),l.getSize()!==15)throw new et("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,a){a.appendBits(s.getVersionNumber(),6);const l=ve.calculateBCHCode(s.getVersionNumber(),ve.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new et("should not happen but we got: "+a.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let a=8;a<s.getWidth()-8;++a){const l=(a+1)%2;ve.isEmpty(s.get(a,6))&&s.setNumber(a,6,l),ve.isEmpty(s.get(6,a))&&s.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new et;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,a,l){for(let h=0;h<8;++h){if(!ve.isEmpty(l.get(s+h,a)))throw new et;l.setNumber(s+h,a,0)}}static embedVerticalSeparationPattern(s,a,l){for(let h=0;h<7;++h){if(!ve.isEmpty(l.get(s,a+h)))throw new et;l.setNumber(s,a+h,0)}}static embedPositionAdjustmentPattern(s,a,l){for(let h=0;h<5;++h){const f=ve.POSITION_ADJUSTMENT_PATTERN[h];for(let g=0;g<5;++g)l.setNumber(s+g,a+h,f[g])}}static embedPositionDetectionPattern(s,a,l){for(let h=0;h<7;++h){const f=ve.POSITION_DETECTION_PATTERN[h];for(let g=0;g<7;++g)l.setNumber(s+g,a+h,f[g])}}static embedPositionDetectionPatternsAndSeparators(s){const a=ve.POSITION_DETECTION_PATTERN[0].length;ve.embedPositionDetectionPattern(0,0,s),ve.embedPositionDetectionPattern(s.getWidth()-a,0,s),ve.embedPositionDetectionPattern(0,s.getWidth()-a,s);const l=8;ve.embedHorizontalSeparationPattern(0,l-1,s),ve.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),ve.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const h=7;ve.embedVerticalSeparationPattern(h,0,s),ve.embedVerticalSeparationPattern(s.getHeight()-h-1,0,s),ve.embedVerticalSeparationPattern(h,s.getHeight()-h,s)}static maybeEmbedPositionAdjustmentPatterns(s,a){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,h=ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let f=0,g=h.length;f!==g;f++){const w=h[f];if(w>=0)for(let B=0;B!==g;B++){const y=h[B];y>=0&&ve.isEmpty(a.get(y,w))&&ve.embedPositionAdjustmentPattern(y-2,w-2,a)}}}}ve.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ve.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ve.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ve.VERSION_INFO_POLY=7973,ve.TYPE_INFO_POLY=1335,ve.TYPE_INFO_MASK_PATTERN=21522;class i_{constructor(s,a){this.dataBytes=s,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class at{constructor(){}static calculateMaskPenalty(s){return _t.applyMaskPenaltyRule1(s)+_t.applyMaskPenaltyRule2(s)+_t.applyMaskPenaltyRule3(s)+_t.applyMaskPenaltyRule4(s)}static encode(s,a,l=null){let h=at.DEFAULT_BYTE_MODE_ENCODING;const f=l!==null&&l.get(Ht.CHARACTER_SET)!==void 0;f&&(h=l.get(Ht.CHARACTER_SET).toString());const g=this.chooseMode(s,h),w=new N;if(g===Ce.BYTE&&(f||at.DEFAULT_BYTE_MODE_ENCODING!==h)){const ne=H.getCharacterSetECIByName(h);ne!==void 0&&this.appendECI(ne,w)}this.appendModeInfo(g,w);const B=new N;this.appendBytes(s,g,B,h);let y;if(l!==null&&l.get(Ht.QR_VERSION)!==void 0){const ne=Number.parseInt(l.get(Ht.QR_VERSION).toString(),10);y=xe.getVersionForNumber(ne);const $=this.calculateBitsNeeded(g,w,B,y);if(!this.willFit($,y,a))throw new et("Data too big for requested version")}else y=this.recommendVersion(a,g,w,B);const b=new N;b.appendBitArray(w);const Q=g===Ce.BYTE?B.getSizeInBytes():s.length;this.appendLengthInfo(Q,y,g,b),b.appendBitArray(B);const O=y.getECBlocksForLevel(a),M=y.getTotalCodewords()-O.getTotalECCodewords();this.terminateBits(M,b);const P=this.interleaveWithECBytes(b,y.getTotalCodewords(),M,O.getNumBlocks()),j=new Oi;j.setECLevel(a),j.setMode(g),j.setVersion(y);const z=y.getDimensionForVersion(),X=new ql(z,z),te=this.chooseMaskPattern(P,a,y,X);return j.setMaskPattern(te),ve.buildMatrix(P,a,y,te,X),j.setMatrix(X),j}static recommendVersion(s,a,l,h){const f=this.calculateBitsNeeded(a,l,h,xe.getVersionForNumber(1)),g=this.chooseVersion(f,s),w=this.calculateBitsNeeded(a,l,h,g);return this.chooseVersion(w,s)}static calculateBitsNeeded(s,a,l,h){return a.getSize()+s.getCharacterCountBits(h)+l.getSize()}static getAlphanumericCode(s){return s<at.ALPHANUMERIC_TABLE.length?at.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,a=null){if(H.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(s))return Ce.KANJI;let l=!1,h=!1;for(let f=0,g=s.length;f<g;++f){const w=s.charAt(f);if(at.isDigit(w))l=!0;else if(this.getAlphanumericCode(w.charCodeAt(0))!==-1)h=!0;else return Ce.BYTE}return h?Ce.ALPHANUMERIC:l?Ce.NUMERIC:Ce.BYTE}static isOnlyDoubleByteKanji(s){let a;try{a=oe.encode(s,H.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let h=0;h<l;h+=2){const f=a[h]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(s,a,l,h){let f=Number.MAX_SAFE_INTEGER,g=-1;for(let w=0;w<Oi.NUM_MASK_PATTERNS;w++){ve.buildMatrix(s,a,l,w,h);let B=this.calculateMaskPenalty(h);B<f&&(f=B,g=w)}return g}static chooseVersion(s,a){for(let l=1;l<=40;l++){const h=xe.getVersionForNumber(l);if(at.willFit(s,h,a))return h}throw new et("Data too big")}static willFit(s,a,l){const h=a.getTotalCodewords(),g=a.getECBlocksForLevel(l).getTotalECCodewords(),w=h-g,B=(s+7)/8;return w>=B}static terminateBits(s,a){const l=s*8;if(a.getSize()>l)throw new et("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let g=0;g<4&&a.getSize()<l;++g)a.appendBit(!1);const h=a.getSize()&7;if(h>0)for(let g=h;g<8;g++)a.appendBit(!1);const f=s-a.getSizeInBytes();for(let g=0;g<f;++g)a.appendBits(g&1?17:236,8);if(a.getSize()!==l)throw new et("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,a,l,h,f,g){if(h>=l)throw new et("Block ID too large");const w=s%l,B=l-w,y=Math.floor(s/l),b=y+1,Q=Math.floor(a/l),O=Q+1,M=y-Q,P=b-O;if(M!==P)throw new et("EC bytes mismatch");if(l!==B+w)throw new et("RS blocks mismatch");if(s!==(Q+M)*B+(O+P)*w)throw new et("Total bytes mismatch");h<B?(f[0]=Q,g[0]=M):(f[0]=O,g[0]=P)}static interleaveWithECBytes(s,a,l,h){if(s.getSizeInBytes()!==l)throw new et("Number of bits and data bytes does not match");let f=0,g=0,w=0;const B=new Array;for(let b=0;b<h;++b){const Q=new Int32Array(1),O=new Int32Array(1);at.getNumDataBytesAndNumECBytesForBlockID(a,l,h,b,Q,O);const M=Q[0],P=new Uint8Array(M);s.toBytes(8*f,P,0,M);const j=at.generateECBytes(P,O[0]);B.push(new i_(P,j)),g=Math.max(g,M),w=Math.max(w,j.length),f+=Q[0]}if(l!==f)throw new et("Data bytes does not match offset");const y=new N;for(let b=0;b<g;++b)for(const Q of B){const O=Q.getDataBytes();b<O.length&&y.appendBits(O[b],8)}for(let b=0;b<w;++b)for(const Q of B){const O=Q.getErrorCorrectionBytes();b<O.length&&y.appendBits(O[b],8)}if(a!==y.getSizeInBytes())throw new et("Interleaving error: "+a+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(s,a){const l=s.length,h=new Int32Array(l+a);for(let g=0;g<l;g++)h[g]=s[g]&255;new bd(je.QR_CODE_FIELD_256).encode(h,a);const f=new Uint8Array(a);for(let g=0;g<a;g++)f[g]=h[l+g];return f}static appendModeInfo(s,a){a.appendBits(s.getBits(),4)}static appendLengthInfo(s,a,l,h){const f=l.getCharacterCountBits(a);if(s>=1<<f)throw new et(s+" is bigger than "+((1<<f)-1));h.appendBits(s,f)}static appendBytes(s,a,l,h){switch(a){case Ce.NUMERIC:at.appendNumericBytes(s,l);break;case Ce.ALPHANUMERIC:at.appendAlphanumericBytes(s,l);break;case Ce.BYTE:at.append8BitBytes(s,l,h);break;case Ce.KANJI:at.appendKanjiBytes(s,l);break;default:throw new et("Invalid mode: "+a)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const a=at.getDigit(s);return a>=0&&a<=9}static appendNumericBytes(s,a){const l=s.length;let h=0;for(;h<l;){const f=at.getDigit(s.charAt(h));if(h+2<l){const g=at.getDigit(s.charAt(h+1)),w=at.getDigit(s.charAt(h+2));a.appendBits(f*100+g*10+w,10),h+=3}else if(h+1<l){const g=at.getDigit(s.charAt(h+1));a.appendBits(f*10+g,7),h+=2}else a.appendBits(f,4),h++}}static appendAlphanumericBytes(s,a){const l=s.length;let h=0;for(;h<l;){const f=at.getAlphanumericCode(s.charCodeAt(h));if(f===-1)throw new et;if(h+1<l){const g=at.getAlphanumericCode(s.charCodeAt(h+1));if(g===-1)throw new et;a.appendBits(f*45+g,11),h+=2}else a.appendBits(f,6),h++}}static append8BitBytes(s,a,l){let h;try{h=oe.encode(s,l)}catch(f){throw new et(f)}for(let f=0,g=h.length;f!==g;f++){const w=h[f];a.appendBits(w,8)}}static appendKanjiBytes(s,a){let l;try{l=oe.encode(s,H.SJIS)}catch(f){throw new et(f)}const h=l.length;for(let f=0;f<h;f+=2){const g=l[f]&255,w=l[f+1]&255,B=g<<8&4294967295|w;let y=-1;if(B>=33088&&B<=40956?y=B-33088:B>=57408&&B<=60351&&(y=B-49472),y===-1)throw new et("Invalid byte sequence");const b=(y>>8)*192+(y&255);a.appendBits(b,13)}}static appendECI(s,a){a.appendBits(Ce.ECI.getBits(),4),a.appendBits(s.getValue(),8)}}at.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),at.DEFAULT_BYTE_MODE_ENCODING=H.UTF8.getName();class Ni{write(s,a,l,h=null){if(s.length===0)throw new m("Found empty contents");if(a<0||l<0)throw new m("Requested dimensions are too small: "+a+"x"+l);let f=At.L,g=Ni.QUIET_ZONE_SIZE;h!==null&&(h.get(Ht.ERROR_CORRECTION)!==void 0&&(f=At.fromString(h.get(Ht.ERROR_CORRECTION).toString())),h.get(Ht.MARGIN)!==void 0&&(g=Number.parseInt(h.get(Ht.MARGIN).toString(),10)));const w=at.encode(s,f,h);return this.renderResult(w,a,l,g)}writeToDom(s,a,l,h,f=null){typeof s=="string"&&(s=document.querySelector(s));const g=this.write(a,l,h,f);s&&s.appendChild(g)}renderResult(s,a,l,h){const f=s.getMatrix();if(f===null)throw new Kn;const g=f.getWidth(),w=f.getHeight(),B=g+h*2,y=w+h*2,b=Math.max(a,B),Q=Math.max(l,y),O=Math.min(Math.floor(b/B),Math.floor(Q/y)),M=Math.floor((b-g*O)/2),P=Math.floor((Q-w*O)/2),j=this.createSVGElement(b,Q);for(let z=0,X=P;z<w;z++,X+=O)for(let te=0,ne=M;te<g;te++,ne+=O)if(f.get(te,z)===1){const $=this.createSvgRectElement(ne,X,O,O);j.appendChild($)}return j}createSVGElement(s,a){const l=document.createElementNS(Ni.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(s,a,l,h){const f=document.createElementNS(Ni.SVG_NS,"rect");return f.setAttributeNS(null,"x",s.toString()),f.setAttributeNS(null,"y",a.toString()),f.setAttributeNS(null,"height",l.toString()),f.setAttributeNS(null,"width",h.toString()),f.setAttributeNS(null,"fill","#000000"),f}}Ni.QUIET_ZONE_SIZE=4,Ni.SVG_NS="http://www.w3.org/2000/svg";class Es{encode(s,a,l,h,f){if(s.length===0)throw new m("Found empty contents");if(a!==le.QR_CODE)throw new m("Can only encode QR_CODE, but got "+a);if(l<0||h<0)throw new m(`Requested dimensions are too small: ${l}x${h}`);let g=At.L,w=Es.QUIET_ZONE_SIZE;f!==null&&(f.get(Ht.ERROR_CORRECTION)!==void 0&&(g=At.fromString(f.get(Ht.ERROR_CORRECTION).toString())),f.get(Ht.MARGIN)!==void 0&&(w=Number.parseInt(f.get(Ht.MARGIN).toString(),10)));const B=at.encode(s,g,f);return Es.renderResult(B,l,h,w)}static renderResult(s,a,l,h){const f=s.getMatrix();if(f===null)throw new Kn;const g=f.getWidth(),w=f.getHeight(),B=g+h*2,y=w+h*2,b=Math.max(a,B),Q=Math.max(l,y),O=Math.min(Math.floor(b/B),Math.floor(Q/y)),M=Math.floor((b-g*O)/2),P=Math.floor((Q-w*O)/2),j=new ye(b,Q);for(let z=0,X=P;z<w;z++,X+=O)for(let te=0,ne=M;te<g;te++,ne+=O)f.get(te,z)===1&&j.setRegion(ne,X,O,O);return j}}Es.QUIET_ZONE_SIZE=4;class s_{encode(s,a,l,h,f){let g;switch(a){case le.QR_CODE:g=new Es;break;default:throw new m("No encoder available for format "+a)}return g.encode(s,a,l,h,f)}}class Wn extends re{constructor(s,a,l,h,f,g,w,B){if(super(g,w),this.yuvData=s,this.dataWidth=a,this.dataHeight=l,this.left=h,this.top=f,h+g>a||f+w>l)throw new m("Crop rectangle does not fit within image data.");B&&this.reverseHorizontal(g,w)}getRow(s,a){if(s<0||s>=this.getHeight())throw new m("Requested row is outside the image: "+s);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const h=(s+this.top)*this.dataWidth+this.left;return v.arraycopy(this.yuvData,h,a,0,l),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=s*a,h=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return v.arraycopy(this.yuvData,f,h,0,l),h;for(let g=0;g<a;g++){const w=g*s;v.arraycopy(this.yuvData,f,h,w,s),f+=this.dataWidth}return h}isCropSupported(){return!0}crop(s,a,l,h){return new Wn(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+a,l,h,!1)}renderThumbnail(){const s=this.getWidth()/Wn.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Wn.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*a),h=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let g=0;g<a;g++){const w=g*s;for(let B=0;B<s;B++){const y=h[f+B*Wn.THUMBNAIL_SCALE_FACTOR]&255;l[w+B]=4278190080|y*65793}f+=this.dataWidth*Wn.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Wn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Wn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,a){const l=this.yuvData;for(let h=0,f=this.top*this.dataWidth+this.left;h<a;h++,f+=this.dataWidth){const g=f+s/2;for(let w=f,B=f+s-1;w<g;w++,B--){const y=l[w];l[w]=l[B],l[B]=y}}}invert(){return new ae(this)}}Wn.THUMBNAIL_SCALE_FACTOR=2;class _d extends re{constructor(s,a,l,h,f,g,w){if(super(a,l),this.dataWidth=h,this.dataHeight=f,this.left=g,this.top=w,s.BYTES_PER_ELEMENT===4){const B=a*l,y=new Uint8ClampedArray(B);for(let b=0;b<B;b++){const Q=s[b],O=Q>>16&255,M=Q>>7&510,P=Q&255;y[b]=(O+M+P)/4&255}this.luminances=y}else this.luminances=s;if(h===void 0&&(this.dataWidth=a),f===void 0&&(this.dataHeight=l),g===void 0&&(this.left=0),w===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(s,a){if(s<0||s>=this.getHeight())throw new m("Requested row is outside the image: "+s);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const h=(s+this.top)*this.dataWidth+this.left;return v.arraycopy(this.luminances,h,a,0,l),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=s*a,h=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return v.arraycopy(this.luminances,f,h,0,l),h;for(let g=0;g<a;g++){const w=g*s;v.arraycopy(this.luminances,f,h,w,s),f+=this.dataWidth}return h}isCropSupported(){return!0}crop(s,a,l,h){return new _d(this.luminances,l,h,this.dataWidth,this.dataHeight,this.left+s,this.top+a)}invert(){return new ae(this)}}class Up extends H{static forName(s){return this.getCharacterSetECIByName(s)}}class Id{}Id.ISO_8859_1=H.ISO8859_1;class Qp{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Op{static singletonList(s){return[s]}static min(s,a){return s.sort(a)[0]}}class o_{constructor(s){this.previous=s}getPrevious(){return this.previous}}class bs extends o_{constructor(s,a,l){super(s),this.value=a,this.bitCount=l}appendTo(s,a){s.appendBits(this.value,this.bitCount)}add(s,a){return new bs(this,s,a)}addBinaryShift(s,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new bs(this,s,a)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+T.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Sd extends bs{constructor(s,a,l){super(s,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(s,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(s,a){return new Sd(this,s,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function a_(U,s,a){return new Sd(U,s,a)}function Jo(U,s,a){return new bs(U,s,a)}const l_=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],DA=0,$l=1,hn=2,Np=3,Xn=4,c_=new bs(null,0,0),Fd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function u_(U){for(let s of U)I.fill(s,-1);return U[DA][Xn]=0,U[$l][Xn]=0,U[$l][DA]=28,U[Np][Xn]=0,U[hn][Xn]=0,U[hn][DA]=15,U}const Rp=u_(I.createInt32Array(6,6));class Yn{constructor(s,a,l,h){this.token=s,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,a){let l=this.bitCount,h=this.token;if(s!==this.mode){let g=Fd[this.mode][s];h=Jo(h,g&65535,g>>16),l+=g>>16}let f=s===hn?4:5;return h=Jo(h,a,f),new Yn(h,s,0,l+f)}shiftAndAppend(s,a){let l=this.token,h=this.mode===hn?4:5;return l=Jo(l,Rp[this.mode][s],h),l=Jo(l,a,5),new Yn(l,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(s){let a=this.token,l=this.mode,h=this.bitCount;if(this.mode===Xn||this.mode===hn){let w=Fd[l][DA];a=Jo(a,w&65535,w>>16),h+=w>>16,l=DA}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new Yn(a,l,this.binaryShiftByteCount+1,h+f);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(s+1)),g}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=a_(a,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Yn(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let a=this.bitCount+(Fd[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?a+=Yn.calculateBinaryShiftCost(s)-Yn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(a+=10),a<=s.bitCount}toBitArray(s){let a=[];for(let h=this.endBinaryShift(s.length).token;h!==null;h=h.getPrevious())a.unshift(h);let l=new N;for(const h of a)h.appendTo(l,s);return l}toString(){return Z.format("%s bits=%d bytes=%d",l_[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Yn.INITIAL_STATE=new Yn(c_,DA,0,0);function h_(U){const s=Z.getCharCode(" "),a=Z.getCharCode("."),l=Z.getCharCode(",");U[DA][s]=1;const h=Z.getCharCode("Z"),f=Z.getCharCode("A");for(let O=f;O<=h;O++)U[DA][O]=O-f+2;U[$l][s]=1;const g=Z.getCharCode("z"),w=Z.getCharCode("a");for(let O=w;O<=g;O++)U[$l][O]=O-w+2;U[hn][s]=1;const B=Z.getCharCode("9"),y=Z.getCharCode("0");for(let O=y;O<=B;O++)U[hn][O]=O-y+2;U[hn][l]=12,U[hn][a]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let O=0;O<b.length;O++)U[Np][Z.getCharCode(b[O])]=O;const Q=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let O=0;O<Q.length;O++)Z.getCharCode(Q[O])>0&&(U[Xn][Z.getCharCode(Q[O])]=O);return U}const Td=h_(I.createInt32Array(5,256));class Zo{constructor(s){this.text=s}encode(){const s=Z.getCharCode(" "),a=Z.getCharCode(`
`);let l=Op.singletonList(Yn.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let g,w=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case Z.getCharCode("\r"):g=w===a?2:0;break;case Z.getCharCode("."):g=w===s?3:0;break;case Z.getCharCode(","):g=w===s?4:0;break;case Z.getCharCode(":"):g=w===s?5:0;break;default:g=0}g>0?(l=Zo.updateStateListForPair(l,f,g),f++):l=this.updateStateListForChar(l,f)}return Op.min(l,(f,g)=>f.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,a){const l=[];for(let h of s)this.updateStateForChar(h,a,l);return Zo.simplifyStates(l)}updateStateForChar(s,a,l){let h=this.text[a]&255,f=Td[s.getMode()][h]>0,g=null;for(let w=0;w<=Xn;w++){let B=Td[w][h];if(B>0){if(g==null&&(g=s.endBinaryShift(a)),!f||w===s.getMode()||w===hn){const y=g.latchAndAppend(w,B);l.push(y)}if(!f&&Rp[s.getMode()][w]>=0){const y=g.shiftAndAppend(w,B);l.push(y)}}}if(s.getBinaryShiftByteCount()>0||Td[s.getMode()][h]===0){let w=s.addBinaryShiftChar(a);l.push(w)}}static updateStateListForPair(s,a,l){const h=[];for(let f of s)this.updateStateForPair(f,a,l,h);return this.simplifyStates(h)}static updateStateForPair(s,a,l,h){let f=s.endBinaryShift(a);if(h.push(f.latchAndAppend(Xn,l)),s.getMode()!==Xn&&h.push(f.shiftAndAppend(Xn,l)),l===3||l===4){let g=f.latchAndAppend(hn,16-l).latchAndAppend(hn,1);h.push(g)}if(s.getBinaryShiftByteCount()>0){let g=s.addBinaryShiftChar(a).addBinaryShiftChar(a+1);h.push(g)}}static simplifyStates(s){let a=[];for(const l of s){let h=!0;for(const f of a){if(f.isBetterThanOrEqualTo(l)){h=!1;break}l.isBetterThanOrEqualTo(f)&&(a=a.filter(g=>g!==f))}h&&a.push(l)}return a}}class ke{constructor(){}static encodeBytes(s){return ke.encode(s,ke.DEFAULT_EC_PERCENT,ke.DEFAULT_AZTEC_LAYERS)}static encode(s,a,l){let h=new Zo(s).encode(),f=T.truncDivision(h.getSize()*a,100)+11,g=h.getSize()+f,w,B,y,b,Q;if(l!==ke.DEFAULT_AZTEC_LAYERS){if(w=l<0,B=Math.abs(l),B>(w?ke.MAX_NB_BITS_COMPACT:ke.MAX_NB_BITS))throw new m(Z.format("Illegal value %s for layers",l));y=ke.totalBitsInLayer(B,w),b=ke.WORD_SIZE[B];let $=y-y%b;if(Q=ke.stuffBits(h,b),Q.getSize()+f>$)throw new m("Data to large for user specified layer");if(w&&Q.getSize()>b*64)throw new m("Data to large for user specified layer")}else{b=0,Q=null;for(let $=0;;$++){if($>ke.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(w=$<=3,B=w?$+1:$,y=ke.totalBitsInLayer(B,w),g>y)continue;(Q==null||b!==ke.WORD_SIZE[B])&&(b=ke.WORD_SIZE[B],Q=ke.stuffBits(h,b));let Ne=y-y%b;if(!(w&&Q.getSize()>b*64)&&Q.getSize()+f<=Ne)break}}let O=ke.generateCheckWords(Q,y,b),M=Q.getSize()/b,P=ke.generateModeMessage(w,B,M),j=(w?11:14)+B*4,z=new Int32Array(j),X;if(w){X=j;for(let $=0;$<z.length;$++)z[$]=$}else{X=j+1+2*T.truncDivision(T.truncDivision(j,2)-1,15);let $=T.truncDivision(j,2),Ne=T.truncDivision(X,2);for(let Se=0;Se<$;Se++){let Nr=Se+T.truncDivision(Se,15);z[$-Se-1]=Ne-Nr-1,z[$+Se]=Ne+Nr+1}}let te=new ye(X);for(let $=0,Ne=0;$<B;$++){let Se=(B-$)*4+(w?9:12);for(let Nr=0;Nr<Se;Nr++){let Fn=Nr*2;for(let Rr=0;Rr<2;Rr++)O.get(Ne+Fn+Rr)&&te.set(z[$*2+Rr],z[$*2+Nr]),O.get(Ne+Se*2+Fn+Rr)&&te.set(z[$*2+Nr],z[j-1-$*2-Rr]),O.get(Ne+Se*4+Fn+Rr)&&te.set(z[j-1-$*2-Rr],z[j-1-$*2-Nr]),O.get(Ne+Se*6+Fn+Rr)&&te.set(z[j-1-$*2-Nr],z[$*2+Rr])}Ne+=Se*8}if(ke.drawModeMessage(te,w,X,P),w)ke.drawBullsEye(te,T.truncDivision(X,2),5);else{ke.drawBullsEye(te,T.truncDivision(X,2),7);for(let $=0,Ne=0;$<T.truncDivision(j,2)-1;$+=15,Ne+=16)for(let Se=T.truncDivision(X,2)&1;Se<X;Se+=2)te.set(T.truncDivision(X,2)-Ne,Se),te.set(T.truncDivision(X,2)+Ne,Se),te.set(Se,T.truncDivision(X,2)-Ne),te.set(Se,T.truncDivision(X,2)+Ne)}let ne=new Qp;return ne.setCompact(w),ne.setSize(X),ne.setLayers(B),ne.setCodeWords(M),ne.setMatrix(te),ne}static drawBullsEye(s,a,l){for(let h=0;h<l;h+=2)for(let f=a-h;f<=a+h;f++)s.set(f,a-h),s.set(f,a+h),s.set(a-h,f),s.set(a+h,f);s.set(a-l,a-l),s.set(a-l+1,a-l),s.set(a-l,a-l+1),s.set(a+l,a-l),s.set(a+l,a-l+1),s.set(a+l,a+l-1)}static generateModeMessage(s,a,l){let h=new N;return s?(h.appendBits(a-1,2),h.appendBits(l-1,6),h=ke.generateCheckWords(h,28,4)):(h.appendBits(a-1,5),h.appendBits(l-1,11),h=ke.generateCheckWords(h,40,4)),h}static drawModeMessage(s,a,l,h){let f=T.truncDivision(l,2);if(a)for(let g=0;g<7;g++){let w=f-3+g;h.get(g)&&s.set(w,f-5),h.get(g+7)&&s.set(f+5,w),h.get(20-g)&&s.set(w,f+5),h.get(27-g)&&s.set(f-5,w)}else for(let g=0;g<10;g++){let w=f-5+g+T.truncDivision(g,5);h.get(g)&&s.set(w,f-7),h.get(g+10)&&s.set(f+7,w),h.get(29-g)&&s.set(w,f+7),h.get(39-g)&&s.set(f-7,w)}}static generateCheckWords(s,a,l){let h=s.getSize()/l,f=new bd(ke.getGF(l)),g=T.truncDivision(a,l),w=ke.bitsToWords(s,l,g);f.encode(w,g-h);let B=a%l,y=new N;y.appendBits(0,B);for(const b of Array.from(w))y.appendBits(b,l);return y}static bitsToWords(s,a,l){let h=new Int32Array(l),f,g;for(f=0,g=s.getSize()/a;f<g;f++){let w=0;for(let B=0;B<a;B++)w|=s.get(f*a+B)?1<<a-B-1:0;h[f]=w}return h}static getGF(s){switch(s){case 4:return je.AZTEC_PARAM;case 6:return je.AZTEC_DATA_6;case 8:return je.AZTEC_DATA_8;case 10:return je.AZTEC_DATA_10;case 12:return je.AZTEC_DATA_12;default:throw new m("Unsupported word size "+s)}}static stuffBits(s,a){let l=new N,h=s.getSize(),f=(1<<a)-2;for(let g=0;g<h;g+=a){let w=0;for(let B=0;B<a;B++)(g+B>=h||s.get(g+B))&&(w|=1<<a-1-B);(w&f)===f?(l.appendBits(w&f,a),g--):w&f?l.appendBits(w,a):(l.appendBits(w|1,a),g--)}return l}static totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}ke.DEFAULT_EC_PERCENT=33,ke.DEFAULT_AZTEC_LAYERS=0,ke.MAX_NB_BITS=32,ke.MAX_NB_BITS_COMPACT=4,ke.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ec{encode(s,a,l,h){return this.encodeWithHints(s,a,l,h,null)}encodeWithHints(s,a,l,h,f){let g=Id.ISO_8859_1,w=ke.DEFAULT_EC_PERCENT,B=ke.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(Ht.CHARACTER_SET)&&(g=Up.forName(f.get(Ht.CHARACTER_SET).toString())),f.has(Ht.ERROR_CORRECTION)&&(w=T.parseInt(f.get(Ht.ERROR_CORRECTION).toString())),f.has(Ht.AZTEC_LAYERS)&&(B=T.parseInt(f.get(Ht.AZTEC_LAYERS).toString()))),ec.encodeLayers(s,a,l,h,g,w,B)}static encodeLayers(s,a,l,h,f,g,w){if(a!==le.AZTEC)throw new m("Can only encode AZTEC, but got "+a);let B=ke.encode(Z.getBytes(s,f),g,w);return ec.renderResult(B,l,h)}static renderResult(s,a,l){let h=s.getMatrix();if(h==null)throw new Kn;let f=h.getWidth(),g=h.getHeight(),w=Math.max(a,f),B=Math.max(l,g),y=Math.min(w/f,B/g),b=(w-f*y)/2,Q=(B-g*y)/2,O=new ye(w,B);for(let M=0,P=Q;M<g;M++,P+=y)for(let j=0,z=b;j<f;j++,z+=y)h.get(j,M)&&O.setRegion(z,P,y,y);return O}}r.AbstractExpandedDecoder=gd,r.ArgumentException=p,r.ArithmeticException=jl,r.AztecCode=Qp,r.AztecCodeReader=zl,r.AztecCodeWriter=ec,r.AztecDecoder=nt,r.AztecDetector=mp,r.AztecDetectorResult=pp,r.AztecEncoder=ke,r.AztecHighLevelEncoder=Zo,r.AztecPoint=xr,r.BarcodeFormat=le,r.Binarizer=E,r.BinaryBitmap=x,r.BitArray=N,r.BitMatrix=ye,r.BitSource=Bd,r.BrowserAztecCodeReader=kb,r.BrowserBarcodeReader=Kb,r.BrowserCodeReader=Je,r.BrowserDatamatrixCodeReader=zb,r.BrowserMultiFormatReader=r_,r.BrowserPDF417Reader=n_,r.BrowserQRCodeReader=A_,r.BrowserQRCodeSvgWriter=Ni,r.CharacterSetECI=H,r.ChecksumException=C,r.Code128Reader=se,r.Code39Reader=Lt,r.DataMatrixDecodedBitStreamParser=OA,r.DataMatrixReader=NA,r.DecodeHintType=k,r.DecoderResult=Po,r.DefaultGridSampler=wp,r.DetectorResult=Vl,r.EAN13Reader=Fi,r.EncodeHintType=Ht,r.Exception=d,r.FormatException=D,r.GenericGF=je,r.GenericGFPoly=Tr,r.GlobalHistogramBinarizer=we,r.GridSampler=ud,r.GridSamplerInstance=UA,r.HTMLCanvasElementLuminanceSource=pe,r.HybridBinarizer=ie,r.ITFReader=$e,r.IllegalArgumentException=m,r.IllegalStateException=Kn,r.InvertedLuminanceSource=ae,r.LuminanceSource=re,r.MathUtils=De,r.MultiFormatOneDReader=Cs,r.MultiFormatReader=Tp,r.MultiFormatWriter=s_,r.NotFoundException=V,r.OneDReader=Nt,r.PDF417DecodedBitStreamParser=W,r.PDF417DecoderErrorCorrection=Ep,r.PDF417Reader=tr,r.PDF417ResultMetadata=_p,r.PerspectiveTransform=In,r.PlanarYUVLuminanceSource=Wn,r.QRCodeByteMatrix=ql,r.QRCodeDataMask=cn,r.QRCodeDecodedBitStreamParser=Bt,r.QRCodeDecoderErrorCorrectionLevel=At,r.QRCodeDecoderFormatInformation=ur,r.QRCodeEncoder=at,r.QRCodeEncoderQRCode=Oi,r.QRCodeMaskUtil=_t,r.QRCodeMatrixUtil=ve,r.QRCodeMode=Ce,r.QRCodeReader=RA,r.QRCodeVersion=xe,r.QRCodeWriter=Es,r.RGBLuminanceSource=_d,r.RSS14Reader=bt,r.RSSExpandedReader=J,r.ReaderException=Zl,r.ReedSolomonDecoder=jo,r.ReedSolomonEncoder=bd,r.ReedSolomonException=ms,r.Result=Te,r.ResultMetadataType=Wt,r.ResultPoint=me,r.StringUtils=Z,r.UnsupportedOperationException=q,r.VideoInputDevice=Qe,r.WhiteRectangleDetector=lA,r.WriterException=et,r.ZXingArrays=I,r.ZXingCharset=Up,r.ZXingInteger=T,r.ZXingStandardCharsets=Id,r.ZXingStringBuilder=Ae,r.ZXingStringEncoding=oe,r.ZXingSystem=v,r.createAbstractExpandedDecoder=Cp,Object.defineProperty(r,"__esModule",{value:!0})})})(ig,ig.exports);var ct=ig.exports;const K3=ey(ct),V3=Dg({__proto__:null,default:K3},[ct]);var Um=function(){function t(e,r,n){if(this.formatMap=new Map([[de.QR_CODE,ct.BarcodeFormat.QR_CODE],[de.AZTEC,ct.BarcodeFormat.AZTEC],[de.CODABAR,ct.BarcodeFormat.CODABAR],[de.CODE_39,ct.BarcodeFormat.CODE_39],[de.CODE_93,ct.BarcodeFormat.CODE_93],[de.CODE_128,ct.BarcodeFormat.CODE_128],[de.DATA_MATRIX,ct.BarcodeFormat.DATA_MATRIX],[de.MAXICODE,ct.BarcodeFormat.MAXICODE],[de.ITF,ct.BarcodeFormat.ITF],[de.EAN_13,ct.BarcodeFormat.EAN_13],[de.EAN_8,ct.BarcodeFormat.EAN_8],[de.PDF_417,ct.BarcodeFormat.PDF_417],[de.RSS_14,ct.BarcodeFormat.RSS_14],[de.RSS_EXPANDED,ct.BarcodeFormat.RSS_EXPANDED],[de.UPC_A,ct.BarcodeFormat.UPC_A],[de.UPC_E,ct.BarcodeFormat.UPC_E],[de.UPC_EAN_EXTENSION,ct.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!V3)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var A=this.createZXingFormats(e),i=new Map;i.set(ct.DecodeHintType.POSSIBLE_FORMATS,A),i.set(ct.DecodeHintType.TRY_HARDER,!1),this.hints=i}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,A){try{n(r.decode(e))}catch(i){A(i)}})},t.prototype.decode=function(e){var r=new ct.MultiFormatReader(this.verbose,this.hints),n=new ct.HTMLCanvasElementLuminanceSource(e),A=new ct.BinaryBitmap(new ct.HybridBinarizer(n)),i=r.decode(A);return{text:i.text,format:Dv.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,A){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,A=e;n<A.length;n++){var i=A[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),z3=function(t,e,r,n){function A(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(p){try{d(n.next(p))}catch(m){o(m)}}function u(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):A(p.value).then(c,u)}d((n=n.apply(t,e||[])).next())})},G3=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,A,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(p){return u([d,p])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,A&&(i=d[0]&2?A.return:d[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,d[1])).done)return i;switch(A=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,A=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(p){d=[6,p],A=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Qm=function(){function t(e,r,n){if(this.formatMap=new Map([[de.QR_CODE,"qr_code"],[de.AZTEC,"aztec"],[de.CODABAR,"codabar"],[de.CODE_39,"code_39"],[de.CODE_93,"code_93"],[de.CODE_128,"code_128"],[de.DATA_MATRIX,"data_matrix"],[de.ITF,"itf"],[de.EAN_13,"ean_13"],[de.EAN_8,"ean_8"],[de.PDF_417,"pdf417"],[de.UPC_A,"upc_a"],[de.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var A=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(A),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return z3(this,void 0,void 0,function(){var r,n;return G3(this,function(A){switch(A.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=A.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:Dv.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,A=0,i=e;A<i.length;A++){var o=i[A],c=o.boundingBox.width*o.boundingBox.height;c>n&&(n=c,r=o)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,A=e;n<A.length;n++){var i=A[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,A){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),Om=function(t,e,r,n){function A(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(p){try{d(n.next(p))}catch(m){o(m)}}function u(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):A(p.value).then(c,u)}d((n=n.apply(t,e||[])).next())})},Nm=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,A,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(p){return u([d,p])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,A&&(i=d[0]&2?A.return:d[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,d[1])).done)return i;switch(A=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,A=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(p){d=[6,p],A=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},W3=function(){function t(e,r,n,A){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&Qm.isSupported()?(this.primaryDecoder=new Qm(e,n,A),this.secondaryDecoder=new Um(e,n,A)):this.primaryDecoder=new Um(e,n,A)}return t.prototype.decodeAsync=function(e){return Om(this,void 0,void 0,function(){var r;return Nm(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return Om(this,void 0,void 0,function(){var r,n;return Nm(this,function(A){switch(A.label){case 0:r=performance.now(),A.label=1;case 1:return A.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,A.sent()];case 3:if(n=A.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var A=n[r];e+=A}var i=e/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),G1=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,A){n.__proto__=A}||function(n,A){for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&(n[i]=A[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sh=function(t,e,r,n){function A(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(p){try{d(n.next(p))}catch(m){o(m)}}function u(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):A(p.value).then(c,u)}d((n=n.apply(t,e||[])).next())})},oh=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,A,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(p){return u([d,p])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,A&&(i=d[0]&2?A.return:d[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,d[1])).done)return i;switch(A=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,A=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(p){d=[6,p],A=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Hv=function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t}(),X3=function(t){G1(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var A={advanced:[n]};return this.track.applyConstraints(A)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(Hv),Y3=function(t){G1(e,t);function e(r){return t.call(this,"zoom",r)||this}return e}(X3),J3=function(t){G1(e,t);function e(r){return t.call(this,"torch",r)||this}return e}(Hv),Z3=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new Y3(this.track)},t.prototype.torchFeature=function(){return new J3(this.track)},t}(),q3=function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,A=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,A),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,A){return sh(this,void 0,void 0,function(){var i,o;return oh(this,function(c){switch(c.label){case 0:return i=new t(e,r,A),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:c.sent(),c.label=2;case 2:return i.setupSurface(),[2,i]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return sh(this,void 0,void 0,function(){return oh(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var A=e.mediaStream.getVideoTracks(),i=A.length,o=0;e.mediaStream.getVideoTracks().forEach(function(c){e.mediaStream.removeTrack(c),c.stop(),++o,o>=i&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new Z3(this.getFirstTrackOrFail())},t}(),$3=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return sh(this,void 0,void 0,function(){return oh(this,function(A){return[2,q3.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return sh(this,void 0,void 0,function(){var r,n;return oh(this,function(A){switch(A.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=A.sent(),[2,new t(n)]}})})},t}(),Rm=function(t,e,r,n){function A(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(p){try{d(n.next(p))}catch(m){o(m)}}function u(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):A(p.value).then(c,u)}d((n=n.apply(t,e||[])).next())})},Mm=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,A,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(p){return u([d,p])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,A&&(i=d[0]&2?A.return:d[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,d[1])).done)return i;switch(A=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,A=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(p){d=[6,p],A=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},eU=function(){function t(){}return t.failIfNotSupported=function(){return Rm(this,void 0,void 0,function(){return Mm(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Rm(this,void 0,void 0,function(){return Mm(this,function(r){return[2,$3.create(e)]})})},t}(),tU=function(t,e,r,n){function A(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(p){try{d(n.next(p))}catch(m){o(m)}}function u(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):A(p.value).then(c,u)}d((n=n.apply(t,e||[])).next())})},rU=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,A,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(p){return u([d,p])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,A&&(i=d[0]&2?A.return:d[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,d[1])).done)return i;switch(A=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,A=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(p){d=[6,p],A=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},nU=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=io.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=io.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return tU(this,void 0,void 0,function(){var e,r,n,A,i,o,c;return rU(this,function(u){switch(u.label){case 0:return e=function(d){for(var p=d.getVideoTracks(),m=0,x=p;m<x.length;m++){var C=x[m];C.enabled=!1,C.stop(),d.removeTrack(C)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=u.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=u.sent(),A=[],i=0,o=n;i<o.length;i++)c=o[i],c.kind==="videoinput"&&A.push({id:c.deviceId,label:c.label});return e(r),[2,A]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(i){for(var o=[],c=0,u=i;c<u.length;c++){var d=u[c];d.kind==="video"&&o.push({id:d.id,label:d.label})}e(o)},A=MediaStreamTrack;A.getSources(n)})},t}(),It;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(It||(It={}));var AU=function(){function t(){this.state=It.NOT_STARTED,this.onGoingTransactionNewState=It.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===It.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=It.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===It.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=It.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==It.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case It.UNKNOWN:throw"Transition from unknown is not allowed";case It.NOT_STARTED:this.failIfNewStateIs(e,[It.PAUSED]);break;case It.SCANNING:break;case It.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,A=r;n<A.length;n++){var i=A[n];if(e===i)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),iU=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===It.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==It.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===It.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===It.PAUSED},t}(),sU=function(){function t(){}return t.create=function(){return new iU(new AU)},t}(),oU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,A){n.__proto__=A}||function(n,A){for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&(n[i]=A[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zr=function(t){oU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Dn),aU=function(){function t(e,r){this.logger=r,this.fps=Zr.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Zr.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Pv.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!tA(this.qrbox)},t.create=function(e,r){return new t(e,r)},t}(),Dm=function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new Lv(this.verbose),this.qrcode=new W3(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=sU.create()}return t.prototype.start=function(e,r,n,A){var i=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;A?o=A:o=this.verbose?this.logger.log:function(){};var c=aU.create(r,this.logger);this.clearElement();var u=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?u=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=u,p=document.getElementById(this.elementId);p.clientWidth?p.clientWidth:Zr.DEFAULT_WIDTH,p.style.position="relative",this.shouldScan=!0,this.element=p;var m=this,x=this.stateManagerProxy.startTransition(It.SCANNING);return new Promise(function(C,E){var v=d?c.videoConstraints:m.createVideoConstraints(e);if(!v){x.cancel(),E("videoConstraints should be defined");return}var F={};(!d||c.aspectRatio)&&(F.aspectRatio=c.aspectRatio);var S={onRenderSurfaceReady:function(I,T){m.setupUi(I,T,c),m.isScanning=!0,m.foreverScan(c,n,o)}};eU.failIfNotSupported().then(function(I){I.create(v).then(function(T){return T.render(i.element,F,S).then(function(N){m.renderedCamera=N,x.execute(),C(null)}).catch(function(N){x.cancel(),E(N)})}).catch(function(T){x.cancel(),E(io.errorGettingUserMedia(T))})}).catch(function(I){x.cancel(),E(io.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(It.PAUSED),this.showPausedState(),(tA(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(It.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(It.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var i=document.getElementById(Zr.SHADED_REGION_ELEMENT_ID);i&&e.element.removeChild(i)}},A=this;return this.renderedCamera.close().then(function(){return A.renderedCamera=null,A.element&&(A.element.removeChild(A.canvasElement),A.canvasElement=null),n(),A.qrRegion&&(A.qrRegion=null),A.context&&(A.context=null),r.execute(),A.hidePausedState(),A.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(tA(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(A,i){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var c=o.width,u=o.height,d=document.getElementById(n.elementId),p=d.clientWidth?d.clientWidth:Zr.DEFAULT_WIDTH,m=Math.max(d.clientHeight?d.clientHeight:u,Zr.FILE_SCAN_MIN_HEIGHT),x=n.computeCanvasDrawConfig(c,u,p,m);if(r){var C=n.createCanvasElement(p,m,"qr-canvas-visible");C.style.display="inline-block",d.appendChild(C);var E=C.getContext("2d");if(!E)throw"Unable to get 2d context from canvas";E.canvas.width=p,E.canvas.height=m,E.drawImage(o,0,0,c,u,x.x,x.y,x.width,x.height)}var v=Zr.FILE_SCAN_HIDDEN_CANVAS_PADDING,F=Math.max(o.width,x.width),S=Math.max(o.height,x.height),I=F+2*v,T=S+2*v,N=n.createCanvasElement(I,T);d.appendChild(N);var L=N.getContext("2d");if(!L)throw"Unable to get 2d context from canvas";L.canvas.width=I,L.canvas.height=T,L.drawImage(o,0,0,c,u,v,v,F,S);try{n.qrcode.decodeRobustlyAsync(N).then(function(k){A(Fm.createFromQrcodeResult(k))}).catch(i)}catch(k){i("QR code parse error, error = ".concat(k))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return nU.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!Pv.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[de.QR_CODE,de.AZTEC,de.CODABAR,de.CODE_39,de.CODE_93,de.CODE_128,de.DATA_MATRIX,de.MAXICODE,de.ITF,de.EAN_13,de.EAN_8,de.PDF_417,de.RSS_14,de.RSS_EXPANDED,de.UPC_A,de.UPC_E,de.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],A=0,i=e.formatsToSupport;A<i.length;A++){var o=i[A];H3(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(tA(e))return!0;if(!tA(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(tA(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return tA(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var A=this,i=n.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(e,r,i),c=function(d){if(d<Zr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Zr.MIN_QR_BOX_SIZE,"px.")},u=function(d){return d>e&&(A.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=e),d};c(o.width),c(o.height),o.width=u(o.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(A){throw new Error("qrbox config was passed as a function but it failed with unknown error"+A)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var A=tA(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(A);var i=this.toQrdimensions(e,r,A);i.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&i.height<=r,c={x:0,y:0,width:e,height:r},u=o?this.getShadedRegionBounds(e,r,i):c,d=this.createCanvasElement(u.width,u.height),p={willReadFrequently:!0},m=d.getContext("2d",p);m.canvas.width=u.width,m.canvas.height=u.height,this.element.append(d),o&&this.possiblyInsertShadingElement(this.element,e,r,i),this.createScannerPausedUiElement(this.element),this.qrRegion=u,this.context=m,this.canvasElement=d},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=io.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(A){return e(A.text,Fm.createFromQrcodeResult(A)),n.possiblyUpdateShaders(!0),!0}).catch(function(A){n.possiblyUpdateShaders(!1);var i=io.codeParseError(A);return r(i,kv.createFrom(i)),!1})},t.prototype.foreverScan=function(e,r,n){var A=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,c=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var u=this.qrRegion.width*o,d=this.qrRegion.height*c,p=this.qrRegion.x*o,m=this.qrRegion.y*c;this.context.drawImage(i,p,m,u,d,0,0,this.qrRegion.width,this.qrRegion.height);var x=function(){A.foreverScanTimeout=setTimeout(function(){A.foreverScan(e,r,n)},A.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(C){!C&&e.disableFlip!==!0?(A.context.translate(A.context.canvas.width,0),A.context.scale(-1,1),A.scanContext(r,n).finally(function(){x()})):x()}).catch(function(C){A.logger.logError("Error happend while scanning context",C),x()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",A={user:!0,environment:!0},i="exact",o=function(E){if(E in A)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(E,"'")},c=Object.keys(e);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var u=Object.keys(e)[0];if(u!==r&&u!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(u===r){var d=e.facingMode;if(typeof d=="string"){if(o(d))return{facingMode:d}}else if(typeof d=="object")if(i in d){if(o(d["".concat(i)]))return{facingMode:{exact:d["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var p=typeof d;throw"Invalid type of 'facingMode' = ".concat(p)}}else{var m=e.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(i in m)return{deviceId:{exact:m["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var x=typeof m;throw"Invalid type of 'deviceId' = ".concat(x)}}}var C=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(C)},t.prototype.computeCanvasDrawConfig=function(e,r,n,A){if(e<=n&&r<=A){var i=(n-e)/2,o=(A-r)/2;return{x:i,y:o,width:e,height:r}}else{var c=e,u=r;return e>n&&(r=n/e*r,e=n),r>A&&(e=A/r*e,r=A),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(u)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,A)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?Zr.BORDER_SHADER_MATCH_COLOR:Zr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var A=e,i=r,o=document.createElement("canvas");return o.style.width="".concat(A,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=tA(n)?"qr-canvas":n,o},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,A){if(!(r-A.width<1||n-A.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(r-A.width)/2,c=(n-A.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(Zr.SHADED_REGION_ELEMENT_ID),r-A.width<11||n-A.height<11)this.hasBorderShaders=!1;else{var u=5,d=40;this.insertShaderBorders(i,d,u,-u,null,0,!0),this.insertShaderBorders(i,d,u,-u,null,0,!1),this.insertShaderBorders(i,d,u,null,-u,0,!0),this.insertShaderBorders(i,d,u,null,-u,0,!1),this.insertShaderBorders(i,u,d+u,-u,null,-u,!0),this.insertShaderBorders(i,u,d+u,null,-u,-u,!0),this.insertShaderBorders(i,u,d+u,-u,null,-u,!1),this.insertShaderBorders(i,u,d+u,null,-u,-u,!1),this.hasBorderShaders=!0}e.append(i)}},t.prototype.insertShaderBorders=function(e,r,n,A,i,o,c){var u=document.createElement("div");u.style.position="absolute",u.style.backgroundColor=Zr.BORDER_SHADER_DEFAULT_COLOR,u.style.width="".concat(r,"px"),u.style.height="".concat(n,"px"),A!==null&&(u.style.top="".concat(A,"px")),i!==null&&(u.style.bottom="".concat(i,"px")),c?u.style.left="".concat(o,"px"):u.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(u),e.appendChild(u)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),W1="data:image/svg+xml;base64,",lU=W1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",cU=W1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",km=W1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",uU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Lm=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),hU=function(){function t(){this.data=Lm.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=Lm.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),dU=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Tm.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),A=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(A);var i=document.createElement("a");i.innerText=Tm.reportIssues(),i.href="https://github.com/mebjas/html5-qrcode/issues",i.target="new",i.style.color="white",this.infoDiv.appendChild(i),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),fU=function(){function t(e,r){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=r,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=km,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=uU,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=km,this.infoIcon.style.opacity="0.6")},t}(),gU=function(){function t(){var e=this;this.infoDiv=new dU,this.infoIcon=new fU(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),pU=function(t,e,r,n){function A(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(p){try{d(n.next(p))}catch(m){o(m)}}function u(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):A(p.value).then(c,u)}d((n=n.apply(t,e||[])).next())})},wU=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,A,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(p){return u([d,p])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,A&&(i=d[0]&2?A.return:d[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,d[1])).done)return i;switch(A=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,A=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(p){d=[6,p],A=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Pm=function(){function t(){}return t.hasPermissions=function(){return pU(this,void 0,void 0,function(){var e,r,n,A;return wU(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=i.sent(),r=0,n=e;r<n.length;r++)if(A=n[r],A.kind==="videoinput"&&A.label)return[2,!0];return[2,!1]}})})},t}(),PA=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,r=this.supportedScanTypes;e<r.length;e++){var n=r[e];if(t.isCameraScanType(n))return!0}return!1},t.isCameraScanType=function(e){return e===yi.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===yi.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Dn.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Dn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,A=e;n<A.length;n++){var i=A[n];if(!Dn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(i))throw"Unsupported scan type ".concat(i)}return e},t}(),rn=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),yA=function(){function t(){}return t.createElement=function(e,r){var n=document.createElement(e);return n.id=r,n.classList.add(rn.ALL_ELEMENT_CLASS),e==="button"&&n.setAttribute("type","button"),n},t}(),jv=function(t,e,r,n){function A(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(p){try{d(n.next(p))}catch(m){o(m)}}function u(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):A(p.value).then(c,u)}d((n=n.apply(t,e||[])).next())})},Kv=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,A,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(p){return u([d,p])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,A&&(i=d[0]&2?A.return:d[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,d[1])).done)return i;switch(A=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,A=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(p){d=[6,p],A=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Hm=function(){function t(e,r,n){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=r,this.onTorchActionFailureCallback=n}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return jv(this,void 0,void 0,function(){var e,r;return Kv(this,function(n){switch(n.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return r=n.sent(),this.propagateFailure(e,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,r){e===r?(this.buttonController.setText(r?We.torchOffButton():We.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},t.prototype.propagateFailure=function(e,r){var n=e?We.torchOnFailedMessage():We.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),mU=function(){function t(e,r){this.onTorchActionFailureCallback=r,this.torchButton=yA.createElement("button",rn.TORCH_BUTTON_ID),this.torchController=new Hm(e,this,r)}return t.prototype.render=function(e,r){var n=this;this.torchButton.innerText=We.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var A=this;this.torchButton.addEventListener("click",function(i){return jv(n,void 0,void 0,function(){return Kv(this,function(o){switch(o.label){case 0:return[4,A.torchController.flipState()];case 1:return o.sent(),A.torchController.isTorchEnabled()?(A.torchButton.classList.remove(rn.TORCH_BUTTON_CLASS_TORCH_OFF),A.torchButton.classList.add(rn.TORCH_BUTTON_CLASS_TORCH_ON)):(A.torchButton.classList.remove(rn.TORCH_BUTTON_CLASS_TORCH_ON),A.torchButton.classList.add(rn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new Hm(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=We.torchOnButton(),this.torchController.reset()},t.create=function(e,r,n,A){var i=new t(r,A);return i.render(e,n),i},t}(),BU=function(){function t(e,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",e.appendChild(this.fileBasedScanRegion);var A=document.createElement("label");A.setAttribute("for",this.getFileScanInputId()),A.style.display="inline-block",this.fileBasedScanRegion.appendChild(A),this.fileSelectionButton=yA.createElement("button",rn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(c){A.click()}),A.append(this.fileSelectionButton),this.fileScanInput=yA.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",A.appendChild(this.fileScanInput);var i=this;this.fileScanInput.addEventListener("change",function(c){if(!(c==null||c.target==null)){var u=c.target;if(!(u.files&&u.files.length===0)){var d=u.files,p=d[0],m=p.name;i.setImageNameToButton(m),n(p)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(c){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),c.stopPropagation(),c.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(c){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder(),c.stopPropagation(),c.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(c){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),c.stopPropagation(),c.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(c){c.stopPropagation(),c.preventDefault(),i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder();var u=c.dataTransfer;if(u){var d=u.files;if(!d||d.length===0)return;for(var p=!1,m=0;m<d.length;++m){var x=d.item(m);if(x){var C=/image.*/;if(x.type.match(C)){p=!0;var E=x.name;i.setImageNameToButton(E),n(x),o.innerText=We.dragAndDropMessage();break}}}p||(o.innerText=We.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=We.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var r=20;if(e.length>r){var n=e.substring(0,8),A=e.length,i=e.substring(A-8,A);e="".concat(n,"....").concat(i)}var o=We.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=o},t.prototype.setInitialValueToButton=function(){var e=We.fileSelectionChooseImage()+" - "+We.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,r,n){var A=new t(e,r,n);return A},t}(),xU=function(){function t(e){this.selectElement=yA.createElement("select",rn.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var A=We.selectCamera();r.innerText="".concat(A," (").concat(this.cameras.length,")  ")}for(var i=1,o=0,c=this.cameras;o<c.length;o++){var u=c[o],d=u.id,p=u.label==null?d:u.label;(!p||p==="")&&(p=[We.anonymousCameraPrefix(),i++].join(" "));var m=document.createElement("option");m.value=d,m.innerText=p,this.options.push(m),this.selectElement.appendChild(m)}r.appendChild(this.selectElement),e.appendChild(r)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var r=0,n=this.options;r<n.length;r++){var A=n[r];if(A.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,r){var n=new t(r);return n.render(e),n},t}(),yU=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=yA.createElement("input",rn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=We.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var A=this;this.rangeInput.addEventListener("input",function(){return A.onValueChange()}),this.rangeInput.addEventListener("change",function(){return A.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=We.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,r,n,A){this.rangeInput.min=e.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=A.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,r){var n=new t;return n.render(e,r),n},t}(),qr;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(qr||(qr={}));function CU(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function vU(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var EU=function(){function t(e,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new PA(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Lv(this.verbose),this.persistedDataManager=new hU,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(i,o){if(e)e(i,o);else{if(n.lastMatchFound===i)return;n.lastMatchFound=i,n.setHeaderMessage(We.lastMatch(i),qr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(i,o){r&&r(i,o)};var A=document.getElementById(this.elementId);if(!A)throw"HTML Element with id=".concat(this.elementId," not found");A.innerHTML="",this.createBasicLayout(A),this.html5Qrcode=new Dm(this.getScanRegionId(),vU(this.config,this.verbose))},t.prototype.pause=function(e){(tA(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,r=function(){var n=document.getElementById(e.elementId);n&&(n.innerHTML="",e.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,A){if(!e.html5Qrcode){n();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(i){if(!e.html5Qrcode){n();return}e.html5Qrcode.clear(),r(),n()}).catch(function(i){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",i),A(i)}):(e.html5Qrcode.clear(),r(),n())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Dn.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Dn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Dn.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Dn.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Dn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Dn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Dn.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",e.appendChild(r),PA.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var A=document.createElement("div"),i=this.getDashboardId();A.id=i,A.style.width="100%",e.appendChild(A),this.setupInitialDashboard(A)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",e.appendChild(r);var n=new gU;n.renderInto(r);var A=document.createElement("div");A.id=this.getHeaderMessageContainerId(),A.style.display="none",A.style.textAlign="center",A.style.fontSize="14px",A.style.padding="2px 10px",A.style.margin="4px",A.style.borderTop="1px solid #f6f6f6",r.appendChild(A)},t.prototype.createSection=function(e){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",e.appendChild(r)},t.prototype.createCameraListUi=function(e,r,n){var A=this;A.showHideScanTypeSwapLink(!1),A.setHeaderMessage(We.cameraPermissionRequesting());var i=function(){n||A.createPermissionButton(e,r)};Dm.getCameras().then(function(o){A.persistedDataManager.setHasPermission(!0),A.showHideScanTypeSwapLink(!0),A.resetHeaderMessage(),o&&o.length>0?(e.removeChild(r),A.renderCameraSelection(o)):(A.setHeaderMessage(We.noCameraFound(),qr.STATUS_WARNING),i())}).catch(function(o){A.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:i(),A.setHeaderMessage(o,qr.STATUS_WARNING),A.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,r){var n=this,A=yA.createElement("button",this.getCameraPermissionButtonId());A.innerText=We.cameraPermissionTitle(),A.addEventListener("click",function(){A.disabled=!0,n.createCameraListUi(e,r,A)}),r.appendChild(A)},t.prototype.createPermissionsUi=function(e,r){var n=this;if(PA.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Pm.hasPermissions().then(function(A){A?n.createCameraListUi(e,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,r))}).catch(function(A){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,r)});return}this.createPermissionButton(e,r)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");e.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=PA.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var A=document.createElement("div");A.style.textAlign="center",n.appendChild(A),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,A),this.renderFileScanUi(r)},t.prototype.renderFileScanUi=function(e){var r=PA.isFileScanType(this.currentScanType),n=this,A=function(i){if(!n.html5Qrcode)throw"html5Qrcode not defined";PA.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(We.loadingImage()),n.html5Qrcode.scanFileV2(i,!0).then(function(o){n.resetHeaderMessage(),n.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){n.setHeaderMessage(o,qr.STATUS_WARNING),n.qrCodeErrorCallback(o,kv.createFrom(o))}))};this.fileSelectionUi=BU.create(e,r,A)},t.prototype.renderCameraSelection=function(e){var r=this,n=this,A=document.getElementById(this.getDashboardSectionCameraScanRegionId());A.style.textAlign="center";var i=yU.create(A,!1),o=function(v){var F=v.zoomFeature();if(F.isSupported()){i.setOnCameraZoomValueChangeCallback(function(I){F.apply(I)});var S=1;r.config.defaultZoomValueIfSupported&&(S=r.config.defaultZoomValueIfSupported),S=j3(S,F.min(),F.max()),i.setValues(F.min(),F.max(),S,F.step()),i.show()}},c=xU.create(A,e),u=document.createElement("span"),d=yA.createElement("button",rn.CAMERA_START_BUTTON_ID);d.innerText=We.scanButtonStartScanningText(),u.appendChild(d);var p=yA.createElement("button",rn.CAMERA_STOP_BUTTON_ID);p.innerText=We.scanButtonStopScanningText(),p.style.display="none",p.disabled=!0,u.appendChild(p);var m,x=function(v){if(!v.torchFeature().isSupported()){m&&m.hide();return}m?m.updateTorchCapability(v.torchFeature()):m=mU.create(u,v.torchFeature(),{display:"none",marginLeft:"5px"},function(F){n.setHeaderMessage(F,qr.STATUS_WARNING)}),m.show()};A.appendChild(u);var C=function(v){v||(d.style.display="none"),d.innerText=We.scanButtonStartScanningText(),d.style.opacity="1",d.disabled=!1,v&&(d.style.display="inline-block")};if(d.addEventListener("click",function(v){d.innerText=We.scanButtonScanningStarting(),c.disable(),d.disabled=!0,d.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var F=c.getValue();n.persistedDataManager.setLastUsedCameraId(F),n.html5Qrcode.start(F,CU(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(S){p.disabled=!1,p.style.display="inline-block",C(!1);var I=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&x(I),r.config.showZoomSliderIfSupported===!0&&o(I)}).catch(function(S){n.showHideScanTypeSwapLink(!0),c.enable(),C(!0),n.setHeaderMessage(S,qr.STATUS_WARNING)})}),c.hasSingleItem()&&d.click(),p.addEventListener("click",function(v){if(!n.html5Qrcode)throw"html5Qrcode not defined";p.disabled=!0,n.html5Qrcode.stop().then(function(F){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),c.enable(),d.disabled=!1,p.style.display="none",d.style.display="inline-block",m&&(m.reset(),m.hide()),i.removeOnCameraZoomValueChangeCallback(),i.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(F){p.disabled=!1,n.setHeaderMessage(F,qr.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var E=n.persistedDataManager.getLastUsedCameraId();c.hasValue(E)?(c.setValue(E),d.click()):n.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,r=We.textIfCameraScanSelected(),n=We.textIfFileScanSelected(),A=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");i.style.textAlign="center";var o=yA.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=PA.isCameraScanType(this.currentScanType)?r:n,o.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,PA.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),o.innerText=n,e.currentScanType=yi.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),o.innerText=r,e.currentScanType=yi.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),i.appendChild(o),A.appendChild(i)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){Pm.hasPermissions().then(function(n){if(n){var A=document.getElementById(r.getCameraPermissionButtonId());if(!A)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";A.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,r){r||(r=qr.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display="block",r){case qr.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case qr.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case qr.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=lU,this.cameraScanImage.alt=We.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=cU,this.fileScanImage.alt=We.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return rn.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return rn.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const jm=()=>{const{id:t}=x2(),e=Oo(),{addProduct:r,getProduct:n,updateProduct:A,categories:i}=Wr(),o=!!t,[c,u]=Y.useState(!1),[d,p]=Y.useState({name:"",sku:"",category:"",description:"",price:"",cost:"",stock:"",minStock:""});Y.useEffect(()=>{if(o){const v=n(t);v?p(v):e("/inventory")}},[t,n,e,o]),Y.useEffect(()=>{let v=null;return c&&(v=new EU("reader",{fps:10,qrbox:{width:250,height:250}},!1),v.render(m,x)),()=>{v&&v.clear().catch(F=>{console.error("Failed to clear html5-qrcode scanner. ",F)})}},[c]);const m=(v,F)=>{p(S=>({...S,sku:v})),u(!1)},x=v=>{},C=v=>{const{name:F,value:S}=v.target;p(I=>({...I,[F]:S}))},E=v=>{v.preventDefault();const F={...d,price:Number(d.price),cost:Number(d.cost),stock:Number(d.stock),minStock:Number(d.minStock)};o?A(t,F):r(F),e("/inventory")};return _.jsxs("div",{className:"page-container",children:[_.jsxs("div",{className:"page-header",children:[_.jsxs("button",{onClick:()=>e("/inventory"),className:"back-btn",children:[_.jsx(kl,{size:20}),_.jsx("span",{children:"Volver"})]}),_.jsx("h1",{className:"page-title",children:o?"Editar Producto":"Nuevo Producto"})]}),_.jsx("div",{className:"card form-card",children:_.jsxs("form",{onSubmit:E,children:[_.jsxs("div",{className:"form-grid",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Nombre del Producto"}),_.jsx("input",{type:"text",name:"name",value:d.name,onChange:C,required:!0,placeholder:"Ej. Tornillo de 2 pulgadas"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"SKU / Cdigo"}),_.jsxs("div",{className:"input-with-action",children:[_.jsx("input",{type:"text",name:"sku",value:d.sku,onChange:C,required:!0,placeholder:"Ej. TOR-001"}),_.jsx("button",{type:"button",className:"btn btn-outline icon-only",onClick:()=>u(!0),title:"Escanear Cdigo",children:_.jsx(D3,{size:20})})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Categora"}),_.jsxs("select",{name:"category",value:d.category,onChange:C,required:!0,children:[_.jsx("option",{value:"",children:"Seleccionar..."}),i.map(v=>_.jsx("option",{value:v,children:v},v))]})]}),_.jsxs("div",{className:"form-group full-width",children:[_.jsx("label",{children:"Descripcin"}),_.jsx("textarea",{name:"description",value:d.description,onChange:C,rows:"3"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Costo ($)"}),_.jsx("input",{type:"number",name:"cost",value:d.cost,onChange:C,min:"0",step:"0.01",required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Precio de Venta ($)"}),_.jsx("input",{type:"number",name:"price",value:d.price,onChange:C,min:"0",step:"0.01",required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Stock Inicial"}),_.jsx("input",{type:"number",name:"stock",value:d.stock,onChange:C,min:"0",required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Stock Mnimo (Alerta)"}),_.jsx("input",{type:"number",name:"minStock",value:d.minStock,onChange:C,min:"0",required:!0})]})]}),_.jsxs("div",{className:"form-actions",children:[_.jsx("button",{type:"button",onClick:()=>e("/inventory"),className:"btn",children:"Cancelar"}),_.jsxs("button",{type:"submit",className:"btn btn-primary",children:[_.jsx(z1,{size:18,style:{marginRight:"8px"}}),"Guardar Producto"]})]})]})}),c&&_.jsx("div",{className:"modal-overlay",children:_.jsxs("div",{className:"modal-content scanner-modal",children:[_.jsxs("div",{className:"modal-header",children:[_.jsx("h3",{children:"Escanear Cdigo"}),_.jsx("button",{onClick:()=>u(!1),className:"close-btn",children:_.jsx(Mv,{size:24})})]}),_.jsxs("div",{className:"modal-body",children:[_.jsx("div",{id:"reader",width:"100%"}),_.jsx("p",{className:"text-center text-muted mt-2",children:"Apunta la cmara al cdigo de barras o QR"})]})]})}),_.jsx("style",{children:`
        .back-btn {
          display: flex;
          align-items: center;
          gap: 8px;
          background: none;
          border: none;
          color: var(--color-text-muted);
          margin-bottom: var(--spacing-sm);
          padding: 0;
        }

        .back-btn:hover {
          color: var(--color-primary);
        }

        .form-card {
          max-width: 800px;
          margin: 0 auto;
        }

        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: var(--spacing-lg);
        }

        .full-width {
          grid-column: span 2;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-xs);
        }

        .form-group label {
          font-weight: 500;
          font-size: 0.9rem;
          color: var(--color-text);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
          padding: 10px;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          font-size: 1rem;
          background-color: var(--color-background);
          color: var(--color-text);
          transition: border-color 0.2s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
          outline: none;
          border-color: var(--color-primary);
          box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
        }

        .input-with-action {
            display: flex;
            gap: 8px;
        }
        
        .input-with-action input {
            flex: 1;
        }

        .icon-only {
            padding: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .form-actions {
          margin-top: var(--spacing-xl);
          display: flex;
          justify-content: flex-end;
          gap: var(--spacing-md);
          padding-top: var(--spacing-lg);
          border-top: 1px solid var(--color-border);
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background-color: var(--color-surface);
            border-radius: var(--radius-lg);
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .modal-header {
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--color-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            margin: 0;
            font-size: 1.25rem;
            color: var(--color-text);
        }

        .modal-body {
            padding: var(--spacing-lg);
        }
        
        .close-btn {
            background: none;
            border: none;
            color: var(--color-text-muted);
            cursor: pointer;
        }

        .mt-2 { margin-top: 0.5rem; }
        .text-center { text-align: center; }

        @media (max-width: 640px) {
          .form-grid {
            grid-template-columns: 1fr;
          }
          
          .full-width {
            grid-column: span 1;
          }
        }
      `})]})},bU=()=>{const{movements:t}=Xh(),{products:e}=Wr(),[r,n]=Y.useState("ALL"),A=o=>{const c=e.find(u=>u.id===o);return c?c.name:"Producto Eliminado"},i=t.filter(o=>r==="ALL"?!0:o.type===r);return _.jsxs("div",{className:"page-container",children:[_.jsxs("div",{className:"page-header",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"page-title",children:"Movimientos de Inventario"}),_.jsx("p",{className:"page-subtitle",children:"Historial de entradas y salidas"})]}),_.jsxs("div",{className:"header-actions",children:[_.jsxs(xi,{to:"/movements/new/IN",className:"btn btn-success",children:[_.jsx(_3,{size:20,style:{marginRight:"8px"}}),"Registrar Entrada"]}),_.jsxs(xi,{to:"/movements/new/OUT",className:"btn btn-danger",children:[_.jsx(I3,{size:20,style:{marginRight:"8px"}}),"Registrar Salida"]})]})]}),_.jsxs("div",{className:"filters-bar",children:[_.jsx("button",{className:`filter-btn ${r==="ALL"?"active":""}`,onClick:()=>n("ALL"),children:"Todos"}),_.jsx("button",{className:`filter-btn ${r==="IN"?"active":""}`,onClick:()=>n("IN"),children:"Entradas"}),_.jsx("button",{className:`filter-btn ${r==="OUT"?"active":""}`,onClick:()=>n("OUT"),children:"Salidas"})]}),_.jsx("div",{className:"card table-container",children:_.jsxs("table",{className:"data-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Fecha"}),_.jsx("th",{children:"Tipo"}),_.jsx("th",{children:"Producto"}),_.jsx("th",{children:"Cantidad"}),_.jsx("th",{children:"Motivo/Nota"})]})}),_.jsx("tbody",{children:i.length>0?i.map(o=>_.jsxs("tr",{children:[_.jsx("td",{children:new Date(o.date).toLocaleString()}),_.jsx("td",{children:_.jsx("span",{className:`badge ${o.type==="IN"?"badge-success":"badge-danger"}`,children:o.type==="IN"?"Entrada":"Salida"})}),_.jsx("td",{className:"product-name",children:A(o.productId)}),_.jsx("td",{className:"font-mono",children:o.quantity}),_.jsx("td",{className:"text-muted",children:o.reason||"-"})]},o.id)):_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"empty-state",children:"No hay movimientos registrados."})})})]})}),_.jsx("style",{children:`
        .header-actions {
          display: flex;
          gap: var(--spacing-md);
        }

        .btn-success {
          background-color: var(--color-success);
          color: white;
        }
        .btn-success:hover {
          background-color: #059669;
        }

        .btn-danger {
          background-color: var(--color-danger);
          color: white;
        }
        .btn-danger:hover {
          background-color: #dc2626;
        }

        .filters-bar {
          display: flex;
          gap: var(--spacing-sm);
          margin-bottom: var(--spacing-lg);
        }

        .filter-btn {
          padding: 6px 16px;
          border-radius: var(--radius-full);
          border: 1px solid var(--color-border);
          background: var(--color-surface);
          color: var(--color-text-muted);
          font-size: 0.9rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .filter-btn:hover {
          border-color: var(--color-primary);
          color: var(--color-primary);
        }

        .filter-btn.active {
          background-color: var(--color-primary);
          color: white;
          border-color: var(--color-primary);
        }

        .badge-success {
          background-color: #d1fae5;
          color: #065f46;
          border-color: #34d399;
        }

        .badge-danger {
          background-color: #fee2e2;
          color: #991b1b;
          border-color: #f87171;
        }

        .font-mono {
          font-family: monospace;
          font-size: 1rem;
        }

        .text-muted {
          color: var(--color-text-muted);
        }
        
        @media (max-width: 640px) {
          .page-header {
            flex-direction: column;
            align-items: flex-start;
            gap: var(--spacing-md);
          }
          
          .header-actions {
            width: 100%;
          }
          
          .header-actions .btn {
            flex: 1;
          }
        }
      `})]})},_U=()=>{const{type:t}=x2(),e=Oo(),{products:r}=Wr(),{addMovement:n}=Xh(),A=t==="IN",[i,o]=Y.useState({productId:"",quantity:"",reason:""}),c=d=>{const{name:p,value:m}=d.target;o(x=>({...x,[p]:m}))},u=d=>{d.preventDefault();const p=r.find(m=>m.id===i.productId);if(p){if(!A&&Number(i.quantity)>p.stock){alert(`Error: No hay suficiente stock. Stock actual: ${p.stock}`);return}try{n({productId:i.productId,type:t,quantity:Number(i.quantity),reason:i.reason}),e("/movements")}catch(m){alert("Error al registrar movimiento: "+m.message)}}};return _.jsxs("div",{className:"page-container",children:[_.jsxs("div",{className:"page-header",children:[_.jsxs("button",{onClick:()=>e("/movements"),className:"back-btn",children:[_.jsx(kl,{size:20}),_.jsx("span",{children:"Volver"})]}),_.jsx("h1",{className:"page-title",children:A?"Registrar Entrada de Stock":"Registrar Salida de Stock"})]}),_.jsx("div",{className:"card form-card",children:_.jsxs("form",{onSubmit:u,children:[_.jsxs("div",{className:"form-grid",children:[_.jsxs("div",{className:"form-group full-width",children:[_.jsx("label",{children:"Producto"}),_.jsxs("select",{name:"productId",value:i.productId,onChange:c,required:!0,children:[_.jsx("option",{value:"",children:"Seleccionar producto..."}),r.map(d=>_.jsxs("option",{value:d.id,children:[d.name," (SKU: ",d.sku,") - Stock: ",d.stock]},d.id))]})]}),_.jsxs("div",{className:"form-group",children:[_.jsxs("label",{children:["Cantidad a ",A?"Ingresar":"Retirar"]}),_.jsx("input",{type:"number",name:"quantity",value:i.quantity,onChange:c,min:"1",required:!0})]}),_.jsxs("div",{className:"form-group full-width",children:[_.jsx("label",{children:"Motivo / Nota (Opcional)"}),_.jsx("textarea",{name:"reason",value:i.reason,onChange:c,rows:"3",placeholder:A?"Ej. Compra de proveedor, Devolucin...":"Ej. Venta, Merma, Uso interno..."})]})]}),_.jsxs("div",{className:"form-actions",children:[_.jsx("button",{type:"button",onClick:()=>e("/movements"),className:"btn",children:"Cancelar"}),_.jsxs("button",{type:"submit",className:`btn ${A?"btn-success":"btn-danger"}`,children:[_.jsx(z1,{size:18,style:{marginRight:"8px"}}),A?"Registrar Entrada":"Registrar Salida"]})]})]})}),_.jsx("style",{children:`
        .back-btn {
          display: flex;
          align-items: center;
          gap: 8px;
          background: none;
          border: none;
          color: var(--color-text-muted);
          margin-bottom: var(--spacing-sm);
          padding: 0;
        }

        .back-btn:hover {
          color: var(--color-primary);
        }

        .form-card {
          max-width: 600px;
          margin: 0 auto;
        }

        .form-grid {
          display: grid;
          grid-template-columns: 1fr;
          gap: var(--spacing-lg);
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-xs);
        }

        .form-group label {
          font-weight: 500;
          font-size: 0.9rem;
          color: var(--color-text);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
          padding: 10px;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          font-size: 1rem;
          background-color: var(--color-background);
          color: var(--color-text);
          transition: border-color 0.2s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
          outline: none;
          border-color: var(--color-primary);
          box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
        }

        .form-actions {
          margin-top: var(--spacing-xl);
          display: flex;
          justify-content: flex-end;
          gap: var(--spacing-md);
          padding-top: var(--spacing-lg);
          border-top: 1px solid var(--color-border);
        }

        .btn-success {
          background-color: var(--color-success);
          color: white;
        }
        .btn-success:hover {
          background-color: #059669;
        }

        .btn-danger {
          background-color: var(--color-danger);
          color: white;
        }
        .btn-danger:hover {
          background-color: #dc2626;
        }
      `})]})},IU=()=>{const{recipes:t,deleteRecipe:e,produceAssembly:r}=Qv(),{getProduct:n}=Wr(),A=o=>{const c=prompt(`Cuntas unidades de "${o.name}" deseas producir?`,"1");if(c&&!isNaN(c)&&Number(c)>0)try{r(o.id,Number(c)),alert("Produccin realizada con xito.")}catch(u){alert("Error: "+u.message)}},i=o=>{window.confirm("Eliminar esta receta?")&&e(o)};return _.jsxs("div",{className:"page-container",children:[_.jsxs("div",{className:"page-header",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"page-title",children:"Ensambles y Recetas"}),_.jsx("p",{className:"page-subtitle",children:"Define productos compuestos y gestiona produccin"})]}),_.jsxs(xi,{to:"/assemblies/new",className:"btn btn-primary",children:[_.jsx(Yh,{size:20,style:{marginRight:"8px"}}),"Nueva Receta"]})]}),_.jsx("div",{className:"grid-container",children:t.length>0?t.map(o=>{const c=n(o.productId);return _.jsxs("div",{className:"card recipe-card",children:[_.jsxs("div",{className:"recipe-header",children:[_.jsx("h3",{className:"recipe-title",children:o.name}),_.jsxs("div",{className:"recipe-actions",children:[_.jsx("button",{onClick:()=>A(o),className:"icon-btn text-success",title:"Producir",children:_.jsx(M3,{size:20})}),_.jsx("button",{onClick:()=>i(o.id),className:"icon-btn text-danger",title:"Eliminar",children:_.jsx(Jh,{size:20})})]})]}),_.jsxs("div",{className:"recipe-target",children:[_.jsx("span",{className:"label",children:"Producto Final:"}),_.jsx("span",{className:"value",children:c?c.name:"Desconocido"})]}),_.jsxs("div",{className:"recipe-components",children:[_.jsx("span",{className:"label",children:"Componentes:"}),_.jsx("ul",{className:"component-list",children:o.components.map((u,d)=>{const p=n(u.productId);return _.jsxs("li",{children:[u.quantity," x ",p?p.name:"???"]},d)})})]})]},o.id)}):_.jsxs("div",{className:"empty-state-card",children:[_.jsx(K1,{size:48,className:"empty-icon"}),_.jsx("h3",{children:"No hay recetas definidas"}),_.jsx("p",{children:"Crea una receta para definir qu componentes forman un producto final."})]})}),_.jsx("style",{children:`
        .grid-container {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: var(--spacing-lg);
        }

        .recipe-card {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-md);
        }

        .recipe-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          padding-bottom: var(--spacing-sm);
          border-bottom: 1px solid var(--color-border);
        }

        .recipe-title {
          font-size: 1.25rem;
          font-weight: 600;
          color: var(--color-text);
        }

        .recipe-actions {
          display: flex;
          gap: var(--spacing-sm);
        }

        .label {
          font-size: 0.85rem;
          color: var(--color-text-muted);
          font-weight: 500;
          display: block;
          margin-bottom: 4px;
        }

        .value {
          font-weight: 500;
          color: var(--color-primary);
        }

        .component-list {
          list-style: none;
          margin-top: 4px;
          font-size: 0.95rem;
        }

        .component-list li {
          padding: 2px 0;
          border-bottom: 1px dashed var(--color-border);
        }
        
        .component-list li:last-child {
          border-bottom: none;
        }

        .text-success { color: var(--color-success); }
        .text-danger { color: var(--color-danger); }

        .empty-state-card {
          grid-column: 1 / -1;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: var(--spacing-xl);
          background: var(--color-surface);
          border-radius: var(--radius-lg);
          border: 1px dashed var(--color-border);
          color: var(--color-text-muted);
          text-align: center;
        }

        .empty-icon {
          margin-bottom: var(--spacing-md);
          opacity: 0.5;
        }
      `})]})},SU=()=>{const t=Oo(),{products:e}=Wr(),{addRecipe:r}=Qv(),[n,A]=Y.useState(""),[i,o]=Y.useState(""),[c,u]=Y.useState([{productId:"",quantity:1}]),d=()=>{u([...c,{productId:"",quantity:1}])},p=C=>{const E=[...c];E.splice(C,1),u(E)},m=(C,E,v)=>{const F=[...c];F[C][E]=v,u(F)},x=C=>{if(C.preventDefault(),!i){alert("Debes seleccionar un producto final.");return}if(c.some(E=>!E.productId||E.quantity<=0)){alert("Todos los componentes deben tener un producto y cantidad vlida.");return}try{r({name:n,productId:i,components:c.map(E=>({productId:E.productId,quantity:Number(E.quantity)}))}),t("/assemblies")}catch(E){alert("Error al guardar receta: "+E.message)}};return _.jsxs("div",{className:"page-container",children:[_.jsxs("div",{className:"page-header",children:[_.jsxs("button",{onClick:()=>t("/assemblies"),className:"back-btn",children:[_.jsx(kl,{size:20}),_.jsx("span",{children:"Volver"})]}),_.jsx("h1",{className:"page-title",children:"Nueva Receta de Ensamble"})]}),_.jsx("div",{className:"card form-card",children:_.jsxs("form",{onSubmit:x,children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Nombre de la Receta"}),_.jsx("input",{type:"text",value:n,onChange:C=>A(C.target.value),required:!0,placeholder:"Ej. Ensamble de Mesa Bsica"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Producto Final (Resultado)"}),_.jsxs("select",{value:i,onChange:C=>o(C.target.value),required:!0,children:[_.jsx("option",{value:"",children:"Seleccionar producto a producir..."}),e.map(C=>_.jsxs("option",{value:C.id,children:[C.name," (",C.sku,")"]},C.id))]})]}),_.jsxs("div",{className:"components-section",children:[_.jsxs("div",{className:"section-header",children:[_.jsx("h3",{children:"Componentes Requeridos"}),_.jsxs("button",{type:"button",onClick:d,className:"btn btn-sm",children:[_.jsx(Yh,{size:16})," Agregar Componente"]})]}),c.map((C,E)=>_.jsxs("div",{className:"component-row",children:[_.jsx("div",{className:"form-group flex-grow",children:_.jsxs("select",{value:C.productId,onChange:v=>m(E,"productId",v.target.value),required:!0,children:[_.jsx("option",{value:"",children:"Seleccionar componente..."}),e.filter(v=>v.id!==i).map(v=>_.jsxs("option",{value:v.id,children:[v.name," (Stock: ",v.stock,")"]},v.id))]})}),_.jsx("div",{className:"form-group w-24",children:_.jsx("input",{type:"number",value:C.quantity,onChange:v=>m(E,"quantity",v.target.value),min:"0.01",step:"0.01",required:!0,placeholder:"Cant."})}),_.jsx("button",{type:"button",onClick:()=>p(E),className:"icon-btn text-danger",disabled:c.length===1,children:_.jsx(Jh,{size:18})})]},E))]}),_.jsxs("div",{className:"form-actions",children:[_.jsx("button",{type:"button",onClick:()=>t("/assemblies"),className:"btn",children:"Cancelar"}),_.jsxs("button",{type:"submit",className:"btn btn-primary",children:[_.jsx(z1,{size:18,style:{marginRight:"8px"}}),"Guardar Receta"]})]})]})}),_.jsx("style",{children:`
        .back-btn {
          display: flex;
          align-items: center;
          gap: 8px;
          background: none;
          border: none;
          color: var(--color-text-muted);
          margin-bottom: var(--spacing-sm);
          padding: 0;
        }

        .form-card {
          max-width: 700px;
          margin: 0 auto;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-xs);
          margin-bottom: var(--spacing-md);
        }

        .form-group label {
          font-weight: 500;
          font-size: 0.9rem;
          color: var(--color-text);
        }

        .form-group input,
        .form-group select {
          padding: 10px;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          font-size: 1rem;
          background-color: var(--color-background);
          color: var(--color-text);
        }

        .components-section {
          margin-top: var(--spacing-lg);
          padding-top: var(--spacing-md);
          border-top: 1px solid var(--color-border);
        }

        .section-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: var(--spacing-md);
        }

        .section-header h3 {
          font-size: 1.1rem;
          font-weight: 600;
        }

        .component-row {
          display: flex;
          gap: var(--spacing-sm);
          align-items: flex-start;
          margin-bottom: var(--spacing-sm);
        }

        .flex-grow {
          flex: 1;
        }

        .w-24 {
          width: 100px;
        }

        .btn-sm {
          padding: 4px 12px;
          font-size: 0.85rem;
          background-color: var(--color-background);
          border: 1px solid var(--color-border);
        }

        .form-actions {
          margin-top: var(--spacing-xl);
          display: flex;
          justify-content: flex-end;
          gap: var(--spacing-md);
          padding-top: var(--spacing-lg);
          border-top: 1px solid var(--color-border);
        }
      `})]})};var FU=Object.defineProperty,ah=Object.getOwnPropertySymbols,Vv=Object.prototype.hasOwnProperty,zv=Object.prototype.propertyIsEnumerable,Km=(t,e,r)=>e in t?FU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,TU=(t,e)=>{for(var r in e||(e={}))Vv.call(e,r)&&Km(t,r,e[r]);if(ah)for(var r of ah(e))zv.call(e,r)&&Km(t,r,e[r]);return t},UU=(t,e)=>{var r={};for(var n in t)Vv.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&ah)for(var n of ah(t))e.indexOf(n)<0&&zv.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ds;(t=>{const e=class{constructor(u,d,p,m){if(this.version=u,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],u<e.MIN_VERSION||u>e.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let x=[];for(let E=0;E<this.size;E++)x.push(!1);for(let E=0;E<this.size;E++)this.modules.push(x.slice()),this.isFunction.push(x.slice());this.drawFunctionPatterns();const C=this.addEccAndInterleave(p);if(this.drawCodewords(C),m==-1){let E=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const F=this.getPenaltyScore();F<E&&(m=v,E=F),this.applyMask(v)}}i(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(u,d){const p=t.QrSegment.makeSegments(u);return e.encodeSegments(p,d)}static encodeBinary(u,d){const p=t.QrSegment.makeBytes(u);return e.encodeSegments([p],d)}static encodeSegments(u,d,p=1,m=40,x=-1,C=!0){if(!(e.MIN_VERSION<=p&&p<=m&&m<=e.MAX_VERSION)||x<-1||x>7)throw new RangeError("Invalid value");let E,v;for(E=p;;E++){const T=e.getNumDataCodewords(E,d)*8,N=c.getTotalBits(u,E);if(N<=T){v=N;break}if(E>=m)throw new RangeError("Data too long")}for(const T of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])C&&v<=e.getNumDataCodewords(E,T)*8&&(d=T);let F=[];for(const T of u){n(T.mode.modeBits,4,F),n(T.numChars,T.mode.numCharCountBits(E),F);for(const N of T.getData())F.push(N)}i(F.length==v);const S=e.getNumDataCodewords(E,d)*8;i(F.length<=S),n(0,Math.min(4,S-F.length),F),n(0,(8-F.length%8)%8,F),i(F.length%8==0);for(let T=236;F.length<S;T^=253)n(T,8,F);let I=[];for(;I.length*8<F.length;)I.push(0);return F.forEach((T,N)=>I[N>>>3]|=T<<7-(N&7)),new e(E,d,I,x)}getModule(u,d){return 0<=u&&u<this.size&&0<=d&&d<this.size&&this.modules[d][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const u=this.getAlignmentPatternPositions(),d=u.length;for(let p=0;p<d;p++)for(let m=0;m<d;m++)p==0&&m==0||p==0&&m==d-1||p==d-1&&m==0||this.drawAlignmentPattern(u[p],u[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){const d=this.errorCorrectionLevel.formatBits<<3|u;let p=d;for(let x=0;x<10;x++)p=p<<1^(p>>>9)*1335;const m=(d<<10|p)^21522;i(m>>>15==0);for(let x=0;x<=5;x++)this.setFunctionModule(8,x,A(m,x));this.setFunctionModule(8,7,A(m,6)),this.setFunctionModule(8,8,A(m,7)),this.setFunctionModule(7,8,A(m,8));for(let x=9;x<15;x++)this.setFunctionModule(14-x,8,A(m,x));for(let x=0;x<8;x++)this.setFunctionModule(this.size-1-x,8,A(m,x));for(let x=8;x<15;x++)this.setFunctionModule(8,this.size-15+x,A(m,x));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let p=0;p<12;p++)u=u<<1^(u>>>11)*7973;const d=this.version<<12|u;i(d>>>18==0);for(let p=0;p<18;p++){const m=A(d,p),x=this.size-11+p%3,C=Math.floor(p/3);this.setFunctionModule(x,C,m),this.setFunctionModule(C,x,m)}}drawFinderPattern(u,d){for(let p=-4;p<=4;p++)for(let m=-4;m<=4;m++){const x=Math.max(Math.abs(m),Math.abs(p)),C=u+m,E=d+p;0<=C&&C<this.size&&0<=E&&E<this.size&&this.setFunctionModule(C,E,x!=2&&x!=4)}}drawAlignmentPattern(u,d){for(let p=-2;p<=2;p++)for(let m=-2;m<=2;m++)this.setFunctionModule(u+m,d+p,Math.max(Math.abs(m),Math.abs(p))!=1)}setFunctionModule(u,d,p){this.modules[d][u]=p,this.isFunction[d][u]=!0}addEccAndInterleave(u){const d=this.version,p=this.errorCorrectionLevel;if(u.length!=e.getNumDataCodewords(d,p))throw new RangeError("Invalid argument");const m=e.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][d],x=e.ECC_CODEWORDS_PER_BLOCK[p.ordinal][d],C=Math.floor(e.getNumRawDataModules(d)/8),E=m-C%m,v=Math.floor(C/m);let F=[];const S=e.reedSolomonComputeDivisor(x);for(let T=0,N=0;T<m;T++){let L=u.slice(N,N+v-x+(T<E?0:1));N+=L.length;const k=e.reedSolomonComputeRemainder(L,S);T<E&&L.push(0),F.push(L.concat(k))}let I=[];for(let T=0;T<F[0].length;T++)F.forEach((N,L)=>{(T!=v-x||L>=E)&&I.push(N[T])});return i(I.length==C),I}drawCodewords(u){if(u.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let m=0;m<this.size;m++)for(let x=0;x<2;x++){const C=p-x,v=(p+1&2)==0?this.size-1-m:m;!this.isFunction[v][C]&&d<u.length*8&&(this.modules[v][C]=A(u[d>>>3],7-(d&7)),d++)}}i(d==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let p=0;p<this.size;p++){let m;switch(u){case 0:m=(p+d)%2==0;break;case 1:m=d%2==0;break;case 2:m=p%3==0;break;case 3:m=(p+d)%3==0;break;case 4:m=(Math.floor(p/3)+Math.floor(d/2))%2==0;break;case 5:m=p*d%2+p*d%3==0;break;case 6:m=(p*d%2+p*d%3)%2==0;break;case 7:m=((p+d)%2+p*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][p]&&m&&(this.modules[d][p]=!this.modules[d][p])}}getPenaltyScore(){let u=0;for(let x=0;x<this.size;x++){let C=!1,E=0,v=[0,0,0,0,0,0,0];for(let F=0;F<this.size;F++)this.modules[x][F]==C?(E++,E==5?u+=e.PENALTY_N1:E>5&&u++):(this.finderPenaltyAddHistory(E,v),C||(u+=this.finderPenaltyCountPatterns(v)*e.PENALTY_N3),C=this.modules[x][F],E=1);u+=this.finderPenaltyTerminateAndCount(C,E,v)*e.PENALTY_N3}for(let x=0;x<this.size;x++){let C=!1,E=0,v=[0,0,0,0,0,0,0];for(let F=0;F<this.size;F++)this.modules[F][x]==C?(E++,E==5?u+=e.PENALTY_N1:E>5&&u++):(this.finderPenaltyAddHistory(E,v),C||(u+=this.finderPenaltyCountPatterns(v)*e.PENALTY_N3),C=this.modules[F][x],E=1);u+=this.finderPenaltyTerminateAndCount(C,E,v)*e.PENALTY_N3}for(let x=0;x<this.size-1;x++)for(let C=0;C<this.size-1;C++){const E=this.modules[x][C];E==this.modules[x][C+1]&&E==this.modules[x+1][C]&&E==this.modules[x+1][C+1]&&(u+=e.PENALTY_N2)}let d=0;for(const x of this.modules)d=x.reduce((C,E)=>C+(E?1:0),d);const p=this.size*this.size,m=Math.ceil(Math.abs(d*20-p*10)/p)-1;return i(0<=m&&m<=9),u+=m*e.PENALTY_N4,i(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{const u=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2;let p=[6];for(let m=this.size-7;p.length<u;m-=d)p.splice(1,0,m);return p}}static getNumRawDataModules(u){if(u<e.MIN_VERSION||u>e.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*u+128)*u+64;if(u>=2){const p=Math.floor(u/7)+2;d-=(25*p-10)*p-55,u>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(u,d){return Math.floor(e.getNumRawDataModules(u)/8)-e.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u]*e.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let d=[];for(let m=0;m<u-1;m++)d.push(0);d.push(1);let p=1;for(let m=0;m<u;m++){for(let x=0;x<d.length;x++)d[x]=e.reedSolomonMultiply(d[x],p),x+1<d.length&&(d[x]^=d[x+1]);p=e.reedSolomonMultiply(p,2)}return d}static reedSolomonComputeRemainder(u,d){let p=d.map(m=>0);for(const m of u){const x=m^p.shift();p.push(0),d.forEach((C,E)=>p[E]^=e.reedSolomonMultiply(C,x))}return p}static reedSolomonMultiply(u,d){if(u>>>8||d>>>8)throw new RangeError("Byte out of range");let p=0;for(let m=7;m>=0;m--)p=p<<1^(p>>>7)*285,p^=(d>>>m&1)*u;return i(p>>>8==0),p}finderPenaltyCountPatterns(u){const d=u[1];i(d<=this.size*3);const p=d>0&&u[2]==d&&u[3]==d*3&&u[4]==d&&u[5]==d;return(p&&u[0]>=d*4&&u[6]>=d?1:0)+(p&&u[6]>=d*4&&u[0]>=d?1:0)}finderPenaltyTerminateAndCount(u,d,p){return u&&(this.finderPenaltyAddHistory(d,p),d=0),d+=this.size,this.finderPenaltyAddHistory(d,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(u,d){d[0]==0&&(u+=this.size),d.pop(),d.unshift(u)}};let r=e;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=r;function n(u,d,p){if(d<0||d>31||u>>>d)throw new RangeError("Value out of range");for(let m=d-1;m>=0;m--)p.push(u>>>m&1)}function A(u,d){return(u>>>d&1)!=0}function i(u){if(!u)throw new Error("Assertion error")}const o=class{constructor(u,d,p){if(this.mode=u,this.numChars=d,this.bitData=p,d<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(u){let d=[];for(const p of u)n(p,8,d);return new o(o.Mode.BYTE,u.length,d)}static makeNumeric(u){if(!o.isNumeric(u))throw new RangeError("String contains non-numeric characters");let d=[];for(let p=0;p<u.length;){const m=Math.min(u.length-p,3);n(parseInt(u.substr(p,m),10),m*3+1,d),p+=m}return new o(o.Mode.NUMERIC,u.length,d)}static makeAlphanumeric(u){if(!o.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],p;for(p=0;p+2<=u.length;p+=2){let m=o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(p))*45;m+=o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(p+1)),n(m,11,d)}return p<u.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(p)),6,d),new o(o.Mode.ALPHANUMERIC,u.length,d)}static makeSegments(u){return u==""?[]:o.isNumeric(u)?[o.makeNumeric(u)]:o.isAlphanumeric(u)?[o.makeAlphanumeric(u)]:[o.makeBytes(o.toUtf8ByteArray(u))]}static makeEci(u){let d=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<128)n(u,8,d);else if(u<16384)n(2,2,d),n(u,14,d);else if(u<1e6)n(6,3,d),n(u,21,d);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,d)}static isNumeric(u){return o.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return o.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,d){let p=0;for(const m of u){const x=m.mode.numCharCountBits(d);if(m.numChars>=1<<x)return 1/0;p+=4+x+m.bitData.length}return p}static toUtf8ByteArray(u){u=encodeURI(u);let d=[];for(let p=0;p<u.length;p++)u.charAt(p)!="%"?d.push(u.charCodeAt(p)):(d.push(parseInt(u.substr(p+1,2),16)),p+=2);return d}};let c=o;c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=c})(ds||(ds={}));(t=>{(e=>{const r=class{constructor(A,i){this.ordinal=A,this.formatBits=i}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(ds||(ds={}));(t=>{(e=>{const r=class{constructor(A,i){this.modeBits=A,this.numBitsCharCount=i}numCharCountBits(A){return this.numBitsCharCount[Math.floor((A+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(ds||(ds={}));var ya=ds;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var QU={L:ya.QrCode.Ecc.LOW,M:ya.QrCode.Ecc.MEDIUM,Q:ya.QrCode.Ecc.QUARTILE,H:ya.QrCode.Ecc.HIGH},OU=128,NU="L",RU="#FFFFFF",MU="#000000",DU=!1,Gv=4,kU=.1;function LU(t,e=0){const r=[];return t.forEach(function(n,A){let i=null;n.forEach(function(o,c){if(!o&&i!==null){r.push(`M${i+e} ${A+e}h${c-i}v1H${i+e}z`),i=null;return}if(c===n.length-1){if(!o)return;i===null?r.push(`M${c+e},${A+e} h1v1H${c+e}z`):r.push(`M${i+e},${A+e} h${c+1-i}v1H${i+e}z`);return}o&&i===null&&(i=c)})}),r.join("")}function PU(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((A,i)=>i<e.x||i>=e.x+e.w?A:!1))}function HU(t,e,r,n){if(n==null)return null;const A=r?Gv:0,i=t.length+A*2,o=Math.floor(e*kU),c=i/e,u=(n.width||o)*c,d=(n.height||o)*c,p=n.x==null?t.length/2-u/2:n.x*c,m=n.y==null?t.length/2-d/2:n.y*c;let x=null;if(n.excavate){let C=Math.floor(p),E=Math.floor(m),v=Math.ceil(u+p-C),F=Math.ceil(d+m-E);x={x:C,y:E,w:v,h:F}}return{x:p,y:m,h:d,w:u,excavation:x}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function jU(t){const e=t,{value:r,size:n=OU,level:A=NU,bgColor:i=RU,fgColor:o=MU,includeMargin:c=DU,imageSettings:u}=e,d=UU(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let p=ya.QrCode.encodeText(r,QU[A]).getModules();const m=c?Gv:0,x=p.length+m*2,C=HU(p,n,c,u);let E=null;u!=null&&C!=null&&(C.excavation!=null&&(p=PU(p,C.excavation)),E=Yi.createElement("image",{xlinkHref:u.src,height:C.h,width:C.w,x:C.x+m,y:C.y+m,preserveAspectRatio:"none"}));const v=LU(p,m);return Yi.createElement("svg",TU({height:n,width:n,viewBox:`0 0 ${x} ${x}`},d),Yi.createElement("path",{fill:i,d:`M0,0 h${x}v${x}H0z`,shapeRendering:"crispEdges"}),Yi.createElement("path",{fill:o,d:v,shapeRendering:"crispEdges"}),E)}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sg=function(t,e){return sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(r[A]=n[A])},sg(t,e)};function jn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var og=function(){return og=Object.assign||function(e){for(var r,n=1,A=arguments.length;n<A;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},og.apply(this,arguments)};function Cr(t,e,r,n){function A(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(p){try{d(n.next(p))}catch(m){o(m)}}function u(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):A(p.value).then(c,u)}d((n=n.apply(t,[])).next())})}function fr(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,A,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(p){return u([d,p])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,A&&(i=d[0]&2?A.return:d[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,d[1])).done)return i;switch(A=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,A=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(p){d=[6,p],A=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Sc(t,e,r){if(arguments.length===2)for(var n=0,A=e.length,i;n<A;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var SA=function(){function t(e,r,n,A){this.left=e,this.top=r,this.width=n,this.height=A}return t.prototype.add=function(e,r,n,A){return new t(this.left+e,this.top+r,this.width+n,this.height+A)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(A){return A.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Zh=function(t,e){return SA.fromClientRect(t,e.getBoundingClientRect())},KU=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),A=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new SA(0,0,n,A)},qh=function(t){for(var e=[],r=0,n=t.length;r<n;){var A=t.charCodeAt(r++);if(A>=55296&&A<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((A&1023)<<10)+(i&1023)+65536):(e.push(A),r--)}else e.push(A)}return e},Ut=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],A=-1,i="";++A<r;){var o=t[A];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(A+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},Vm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",VU=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Fc=0;Fc<Vm.length;Fc++)VU[Vm.charCodeAt(Fc)]=Fc;var zm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ca=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Tc=0;Tc<zm.length;Tc++)Ca[zm.charCodeAt(Tc)]=Tc;var zU=function(t){var e=t.length*.75,r=t.length,n,A=0,i,o,c,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=Ca[t.charCodeAt(n)],o=Ca[t.charCodeAt(n+1)],c=Ca[t.charCodeAt(n+2)],u=Ca[t.charCodeAt(n+3)],p[A++]=i<<2|o>>4,p[A++]=(o&15)<<4|c>>2,p[A++]=(c&3)<<6|u&63;return d},GU=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},WU=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},is=5,X1=11,ff=2,XU=X1-is,Wv=65536>>is,YU=1<<is,gf=YU-1,JU=1024>>is,ZU=Wv+JU,qU=ZU,$U=32,eQ=qU+$U,tQ=65536>>X1,rQ=1<<XU,nQ=rQ-1,Gm=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},AQ=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},iQ=function(t,e){var r=zU(t),n=Array.isArray(r)?WU(r):new Uint32Array(r),A=Array.isArray(r)?GU(r):new Uint16Array(r),i=24,o=Gm(A,i/2,n[4]/2),c=n[5]===2?Gm(A,(i+n[4])/2):AQ(n,Math.ceil((i+n[4])/4));return new sQ(n[0],n[1],n[2],n[3],o,c)},sQ=function(){function t(e,r,n,A,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=A,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>is],r=(r<<ff)+(e&gf),this.data[r];if(e<=65535)return r=this.index[Wv+(e-55296>>is)],r=(r<<ff)+(e&gf),this.data[r];if(e<this.highStart)return r=eQ-tQ+(e>>X1),r=this.index[r],r+=e>>is&nQ,r=this.index[r],r=(r<<ff)+(e&gf),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Wm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oQ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Uc=0;Uc<Wm.length;Uc++)oQ[Wm.charCodeAt(Uc)]=Uc;var aQ="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Xm=50,lQ=1,Xv=2,Yv=3,cQ=4,uQ=5,Ym=7,Jv=8,Jm=9,$A=10,ag=11,Zm=12,lg=13,hQ=14,va=15,cg=16,Qc=17,oa=18,dQ=19,qm=20,ug=21,aa=22,pf=23,Rs=24,Jr=25,Ea=26,ba=27,Ms=28,fQ=29,Xi=30,gQ=31,Oc=32,Nc=33,hg=34,dg=35,fg=36,Cl=37,gg=38,yu=39,Cu=40,wf=41,Zv=42,pQ=43,wQ=[9001,65288],qv="!",Re="",Rc="",pg=iQ(aQ),cA=[Xi,fg],wg=[lQ,Xv,Yv,uQ],$v=[$A,Jv],$m=[ba,Ea],mQ=wg.concat($v),eB=[gg,yu,Cu,hg,dg],BQ=[va,lg],xQ=function(t,e){e===void 0&&(e="strict");var r=[],n=[],A=[];return t.forEach(function(i,o){var c=pg.get(i);if(c>Xm?(A.push(!0),c-=Xm):A.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(cg);if(c===cQ||c===ag){if(o===0)return n.push(o),r.push(Xi);var u=r[o-1];return mQ.indexOf(u)===-1?(n.push(n[o-1]),r.push(u)):(n.push(o),r.push(Xi))}if(n.push(o),c===gQ)return r.push(e==="strict"?ug:Cl);if(c===Zv||c===fQ)return r.push(Xi);if(c===pQ)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Cl):r.push(Xi);r.push(c)}),[n,r,A]},mf=function(t,e,r,n){var A=n[r];if(Array.isArray(t)?t.indexOf(A)!==-1:t===A)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===e)return!0;if(o!==$A)break}if(A===$A)for(var i=r;i>0;){i--;var c=n[i];if(Array.isArray(t)?t.indexOf(c)!==-1:t===c)for(var u=r;u<=n.length;){u++;var o=n[u];if(o===e)return!0;if(o!==$A)break}if(c!==$A)break}return!1},tB=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===$A)r--;else return n}return 0},yQ=function(t,e,r,n,A){if(r[n]===0)return Re;var i=n-1;if(Array.isArray(A)&&A[i]===!0)return Re;var o=i-1,c=i+1,u=e[i],d=o>=0?e[o]:0,p=e[c];if(u===Xv&&p===Yv)return Re;if(wg.indexOf(u)!==-1)return qv;if(wg.indexOf(p)!==-1||$v.indexOf(p)!==-1)return Re;if(tB(i,e)===Jv)return Rc;if(pg.get(t[i])===ag||(u===Oc||u===Nc)&&pg.get(t[c])===ag||u===Ym||p===Ym||u===Jm||[$A,lg,va].indexOf(u)===-1&&p===Jm||[Qc,oa,dQ,Rs,Ms].indexOf(p)!==-1||tB(i,e)===aa||mf(pf,aa,i,e)||mf([Qc,oa],ug,i,e)||mf(Zm,Zm,i,e))return Re;if(u===$A)return Rc;if(u===pf||p===pf)return Re;if(p===cg||u===cg)return Rc;if([lg,va,ug].indexOf(p)!==-1||u===hQ||d===fg&&BQ.indexOf(u)!==-1||u===Ms&&p===fg||p===qm||cA.indexOf(p)!==-1&&u===Jr||cA.indexOf(u)!==-1&&p===Jr||u===ba&&[Cl,Oc,Nc].indexOf(p)!==-1||[Cl,Oc,Nc].indexOf(u)!==-1&&p===Ea||cA.indexOf(u)!==-1&&$m.indexOf(p)!==-1||$m.indexOf(u)!==-1&&cA.indexOf(p)!==-1||[ba,Ea].indexOf(u)!==-1&&(p===Jr||[aa,va].indexOf(p)!==-1&&e[c+1]===Jr)||[aa,va].indexOf(u)!==-1&&p===Jr||u===Jr&&[Jr,Ms,Rs].indexOf(p)!==-1)return Re;if([Jr,Ms,Rs,Qc,oa].indexOf(p)!==-1)for(var m=i;m>=0;){var x=e[m];if(x===Jr)return Re;if([Ms,Rs].indexOf(x)!==-1)m--;else break}if([ba,Ea].indexOf(p)!==-1)for(var m=[Qc,oa].indexOf(u)!==-1?o:i;m>=0;){var x=e[m];if(x===Jr)return Re;if([Ms,Rs].indexOf(x)!==-1)m--;else break}if(gg===u&&[gg,yu,hg,dg].indexOf(p)!==-1||[yu,hg].indexOf(u)!==-1&&[yu,Cu].indexOf(p)!==-1||[Cu,dg].indexOf(u)!==-1&&p===Cu||eB.indexOf(u)!==-1&&[qm,Ea].indexOf(p)!==-1||eB.indexOf(p)!==-1&&u===ba||cA.indexOf(u)!==-1&&cA.indexOf(p)!==-1||u===Rs&&cA.indexOf(p)!==-1||cA.concat(Jr).indexOf(u)!==-1&&p===aa&&wQ.indexOf(t[c])===-1||cA.concat(Jr).indexOf(p)!==-1&&u===oa)return Re;if(u===wf&&p===wf){for(var C=r[i],E=1;C>0&&(C--,e[C]===wf);)E++;if(E%2!==0)return Re}return u===Oc&&p===Nc?Re:Rc},CQ=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=xQ(t,e.lineBreak),n=r[0],A=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(A=A.map(function(c){return[Jr,Xi,Zv].indexOf(c)!==-1?Cl:c}));var o=e.wordBreak==="keep-all"?i.map(function(c,u){return c&&t[u]>=19968&&t[u]<=40959}):void 0;return[n,A,o]},vQ=function(){function t(e,r,n,A){this.codePoints=e,this.required=r===qv,this.start=n,this.end=A}return t.prototype.slice=function(){return Ut.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),EQ=function(t,e){var r=qh(t),n=CQ(r,e),A=n[0],i=n[1],o=n[2],c=r.length,u=0,d=0;return{next:function(){if(d>=c)return{done:!0,value:null};for(var p=Re;d<c&&(p=yQ(r,i,A,++d,o))===Re;);if(p!==Re||d===c){var m=new vQ(r,p,u,d);return u=d,{value:m,done:!1}}return{done:!0,value:null}}}},bQ=1,_Q=2,Ll=4,rB=8,lh=10,nB=47,Va=92,IQ=9,SQ=32,Mc=34,la=61,FQ=35,TQ=36,UQ=37,Dc=39,kc=40,ca=41,QQ=95,Lr=45,OQ=33,NQ=60,RQ=62,MQ=64,DQ=91,kQ=93,LQ=61,PQ=123,Lc=63,HQ=125,AB=124,jQ=126,KQ=128,iB=65533,Bf=42,es=43,VQ=44,zQ=58,GQ=59,vl=46,WQ=0,XQ=8,YQ=11,JQ=14,ZQ=31,qQ=127,Zn=-1,eE=48,tE=97,rE=101,$Q=102,eO=117,tO=122,nE=65,AE=69,iE=70,rO=85,nO=90,pr=function(t){return t>=eE&&t<=57},AO=function(t){return t>=55296&&t<=57343},Ds=function(t){return pr(t)||t>=nE&&t<=iE||t>=tE&&t<=$Q},iO=function(t){return t>=tE&&t<=tO},sO=function(t){return t>=nE&&t<=nO},oO=function(t){return iO(t)||sO(t)},aO=function(t){return t>=KQ},Pc=function(t){return t===lh||t===IQ||t===SQ},ch=function(t){return oO(t)||aO(t)||t===QQ},sB=function(t){return ch(t)||pr(t)||t===Lr},lO=function(t){return t>=WQ&&t<=XQ||t===YQ||t>=JQ&&t<=ZQ||t===qQ},GA=function(t,e){return t!==Va?!1:e!==lh},Hc=function(t,e,r){return t===Lr?ch(e)||GA(e,r):ch(t)?!0:!!(t===Va&&GA(t,e))},xf=function(t,e,r){return t===es||t===Lr?pr(e)?!0:e===vl&&pr(r):pr(t===vl?e:t)},cO=function(t){var e=0,r=1;(t[e]===es||t[e]===Lr)&&(t[e]===Lr&&(r=-1),e++);for(var n=[];pr(t[e]);)n.push(t[e++]);var A=n.length?parseInt(Ut.apply(void 0,n),10):0;t[e]===vl&&e++;for(var i=[];pr(t[e]);)i.push(t[e++]);var o=i.length,c=o?parseInt(Ut.apply(void 0,i),10):0;(t[e]===AE||t[e]===rE)&&e++;var u=1;(t[e]===es||t[e]===Lr)&&(t[e]===Lr&&(u=-1),e++);for(var d=[];pr(t[e]);)d.push(t[e++]);var p=d.length?parseInt(Ut.apply(void 0,d),10):0;return r*(A+c*Math.pow(10,-o))*Math.pow(10,u*p)},uO={type:2},hO={type:3},dO={type:4},fO={type:13},gO={type:8},pO={type:21},wO={type:9},mO={type:10},BO={type:11},xO={type:12},yO={type:14},jc={type:23},CO={type:1},vO={type:25},EO={type:24},bO={type:26},_O={type:27},IO={type:28},SO={type:29},FO={type:31},mg={type:32},sE=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(qh(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==mg;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Mc:return this.consumeStringToken(Mc);case FQ:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),A=this.peekCodePoint(2);if(sB(r)||GA(n,A)){var i=Hc(r,n,A)?_Q:bQ,o=this.consumeName();return{type:5,value:o,flags:i}}break;case TQ:if(this.peekCodePoint(0)===la)return this.consumeCodePoint(),fO;break;case Dc:return this.consumeStringToken(Dc);case kc:return uO;case ca:return hO;case Bf:if(this.peekCodePoint(0)===la)return this.consumeCodePoint(),yO;break;case es:if(xf(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case VQ:return dO;case Lr:var c=e,u=this.peekCodePoint(0),d=this.peekCodePoint(1);if(xf(c,u,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Hc(c,u,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(u===Lr&&d===RQ)return this.consumeCodePoint(),this.consumeCodePoint(),EO;break;case vl:if(xf(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case nB:if(this.peekCodePoint(0)===Bf)for(this.consumeCodePoint();;){var p=this.consumeCodePoint();if(p===Bf&&(p=this.consumeCodePoint(),p===nB))return this.consumeToken();if(p===Zn)return this.consumeToken()}break;case zQ:return bO;case GQ:return _O;case NQ:if(this.peekCodePoint(0)===OQ&&this.peekCodePoint(1)===Lr&&this.peekCodePoint(2)===Lr)return this.consumeCodePoint(),this.consumeCodePoint(),vO;break;case MQ:var m=this.peekCodePoint(0),x=this.peekCodePoint(1),C=this.peekCodePoint(2);if(Hc(m,x,C)){var o=this.consumeName();return{type:7,value:o}}break;case DQ:return IO;case Va:if(GA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case kQ:return SO;case LQ:if(this.peekCodePoint(0)===la)return this.consumeCodePoint(),gO;break;case PQ:return BO;case HQ:return xO;case eO:case rO:var E=this.peekCodePoint(0),v=this.peekCodePoint(1);return E===es&&(Ds(v)||v===Lc)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case AB:if(this.peekCodePoint(0)===la)return this.consumeCodePoint(),wO;if(this.peekCodePoint(0)===AB)return this.consumeCodePoint(),pO;break;case jQ:if(this.peekCodePoint(0)===la)return this.consumeCodePoint(),mO;break;case Zn:return mg}return Pc(e)?(this.consumeWhiteSpace(),FO):pr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):ch(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Ut(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Ds(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Lc&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var A=parseInt(Ut.apply(void 0,e.map(function(u){return u===Lc?eE:u})),16),i=parseInt(Ut.apply(void 0,e.map(function(u){return u===Lc?iE:u})),16);return{type:30,start:A,end:i}}var o=parseInt(Ut.apply(void 0,e),16);if(this.peekCodePoint(0)===Lr&&Ds(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var c=[];Ds(r)&&c.length<6;)c.push(r),r=this.consumeCodePoint();var i=parseInt(Ut.apply(void 0,c),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===kc?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===kc?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Zn)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Dc||r===Mc){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Zn||this.peekCodePoint(0)===ca)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),jc)}for(;;){var A=this.consumeCodePoint();if(A===Zn||A===ca)return{type:22,value:Ut.apply(void 0,e)};if(Pc(A))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Zn||this.peekCodePoint(0)===ca?(this.consumeCodePoint(),{type:22,value:Ut.apply(void 0,e)}):(this.consumeBadUrlRemnants(),jc);if(A===Mc||A===Dc||A===kc||lO(A))return this.consumeBadUrlRemnants(),jc;if(A===Va)if(GA(A,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),jc;else e.push(A)}},t.prototype.consumeWhiteSpace=function(){for(;Pc(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ca||e===Zn)return;GA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var A=Math.min(r,e);n+=Ut.apply(void 0,this._value.splice(0,A)),e-=A}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var A=this._value[n];if(A===Zn||A===void 0||A===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(A===lh)return this._value.splice(0,n),CO;if(A===Va){var i=this._value[n+1];i!==Zn&&i!==void 0&&(i===lh?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):GA(A,i)&&(r+=this.consumeStringSlice(n),r+=Ut(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Ll,n=this.peekCodePoint(0);for((n===es||n===Lr)&&e.push(this.consumeCodePoint());pr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var A=this.peekCodePoint(1);if(n===vl&&pr(A))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=rB;pr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),A=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===AE||n===rE)&&((A===es||A===Lr)&&pr(i)||pr(A)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=rB;pr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[cO(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],A=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Hc(A,i,o)){var c=this.consumeName();return{type:15,number:r,flags:n,unit:c}}return A===UQ?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ds(e)){for(var r=Ut(e);Ds(this.peekCodePoint(0))&&r.length<6;)r+=Ut(this.consumeCodePoint());Pc(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||AO(n)||n>1114111?iB:n}return e===Zn?iB:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(sB(r))e+=Ut(r);else if(GA(r,this.peekCodePoint(0)))e+=Ut(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),oE=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new sE;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||UO(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?mg:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Pl=function(t){return t.type===15},Do=function(t){return t.type===17},qe=function(t){return t.type===20},TO=function(t){return t.type===0},Bg=function(t,e){return qe(t)&&t.value===e},aE=function(t){return t.type!==31},_o=function(t){return t.type!==31&&t.type!==4},oA=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},UO=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Ci=function(t){return t.type===17||t.type===15},Mt=function(t){return t.type===16||Ci(t)},lE=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},sr={type:17,number:0,flags:Ll},Y1={type:16,number:50,flags:Ll},ei={type:16,number:100,flags:Ll},_a=function(t,e,r){var n=t[0],A=t[1];return[st(n,e),st(typeof A<"u"?A:n,r)]},st=function(t,e){if(t.type===16)return t.number/100*e;if(Pl(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},cE="deg",uE="grad",hE="rad",dE="turn",$h={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case cE:return Math.PI*e.number/180;case uE:return Math.PI/200*e.number;case hE:return e.number;case dE:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},fE=function(t){return t.type===15&&(t.unit===cE||t.unit===uE||t.unit===hE||t.unit===dE)},gE=function(t){var e=t.filter(qe).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[sr,sr];case"to top":case"bottom":return Bn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[sr,ei];case"to right":case"left":return Bn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ei,ei];case"to bottom":case"top":return Bn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ei,sr];case"to left":case"right":return Bn(270)}return 0},Bn=function(t){return Math.PI*t/180},fi={name:"color",parse:function(t,e){if(e.type===18){var r=QO[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),A=e.value.substring(1,2),i=e.value.substring(2,3);return ti(parseInt(n+n,16),parseInt(A+A,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),A=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return ti(parseInt(n+n,16),parseInt(A+A,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),A=e.value.substring(2,4),i=e.value.substring(4,6);return ti(parseInt(n,16),parseInt(A,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),A=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return ti(parseInt(n,16),parseInt(A,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===20){var c=vA[e.value.toUpperCase()];if(typeof c<"u")return c}return vA.TRANSPARENT}},gi=function(t){return(255&t)===0},Jt=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,A=255&t>>24;return e<255?"rgba("+A+","+n+","+r+","+e/255+")":"rgb("+A+","+n+","+r+")"},ti=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},oB=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},aB=function(t,e){var r=e.filter(_o);if(r.length===3){var n=r.map(oB),A=n[0],i=n[1],o=n[2];return ti(A,i,o,1)}if(r.length===4){var c=r.map(oB),A=c[0],i=c[1],o=c[2],u=c[3];return ti(A,i,o,u)}return 0};function yf(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var lB=function(t,e){var r=e.filter(_o),n=r[0],A=r[1],i=r[2],o=r[3],c=(n.type===17?Bn(n.number):$h.parse(t,n))/(Math.PI*2),u=Mt(A)?A.number/100:0,d=Mt(i)?i.number/100:0,p=typeof o<"u"&&Mt(o)?st(o,1):1;if(u===0)return ti(d*255,d*255,d*255,1);var m=d<=.5?d*(u+1):d+u-d*u,x=d*2-m,C=yf(x,m,c+1/3),E=yf(x,m,c),v=yf(x,m,c-1/3);return ti(C*255,E*255,v*255,p)},QO={hsl:lB,hsla:lB,rgb:aB,rgba:aB},za=function(t,e){return fi.parse(t,oE.create(e).parseComponentValue())},vA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},OO={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(qe(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},NO={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ed=function(t,e){var r=fi.parse(t,e[0]),n=e[1];return n&&Mt(n)?{color:r,stop:n}:{color:r,stop:null}},cB=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=sr),n.stop===null&&(n.stop=ei);for(var A=[],i=0,o=0;o<t.length;o++){var c=t[o].stop;if(c!==null){var u=st(c,e);u>i?A.push(u):A.push(i),i=u}else A.push(null)}for(var d=null,o=0;o<A.length;o++){var p=A[o];if(p===null)d===null&&(d=o);else if(d!==null){for(var m=o-d,x=A[d-1],C=(p-x)/(m+1),E=1;E<=m;E++)A[d+E-1]=C*E;d=null}}return t.map(function(v,F){var S=v.color;return{color:S,stop:Math.max(Math.min(1,A[F]/e),0)}})},RO=function(t,e,r){var n=e/2,A=r/2,i=st(t[0],e)-n,o=A-st(t[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},MO=function(t,e,r){var n=typeof t=="number"?t:RO(t,e,r),A=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,o=r/2,c=A/2,u=Math.sin(n-Math.PI/2)*c,d=Math.cos(n-Math.PI/2)*c;return[A,i-d,i+d,o-u,o+u]},Qn=function(t,e){return Math.sqrt(t*t+e*e)},uB=function(t,e,r,n,A){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(o,c){var u=c[0],d=c[1],p=Qn(r-u,n-d);return(A?p<o.optimumDistance:p>o.optimumDistance)?{optimumCorner:c,optimumDistance:p}:o},{optimumDistance:A?1/0:-1/0,optimumCorner:null}).optimumCorner},DO=function(t,e,r,n,A){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-A)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-A)));break;case 2:if(t.shape===0)i=o=Math.min(Qn(e,r),Qn(e,r-A),Qn(e-n,r),Qn(e-n,r-A));else if(t.shape===1){var c=Math.min(Math.abs(r),Math.abs(r-A))/Math.min(Math.abs(e),Math.abs(e-n)),u=uB(n,A,e,r,!0),d=u[0],p=u[1];i=Qn(d-e,(p-r)/c),o=c*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-A)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-A)));break;case 3:if(t.shape===0)i=o=Math.max(Qn(e,r),Qn(e,r-A),Qn(e-n,r),Qn(e-n,r-A));else if(t.shape===1){var c=Math.max(Math.abs(r),Math.abs(r-A))/Math.max(Math.abs(e),Math.abs(e-n)),m=uB(n,A,e,r,!1),d=m[0],p=m[1];i=Qn(d-e,(p-r)/c),o=c*i}break}return Array.isArray(t.size)&&(i=st(t.size[0],n),o=t.size.length===2?st(t.size[1],A):i),[i,o]},kO=function(t,e){var r=Bn(180),n=[];return oA(e).forEach(function(A,i){if(i===0){var o=A[0];if(o.type===20&&o.value==="to"){r=gE(A);return}else if(fE(o)){r=$h.parse(t,o);return}}var c=ed(t,A);n.push(c)}),{angle:r,stops:n,type:1}},Kc=function(t,e){var r=Bn(180),n=[];return oA(e).forEach(function(A,i){if(i===0){var o=A[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=gE(A);return}else if(fE(o)){r=($h.parse(t,o)+Bn(270))%Bn(360);return}}var c=ed(t,A);n.push(c)}),{angle:r,stops:n,type:1}},LO=function(t,e){var r=Bn(180),n=[],A=1,i=0,o=3,c=[];return oA(e).forEach(function(u,d){var p=u[0];if(d===0){if(qe(p)&&p.value==="linear"){A=1;return}else if(qe(p)&&p.value==="radial"){A=2;return}}if(p.type===18){if(p.name==="from"){var m=fi.parse(t,p.values[0]);n.push({stop:sr,color:m})}else if(p.name==="to"){var m=fi.parse(t,p.values[0]);n.push({stop:ei,color:m})}else if(p.name==="color-stop"){var x=p.values.filter(_o);if(x.length===2){var m=fi.parse(t,x[1]),C=x[0];Do(C)&&n.push({stop:{type:16,number:C.number*100,flags:C.flags},color:m})}}}}),A===1?{angle:(r+Bn(180))%Bn(360),stops:n,type:A}:{size:o,shape:i,stops:n,position:c,type:A}},pE="closest-side",wE="farthest-side",mE="closest-corner",BE="farthest-corner",xE="circle",yE="ellipse",CE="cover",vE="contain",PO=function(t,e){var r=0,n=3,A=[],i=[];return oA(e).forEach(function(o,c){var u=!0;if(c===0){var d=!1;u=o.reduce(function(m,x){if(d)if(qe(x))switch(x.value){case"center":return i.push(Y1),m;case"top":case"left":return i.push(sr),m;case"right":case"bottom":return i.push(ei),m}else(Mt(x)||Ci(x))&&i.push(x);else if(qe(x))switch(x.value){case xE:return r=0,!1;case yE:return r=1,!1;case"at":return d=!0,!1;case pE:return n=0,!1;case CE:case wE:return n=1,!1;case vE:case mE:return n=2,!1;case BE:return n=3,!1}else if(Ci(x)||Mt(x))return Array.isArray(n)||(n=[]),n.push(x),!1;return m},u)}if(u){var p=ed(t,o);A.push(p)}}),{size:n,shape:r,stops:A,position:i,type:2}},Vc=function(t,e){var r=0,n=3,A=[],i=[];return oA(e).forEach(function(o,c){var u=!0;if(c===0?u=o.reduce(function(p,m){if(qe(m))switch(m.value){case"center":return i.push(Y1),!1;case"top":case"left":return i.push(sr),!1;case"right":case"bottom":return i.push(ei),!1}else if(Mt(m)||Ci(m))return i.push(m),!1;return p},u):c===1&&(u=o.reduce(function(p,m){if(qe(m))switch(m.value){case xE:return r=0,!1;case yE:return r=1,!1;case vE:case pE:return n=0,!1;case wE:return n=1,!1;case mE:return n=2,!1;case CE:case BE:return n=3,!1}else if(Ci(m)||Mt(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return p},u)),u){var d=ed(t,o);A.push(d)}}),{size:n,shape:r,stops:A,position:i,type:2}},HO=function(t){return t.type===1},jO=function(t){return t.type===2},J1={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=EE[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function KO(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!EE[t.name])}var EE={"linear-gradient":kO,"-moz-linear-gradient":Kc,"-ms-linear-gradient":Kc,"-o-linear-gradient":Kc,"-webkit-linear-gradient":Kc,"radial-gradient":PO,"-moz-radial-gradient":Vc,"-ms-radial-gradient":Vc,"-o-radial-gradient":Vc,"-webkit-radial-gradient":Vc,"-webkit-gradient":LO},VO={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return _o(n)&&KO(n)}).map(function(n){return J1.parse(t,n)})}},zO={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(qe(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},GO={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return oA(e).map(function(r){return r.filter(Mt)}).map(lE)}},WO={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return oA(e).map(function(r){return r.filter(qe).map(function(n){return n.value}).join(" ")}).map(XO)}},XO=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},go;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(go||(go={}));var YO={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return oA(e).map(function(r){return r.filter(JO)})}},JO=function(t){return qe(t)||Mt(t)},td=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ZO=td("top"),qO=td("right"),$O=td("bottom"),eN=td("left"),rd=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return lE(r.filter(Mt))}}},tN=rd("top-left"),rN=rd("top-right"),nN=rd("bottom-right"),AN=rd("bottom-left"),nd=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},iN=nd("top"),sN=nd("right"),oN=nd("bottom"),aN=nd("left"),Ad=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Pl(r)?r.number:0}}},lN=Ad("top"),cN=Ad("right"),uN=Ad("bottom"),hN=Ad("left"),dN={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fN={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},gN={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(qe).reduce(function(r,n){return r|pN(n.value)},0)}},pN=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},wN={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mN={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},uh;(function(t){t.NORMAL="normal",t.STRICT="strict"})(uh||(uh={}));var BN={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return uh.STRICT;case"normal":default:return uh.NORMAL}}},xN={name:"line-height",initialValue:"normal",prefix:!1,type:4},hB=function(t,e){return qe(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Mt(t)?st(t,e):e},yN={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:J1.parse(t,e)}},CN={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},xg={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},id=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},vN=id("top"),EN=id("right"),bN=id("bottom"),_N=id("left"),IN={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(qe).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},SN={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},sd=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},FN=sd("top"),TN=sd("right"),UN=sd("bottom"),QN=sd("left"),ON={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},NN={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},RN={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Bg(e[0],"none")?[]:oA(e).map(function(r){for(var n={color:vA.TRANSPARENT,offsetX:sr,offsetY:sr,blur:sr},A=0,i=0;i<r.length;i++){var o=r[i];Ci(o)?(A===0?n.offsetX=o:A===1?n.offsetY=o:n.blur=o,A++):n.color=fi.parse(t,o)}return n})}},MN={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},DN={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=PN[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},kN=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},LN=function(t){var e=t.filter(function(u){return u.type===17}).map(function(u){return u.number}),r=e[0],n=e[1];e[2],e[3];var A=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],c=e[13];return e[14],e[15],e.length===16?[r,n,A,i,o,c]:null},PN={matrix:kN,matrix3d:LN},dB={type:16,number:50,flags:Ll},HN=[dB,dB],jN={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Mt);return r.length!==2?HN:[r[0],r[1]]}},KN={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Ga;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Ga||(Ga={}));var VN={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Ga.BREAK_ALL;case"keep-all":return Ga.KEEP_ALL;case"normal":default:return Ga.NORMAL}}},zN={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Do(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},bE={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},GN={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Do(e)?e.number:1}},WN={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},XN={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(qe).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},YN={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(A){switch(A.type){case 20:case 0:r.push(A.value);break;case 17:r.push(A.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(A){return A.indexOf(" ")===-1?A:"'"+A+"'"})}},JN={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ZN={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Do(e))return e.number;if(qe(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},qN={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(qe).map(function(r){return r.value})}},$N={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Vt=function(t,e){return(t&e)!==0},e8={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},t8={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],A=e.filter(aE),i=0;i<A.length;i++){var o=A[i],c=A[i+1];if(o.type===20){var u=c&&Do(c)?c.number:1;n.push({counter:o.value,increment:u})}}return n}},r8={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(aE),A=0;A<n.length;A++){var i=n[A],o=n[A+1];if(qe(i)&&i.value!=="none"){var c=o&&Do(o)?o.number:0;r.push({counter:i.value,reset:c})}}return r}},n8={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Pl).map(function(r){return bE.parse(t,r)})}},A8={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],A=e.filter(TO);if(A.length%2!==0)return null;for(var i=0;i<A.length;i+=2){var o=A[i].value,c=A[i+1].value;n.push({open:o,close:c})}return n}},fB=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},i8={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Bg(e[0],"none")?[]:oA(e).map(function(r){for(var n={color:255,offsetX:sr,offsetY:sr,blur:sr,spread:sr,inset:!1},A=0,i=0;i<r.length;i++){var o=r[i];Bg(o,"inset")?n.inset=!0:Ci(o)?(A===0?n.offsetX=o:A===1?n.offsetY=o:A===2?n.blur=o:n.spread=o,A++):n.color=fi.parse(t,o)}return n})}},s8={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(qe).forEach(function(A){switch(A.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(A){n.indexOf(A)===-1&&n.push(A)}),n}},o8={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},a8={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Pl(e)?e.number:0}},l8=function(){function t(e,r){var n,A;this.animationDuration=ue(e,n8,r.animationDuration),this.backgroundClip=ue(e,OO,r.backgroundClip),this.backgroundColor=ue(e,NO,r.backgroundColor),this.backgroundImage=ue(e,VO,r.backgroundImage),this.backgroundOrigin=ue(e,zO,r.backgroundOrigin),this.backgroundPosition=ue(e,GO,r.backgroundPosition),this.backgroundRepeat=ue(e,WO,r.backgroundRepeat),this.backgroundSize=ue(e,YO,r.backgroundSize),this.borderTopColor=ue(e,ZO,r.borderTopColor),this.borderRightColor=ue(e,qO,r.borderRightColor),this.borderBottomColor=ue(e,$O,r.borderBottomColor),this.borderLeftColor=ue(e,eN,r.borderLeftColor),this.borderTopLeftRadius=ue(e,tN,r.borderTopLeftRadius),this.borderTopRightRadius=ue(e,rN,r.borderTopRightRadius),this.borderBottomRightRadius=ue(e,nN,r.borderBottomRightRadius),this.borderBottomLeftRadius=ue(e,AN,r.borderBottomLeftRadius),this.borderTopStyle=ue(e,iN,r.borderTopStyle),this.borderRightStyle=ue(e,sN,r.borderRightStyle),this.borderBottomStyle=ue(e,oN,r.borderBottomStyle),this.borderLeftStyle=ue(e,aN,r.borderLeftStyle),this.borderTopWidth=ue(e,lN,r.borderTopWidth),this.borderRightWidth=ue(e,cN,r.borderRightWidth),this.borderBottomWidth=ue(e,uN,r.borderBottomWidth),this.borderLeftWidth=ue(e,hN,r.borderLeftWidth),this.boxShadow=ue(e,i8,r.boxShadow),this.color=ue(e,dN,r.color),this.direction=ue(e,fN,r.direction),this.display=ue(e,gN,r.display),this.float=ue(e,wN,r.cssFloat),this.fontFamily=ue(e,YN,r.fontFamily),this.fontSize=ue(e,JN,r.fontSize),this.fontStyle=ue(e,$N,r.fontStyle),this.fontVariant=ue(e,qN,r.fontVariant),this.fontWeight=ue(e,ZN,r.fontWeight),this.letterSpacing=ue(e,mN,r.letterSpacing),this.lineBreak=ue(e,BN,r.lineBreak),this.lineHeight=ue(e,xN,r.lineHeight),this.listStyleImage=ue(e,yN,r.listStyleImage),this.listStylePosition=ue(e,CN,r.listStylePosition),this.listStyleType=ue(e,xg,r.listStyleType),this.marginTop=ue(e,vN,r.marginTop),this.marginRight=ue(e,EN,r.marginRight),this.marginBottom=ue(e,bN,r.marginBottom),this.marginLeft=ue(e,_N,r.marginLeft),this.opacity=ue(e,GN,r.opacity);var i=ue(e,IN,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=ue(e,SN,r.overflowWrap),this.paddingTop=ue(e,FN,r.paddingTop),this.paddingRight=ue(e,TN,r.paddingRight),this.paddingBottom=ue(e,UN,r.paddingBottom),this.paddingLeft=ue(e,QN,r.paddingLeft),this.paintOrder=ue(e,s8,r.paintOrder),this.position=ue(e,NN,r.position),this.textAlign=ue(e,ON,r.textAlign),this.textDecorationColor=ue(e,WN,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ue(e,XN,(A=r.textDecorationLine)!==null&&A!==void 0?A:r.textDecoration),this.textShadow=ue(e,RN,r.textShadow),this.textTransform=ue(e,MN,r.textTransform),this.transform=ue(e,DN,r.transform),this.transformOrigin=ue(e,jN,r.transformOrigin),this.visibility=ue(e,KN,r.visibility),this.webkitTextStrokeColor=ue(e,o8,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ue(e,a8,r.webkitTextStrokeWidth),this.wordBreak=ue(e,VN,r.wordBreak),this.zIndex=ue(e,zN,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return gi(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Vt(this.display,4)||Vt(this.display,33554432)||Vt(this.display,268435456)||Vt(this.display,536870912)||Vt(this.display,67108864)||Vt(this.display,134217728)},t}(),c8=function(){function t(e,r){this.content=ue(e,e8,r.content),this.quotes=ue(e,A8,r.quotes)}return t}(),gB=function(){function t(e,r){this.counterIncrement=ue(e,t8,r.counterIncrement),this.counterReset=ue(e,r8,r.counterReset)}return t}(),ue=function(t,e,r){var n=new sE,A=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(A);var i=new oE(n.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,qe(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return $h.parse(t,i.parseComponentValue());case"color":return fi.parse(t,i.parseComponentValue());case"image":return J1.parse(t,i.parseComponentValue());case"length":var c=i.parseComponentValue();return Ci(c)?c:sr;case"length-percentage":var u=i.parseComponentValue();return Mt(u)?u:sr;case"time":return bE.parse(t,i.parseComponentValue())}break}},u8="data-html2canvas-debug",h8=function(t){var e=t.getAttribute(u8);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},yg=function(t,e){var r=h8(t);return r===1||e===r},aA=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,yg(r,3))debugger;this.styles=new l8(e,window.getComputedStyle(r,null)),Eg(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Zh(this.context,r),yg(r,4)&&(this.flags|=16)}return t}(),d8="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",pB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ia=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zc=0;zc<pB.length;zc++)Ia[pB.charCodeAt(zc)]=zc;var f8=function(t){var e=t.length*.75,r=t.length,n,A=0,i,o,c,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=Ia[t.charCodeAt(n)],o=Ia[t.charCodeAt(n+1)],c=Ia[t.charCodeAt(n+2)],u=Ia[t.charCodeAt(n+3)],p[A++]=i<<2|o>>4,p[A++]=(o&15)<<4|c>>2,p[A++]=(c&3)<<6|u&63;return d},g8=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},p8=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},ss=5,Z1=11,Cf=2,w8=Z1-ss,_E=65536>>ss,m8=1<<ss,vf=m8-1,B8=1024>>ss,x8=_E+B8,y8=x8,C8=32,v8=y8+C8,E8=65536>>Z1,b8=1<<w8,_8=b8-1,wB=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},I8=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},S8=function(t,e){var r=f8(t),n=Array.isArray(r)?p8(r):new Uint32Array(r),A=Array.isArray(r)?g8(r):new Uint16Array(r),i=24,o=wB(A,i/2,n[4]/2),c=n[5]===2?wB(A,(i+n[4])/2):I8(n,Math.ceil((i+n[4])/4));return new F8(n[0],n[1],n[2],n[3],o,c)},F8=function(){function t(e,r,n,A,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=A,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>ss],r=(r<<Cf)+(e&vf),this.data[r];if(e<=65535)return r=this.index[_E+(e-55296>>ss)],r=(r<<Cf)+(e&vf),this.data[r];if(e<this.highStart)return r=v8-E8+(e>>Z1),r=this.index[r],r+=e>>ss&_8,r=this.index[r],r=(r<<Cf)+(e&vf),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),mB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T8=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gc=0;Gc<mB.length;Gc++)T8[mB.charCodeAt(Gc)]=Gc;var U8=1,Ef=2,bf=3,BB=4,xB=5,Q8=7,yB=8,_f=9,If=10,CB=11,vB=12,EB=13,bB=14,Sf=15,O8=function(t){for(var e=[],r=0,n=t.length;r<n;){var A=t.charCodeAt(r++);if(A>=55296&&A<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((A&1023)<<10)+(i&1023)+65536):(e.push(A),r--)}else e.push(A)}return e},N8=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],A=-1,i="";++A<r;){var o=t[A];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(A+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},R8=S8(d8),fn="",Ff="",M8=function(t){return R8.get(t)},D8=function(t,e,r){var n=r-2,A=e[n],i=e[r-1],o=e[r];if(i===Ef&&o===bf)return fn;if(i===Ef||i===bf||i===BB||o===Ef||o===bf||o===BB)return Ff;if(i===yB&&[yB,_f,CB,vB].indexOf(o)!==-1||(i===CB||i===_f)&&(o===_f||o===If)||(i===vB||i===If)&&o===If||o===EB||o===xB||o===Q8||i===U8)return fn;if(i===EB&&o===bB){for(;A===xB;)A=e[--n];if(A===bB)return fn}if(i===Sf&&o===Sf){for(var c=0;A===Sf;)c++,A=e[--n];if(c%2===0)return fn}return Ff},k8=function(t){var e=O8(t),r=e.length,n=0,A=0,i=e.map(M8);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=fn;n<r&&(o=D8(e,i,++n))===fn;);if(o!==fn||n===r){var c=N8.apply(null,e.slice(A,n));return A=n,{value:c,done:!1}}return{done:!0,value:null}}}},L8=function(t){for(var e=k8(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},P8=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var A=r.getBoundingClientRect(),i=Math.round(A.height);if(t.body.removeChild(n),i===e)return!0}}return!1},H8=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,A=qh(n.data).map(function(u){return Ut(u)}),i=0,o={},c=A.every(function(u,d){r.setStart(n,i),r.setEnd(n,i+u.length);var p=r.getBoundingClientRect();i+=u.length;var m=p.x>o.x||p.y>o.y;return o=p,d===0?!0:m});return t.body.removeChild(e),c},j8=function(){return typeof new Image().crossOrigin<"u"},K8=function(){return typeof new XMLHttpRequest().responseType=="string"},V8=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},_B=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},z8=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var A=new Image,i=e.toDataURL();A.src=i;var o=Cg(r,r,0,0,A);return n.fillStyle="red",n.fillRect(0,0,r,r),IB(o).then(function(c){n.drawImage(c,0,0);var u=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var d=t.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=r+"px",_B(u)?IB(Cg(r,r,0,0,d)):Promise.reject(!1)}).then(function(c){return n.drawImage(c,0,0),_B(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Cg=function(t,e,r,n,A){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),c=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",r.toString()),c.setAttributeNS(null,"y",n.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(c),c.appendChild(A),o},IB=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ir={get SUPPORT_RANGE_BOUNDS(){var t=P8(document);return Object.defineProperty(ir,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=ir.SUPPORT_RANGE_BOUNDS&&H8(document);return Object.defineProperty(ir,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=V8(document);return Object.defineProperty(ir,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?z8(document):Promise.resolve(!1);return Object.defineProperty(ir,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=j8();return Object.defineProperty(ir,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=K8();return Object.defineProperty(ir,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ir,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ir,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Wa=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),G8=function(t,e,r,n){var A=Y8(e,r),i=[],o=0;return A.forEach(function(c){if(r.textDecorationLine.length||c.trim().length>0)if(ir.SUPPORT_RANGE_BOUNDS){var u=SB(n,o,c.length).getClientRects();if(u.length>1){var d=q1(c),p=0;d.forEach(function(x){i.push(new Wa(x,SA.fromDOMRectList(t,SB(n,p+o,x.length).getClientRects()))),p+=x.length})}else i.push(new Wa(c,SA.fromDOMRectList(t,u)))}else{var m=n.splitText(c.length);i.push(new Wa(c,W8(t,n))),n=m}else ir.SUPPORT_RANGE_BOUNDS||(n=n.splitText(c.length));o+=c.length}),i},W8=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var A=e.parentNode;if(A){A.replaceChild(n,e);var i=Zh(t,n);return n.firstChild&&A.replaceChild(n.firstChild,n),i}}return SA.EMPTY},SB=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var A=n.createRange();return A.setStart(t,e),A.setEnd(t,e+r),A},q1=function(t){if(ir.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return L8(t)},X8=function(t,e){if(ir.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Z8(t,e)},Y8=function(t,e){return e.letterSpacing!==0?q1(t):X8(t,e)},J8=[32,160,4961,65792,65793,4153,4241],Z8=function(t,e){for(var r=EQ(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],A,i=function(){if(A.value){var o=A.value.slice(),c=qh(o),u="";c.forEach(function(d){J8.indexOf(d)===-1?u+=Ut(d):(u.length&&n.push(u),n.push(Ut(d)),u="")}),u.length&&n.push(u)}};!(A=r.next()).done;)i();return n},q8=function(){function t(e,r,n){this.text=$8(r.data,n.textTransform),this.textBounds=G8(e,this.text,n,r)}return t}(),$8=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(eR,tR);case 2:return t.toUpperCase();default:return t}},eR=/(^|\s|:|-|\(|\))([a-z])/g,tR=function(t,e,r){return t.length>0?e+r.toUpperCase():t},IE=function(t){jn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.src=n.currentSrc||n.src,A.intrinsicWidth=n.naturalWidth,A.intrinsicHeight=n.naturalHeight,A.context.cache.addImage(A.src),A}return e}(aA),SE=function(t){jn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.canvas=n,A.intrinsicWidth=n.width,A.intrinsicHeight=n.height,A}return e}(aA),FE=function(t){jn(e,t);function e(r,n){var A=t.call(this,r,n)||this,i=new XMLSerializer,o=Zh(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),A.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),A.intrinsicWidth=n.width.baseVal.value,A.intrinsicHeight=n.height.baseVal.value,A.context.cache.addImage(A.svg),A}return e}(aA),TE=function(t){jn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.value=n.value,A}return e}(aA),vg=function(t){jn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.start=n.start,A.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,A}return e}(aA),rR=[{type:15,flags:0,unit:"px",number:3}],nR=[{type:16,flags:0,number:50}],AR=function(t){return t.width>t.height?new SA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new SA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},iR=function(t){var e=t.type===sR?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},hh="checkbox",dh="radio",sR="password",FB=707406591,$1=function(t){jn(e,t);function e(r,n){var A=t.call(this,r,n)||this;switch(A.type=n.type.toLowerCase(),A.checked=n.checked,A.value=iR(n),(A.type===hh||A.type===dh)&&(A.styles.backgroundColor=3739148031,A.styles.borderTopColor=A.styles.borderRightColor=A.styles.borderBottomColor=A.styles.borderLeftColor=2779096575,A.styles.borderTopWidth=A.styles.borderRightWidth=A.styles.borderBottomWidth=A.styles.borderLeftWidth=1,A.styles.borderTopStyle=A.styles.borderRightStyle=A.styles.borderBottomStyle=A.styles.borderLeftStyle=1,A.styles.backgroundClip=[0],A.styles.backgroundOrigin=[0],A.bounds=AR(A.bounds)),A.type){case hh:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=rR;break;case dh:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=nR;break}return A}return e}(aA),UE=function(t){jn(e,t);function e(r,n){var A=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return A.value=i&&i.text||"",A}return e}(aA),QE=function(t){jn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.value=n.value,A}return e}(aA),OE=function(t){jn(e,t);function e(r,n){var A=t.call(this,r,n)||this;A.src=n.src,A.width=parseInt(n.width,10)||0,A.height=parseInt(n.height,10)||0,A.backgroundColor=A.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){A.tree=RE(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?za(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):vA.TRANSPARENT,o=n.contentWindow.document.body?za(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):vA.TRANSPARENT;A.backgroundColor=gi(i)?gi(o)?A.styles.backgroundColor:o:i}}catch{}return A}return e}(aA),oR=["OL","UL","MENU"],vu=function(t,e,r,n){for(var A=e.firstChild,i=void 0;A;A=i)if(i=A.nextSibling,ME(A)&&A.data.trim().length>0)r.textNodes.push(new q8(t,A,r.styles));else if(so(A))if(PE(A)&&A.assignedNodes)A.assignedNodes().forEach(function(c){return vu(t,c,r,n)});else{var o=NE(t,A);o.styles.isVisible()&&(aR(A,o,n)?o.flags|=4:lR(o.styles)&&(o.flags|=2),oR.indexOf(A.tagName)!==-1&&(o.flags|=8),r.elements.push(o),A.slot,A.shadowRoot?vu(t,A.shadowRoot,o,n):!fh(A)&&!DE(A)&&!gh(A)&&vu(t,A,o,n))}},NE=function(t,e){return bg(e)?new IE(t,e):kE(e)?new SE(t,e):DE(e)?new FE(t,e):cR(e)?new TE(t,e):uR(e)?new vg(t,e):hR(e)?new $1(t,e):gh(e)?new UE(t,e):fh(e)?new QE(t,e):LE(e)?new OE(t,e):new aA(t,e)},RE=function(t,e){var r=NE(t,e);return r.flags|=4,vu(t,e,r,r),r},aR=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||ep(t)&&r.styles.isTransparent()},lR=function(t){return t.isPositioned()||t.isFloating()},ME=function(t){return t.nodeType===Node.TEXT_NODE},so=function(t){return t.nodeType===Node.ELEMENT_NODE},Eg=function(t){return so(t)&&typeof t.style<"u"&&!Eu(t)},Eu=function(t){return typeof t.className=="object"},cR=function(t){return t.tagName==="LI"},uR=function(t){return t.tagName==="OL"},hR=function(t){return t.tagName==="INPUT"},dR=function(t){return t.tagName==="HTML"},DE=function(t){return t.tagName==="svg"},ep=function(t){return t.tagName==="BODY"},kE=function(t){return t.tagName==="CANVAS"},TB=function(t){return t.tagName==="VIDEO"},bg=function(t){return t.tagName==="IMG"},LE=function(t){return t.tagName==="IFRAME"},UB=function(t){return t.tagName==="STYLE"},fR=function(t){return t.tagName==="SCRIPT"},fh=function(t){return t.tagName==="TEXTAREA"},gh=function(t){return t.tagName==="SELECT"},PE=function(t){return t.tagName==="SLOT"},QB=function(t){return t.tagName.indexOf("-")>0},gR=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,A=e.counterReset,i=!0;n!==null&&n.forEach(function(c){var u=r.counters[c.counter];u&&c.increment!==0&&(i=!1,u.length||u.push(1),u[Math.max(0,u.length-1)]+=c.increment)});var o=[];return i&&A.forEach(function(c){var u=r.counters[c.counter];o.push(c.counter),u||(u=r.counters[c.counter]=[]),u.push(c.reset)}),o},t}(),OB={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},NB={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},pR={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},wR={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ks=function(t,e,r,n,A,i){return t<e||t>r?El(t,A,i.length>0):n.integers.reduce(function(o,c,u){for(;t>=c;)t-=c,o+=n.values[u];return o},"")+i},HE=function(t,e,r,n){var A="";do r||t--,A=n(t)+A,t/=e;while(t*e>=e);return A},Tt=function(t,e,r,n,A){var i=r-e+1;return(t<0?"-":"")+(HE(Math.abs(t),i,n,function(o){return Ut(Math.floor(o%i)+e)})+A)},Di=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return HE(Math.abs(t),n,!1,function(A){return e[Math.floor(A%n)]})+r},zs=1,jA=2,KA=4,Sa=8,uA=function(t,e,r,n,A,i){if(t<-9999||t>9999)return El(t,4,A.length>0);var o=Math.abs(t),c=A;if(o===0)return e[0]+c;for(var u=0;o>0&&u<=4;u++){var d=o%10;d===0&&Vt(i,zs)&&c!==""?c=e[d]+c:d>1||d===1&&u===0||d===1&&u===1&&Vt(i,jA)||d===1&&u===1&&Vt(i,KA)&&t>100||d===1&&u>1&&Vt(i,Sa)?c=e[d]+(u>0?r[u-1]:"")+c:d===1&&u>0&&(c=r[u-1]+c),o=Math.floor(o/10)}return(t<0?n:"")+c},RB="",MB="",DB="",Tf="",El=function(t,e,r){var n=r?". ":"",A=r?"":"",i=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var c=Tt(t,48,57,!0,n);return c.length<4?"0"+c:c;case 4:return Di(t,"",A);case 6:return ks(t,1,3999,OB,3,n).toLowerCase();case 7:return ks(t,1,3999,OB,3,n);case 8:return Tt(t,945,969,!1,n);case 9:return Tt(t,97,122,!1,n);case 10:return Tt(t,65,90,!1,n);case 11:return Tt(t,1632,1641,!0,n);case 12:case 49:return ks(t,1,9999,NB,3,n);case 35:return ks(t,1,9999,NB,3,n).toLowerCase();case 13:return Tt(t,2534,2543,!0,n);case 14:case 30:return Tt(t,6112,6121,!0,n);case 15:return Di(t,"",A);case 16:return Di(t,"",A);case 17:case 48:return uA(t,"",RB,"",A,jA|KA|Sa);case 47:return uA(t,"",MB,"",A,zs|jA|KA|Sa);case 42:return uA(t,"",RB,"",A,jA|KA|Sa);case 41:return uA(t,"",MB,"",A,zs|jA|KA|Sa);case 26:return uA(t,"","",DB,A,0);case 25:return uA(t,"","",DB,A,zs|jA|KA);case 31:return uA(t,"","",Tf,i,zs|jA|KA);case 33:return uA(t,"","",Tf,i,0);case 32:return uA(t,"","",Tf,i,zs|jA|KA);case 18:return Tt(t,2406,2415,!0,n);case 20:return ks(t,1,19999,wR,3,n);case 21:return Tt(t,2790,2799,!0,n);case 22:return Tt(t,2662,2671,!0,n);case 22:return ks(t,1,10999,pR,3,n);case 23:return Di(t,"");case 24:return Di(t,"");case 27:return Tt(t,3302,3311,!0,n);case 28:return Di(t,"",A);case 29:return Di(t,"",A);case 34:return Tt(t,3792,3801,!0,n);case 37:return Tt(t,6160,6169,!0,n);case 38:return Tt(t,4160,4169,!0,n);case 39:return Tt(t,2918,2927,!0,n);case 40:return Tt(t,1776,1785,!0,n);case 43:return Tt(t,3046,3055,!0,n);case 44:return Tt(t,3174,3183,!0,n);case 45:return Tt(t,3664,3673,!0,n);case 46:return Tt(t,3872,3881,!0,n);case 3:default:return Tt(t,48,57,!0,n)}},jE="data-html2canvas-ignore",kB=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new gR,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,A=mR(e,r);if(!A.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,c=A.contentWindow,u=c.document,d=yR(A).then(function(){return Cr(n,void 0,void 0,function(){var p,m;return fr(this,function(x){switch(x.label){case 0:return this.scrolledElements.forEach(bR),c&&(c.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==r.top||c.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-r.left,c.scrollY-r.top,0,0))),p=this.options.onclone,m=this.clonedReferenceElement,typeof m>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:x.sent(),x.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,xR(u)]:[3,4];case 3:x.sent(),x.label=4;case 4:return typeof p=="function"?[2,Promise.resolve().then(function(){return p(u,m)}).then(function(){return A})]:[2,A]}})})});return u.open(),u.write(vR(document.doctype)+"<html></html>"),ER(this.referenceElement.ownerDocument,i,o),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),d},t.prototype.createElementClone=function(e){if(yg(e,2))debugger;if(kE(e))return this.createCanvasClone(e);if(TB(e))return this.createVideoClone(e);if(UB(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return bg(r)&&(bg(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),QB(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return Uf(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),A=e.cloneNode(!1);return A.textContent=n,A}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var A=e.cloneNode(!1);try{A.width=e.width,A.height=e.height;var i=e.getContext("2d"),o=A.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var c=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(c){var u=c.getContextAttributes();(u==null?void 0:u.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return A}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return A},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var A=e.ownerDocument.createElement("canvas");return A.width=e.offsetWidth,A.height=e.offsetHeight,A},t.prototype.appendChildNode=function(e,r,n){(!so(r)||!fR(r)&&!r.hasAttribute(jE)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!so(r)||!UB(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var A=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(so(i)&&PE(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(c){return A.appendChildNode(r,c,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(ME(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&so(e)&&(Eg(e)||Eu(e))){var A=this.createElementClone(e);A.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),c=n.getComputedStyle(e,":after");this.referenceElement===e&&Eg(A)&&(this.clonedReferenceElement=A),ep(A)&&SR(A);var u=this.counters.parse(new gB(this.context,i)),d=this.resolvePseudoContent(e,A,o,Xa.BEFORE);QB(e)&&(r=!0),TB(e)||this.cloneChildNodes(e,A,r),d&&A.insertBefore(d,A.firstChild);var p=this.resolvePseudoContent(e,A,c,Xa.AFTER);return p&&A.appendChild(p),this.counters.pop(u),(i&&(this.options.copyStyles||Eu(e))&&!LE(e)||r)&&Uf(i,A),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([A,e.scrollLeft,e.scrollTop]),(fh(e)||gh(e))&&(fh(A)||gh(A))&&(A.value=e.value),A}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,A){var i=this;if(n){var o=n.content,c=r.ownerDocument;if(!(!c||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new gB(this.context,n));var u=new c8(this.context,n),d=c.createElement("html2canvaspseudoelement");Uf(n,d),u.content.forEach(function(m){if(m.type===0)d.appendChild(c.createTextNode(m.value));else if(m.type===22){var x=c.createElement("img");x.src=m.value,x.style.opacity="1",d.appendChild(x)}else if(m.type===18){if(m.name==="attr"){var C=m.values.filter(qe);C.length&&d.appendChild(c.createTextNode(e.getAttribute(C[0].value)||""))}else if(m.name==="counter"){var E=m.values.filter(_o),v=E[0],F=E[1];if(v&&qe(v)){var S=i.counters.getCounterValue(v.value),I=F&&qe(F)?xg.parse(i.context,F.value):3;d.appendChild(c.createTextNode(El(S,I,!1)))}}else if(m.name==="counters"){var T=m.values.filter(_o),v=T[0],N=T[1],F=T[2];if(v&&qe(v)){var L=i.counters.getCounterValues(v.value),k=F&&qe(F)?xg.parse(i.context,F.value):3,D=N&&N.type===0?N.value:"",K=L.map(function(oe){return El(oe,k,!1)}).join(D);d.appendChild(c.createTextNode(K))}}}else if(m.type===20)switch(m.value){case"open-quote":d.appendChild(c.createTextNode(fB(u.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(c.createTextNode(fB(u.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(c.createTextNode(m.value))}}),d.className=_g+" "+Ig;var p=A===Xa.BEFORE?" "+_g:" "+Ig;return Eu(r)?r.className.baseValue+=p:r.className+=p,d}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Xa;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Xa||(Xa={}));var mR=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(jE,"true"),t.body.appendChild(r),r},BR=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},xR=function(t){return Promise.all([].slice.call(t.images,0).map(BR))},yR=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var A=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){A.body.childNodes.length>0&&A.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},CR=["all","d","content"],Uf=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);CR.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},vR=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},ER=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},bR=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},_R=":before",IR=":after",_g="___html2canvas___pseudoelement_before",Ig="___html2canvas___pseudoelement_after",LB=`{
    content: "" !important;
    display: none !important;
}`,SR=function(t){FR(t,"."+_g+_R+LB+`
         .`+Ig+IR+LB)},FR=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},KE=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),TR=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(Of(e)||NR(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Cr(this,void 0,void 0,function(){var r,n,A,i,o=this;return fr(this,function(c){switch(c.label){case 0:return r=KE.isSameOrigin(e),n=!Qf(e)&&this._options.useCORS===!0&&ir.SUPPORT_CORS_IMAGES&&!r,A=!Qf(e)&&!r&&!Of(e)&&typeof this._options.proxy=="string"&&ir.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Qf(e)&&!Of(e)&&!A&&!n?[2]:(i=e,A?[4,this.proxy(i)]:[3,2]);case 1:i=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(u,d){var p=new Image;p.onload=function(){return u(p)},p.onerror=d,(RR(i)||n)&&(p.crossOrigin="anonymous"),p.src=i,p.complete===!0&&setTimeout(function(){return u(p)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var A=e.substring(0,256);return new Promise(function(i,o){var c=ir.SUPPORT_RESPONSE_TYPE?"blob":"text",u=new XMLHttpRequest;u.onload=function(){if(u.status===200)if(c==="text")i(u.response);else{var m=new FileReader;m.addEventListener("load",function(){return i(m.result)},!1),m.addEventListener("error",function(x){return o(x)},!1),m.readAsDataURL(u.response)}else o("Failed to proxy resource "+A+" with status code "+u.status)},u.onerror=o;var d=n.indexOf("?")>-1?"&":"?";if(u.open("GET",""+n+d+"url="+encodeURIComponent(e)+"&responseType="+c),c!=="text"&&u instanceof XMLHttpRequest&&(u.responseType=c),r._options.imageTimeout){var p=r._options.imageTimeout;u.timeout=p,u.ontimeout=function(){return o("Timed out ("+p+"ms) proxying "+A)}}u.send()})},t}(),UR=/^data:image\/svg\+xml/i,QR=/^data:image\/.*;base64,/i,OR=/^data:image\/.*/i,NR=function(t){return ir.SUPPORT_SVG_DRAWING||!MR(t)},Qf=function(t){return OR.test(t)},RR=function(t){return QR.test(t)},Of=function(t){return t.substr(0,4)==="blob"},MR=function(t){return t.substr(-3).toLowerCase()==="svg"||UR.test(t)},ce=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Ls=function(t,e,r){return new ce(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Wc=function(){function t(e,r,n,A){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=A}return t.prototype.subdivide=function(e,r){var n=Ls(this.start,this.startControl,e),A=Ls(this.startControl,this.endControl,e),i=Ls(this.endControl,this.end,e),o=Ls(n,A,e),c=Ls(A,i,e),u=Ls(o,c,e);return r?new t(this.start,n,o,u):new t(u,c,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),wn=function(t){return t.type===1},DR=function(){function t(e){var r=e.styles,n=e.bounds,A=_a(r.borderTopLeftRadius,n.width,n.height),i=A[0],o=A[1],c=_a(r.borderTopRightRadius,n.width,n.height),u=c[0],d=c[1],p=_a(r.borderBottomRightRadius,n.width,n.height),m=p[0],x=p[1],C=_a(r.borderBottomLeftRadius,n.width,n.height),E=C[0],v=C[1],F=[];F.push((i+u)/n.width),F.push((E+m)/n.width),F.push((o+v)/n.height),F.push((d+x)/n.height);var S=Math.max.apply(Math,F);S>1&&(i/=S,o/=S,u/=S,d/=S,m/=S,x/=S,E/=S,v/=S);var I=n.width-u,T=n.height-x,N=n.width-m,L=n.height-v,k=r.borderTopWidth,D=r.borderRightWidth,K=r.borderBottomWidth,H=r.borderLeftWidth,q=st(r.paddingTop,e.bounds.width),oe=st(r.paddingRight,e.bounds.width),Z=st(r.paddingBottom,e.bounds.width),Ae=st(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?pt(n.left+H/3,n.top+k/3,i-H/3,o-k/3,Ge.TOP_LEFT):new ce(n.left+H/3,n.top+k/3),this.topRightBorderDoubleOuterBox=i>0||o>0?pt(n.left+I,n.top+k/3,u-D/3,d-k/3,Ge.TOP_RIGHT):new ce(n.left+n.width-D/3,n.top+k/3),this.bottomRightBorderDoubleOuterBox=m>0||x>0?pt(n.left+N,n.top+T,m-D/3,x-K/3,Ge.BOTTOM_RIGHT):new ce(n.left+n.width-D/3,n.top+n.height-K/3),this.bottomLeftBorderDoubleOuterBox=E>0||v>0?pt(n.left+H/3,n.top+L,E-H/3,v-K/3,Ge.BOTTOM_LEFT):new ce(n.left+H/3,n.top+n.height-K/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?pt(n.left+H*2/3,n.top+k*2/3,i-H*2/3,o-k*2/3,Ge.TOP_LEFT):new ce(n.left+H*2/3,n.top+k*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?pt(n.left+I,n.top+k*2/3,u-D*2/3,d-k*2/3,Ge.TOP_RIGHT):new ce(n.left+n.width-D*2/3,n.top+k*2/3),this.bottomRightBorderDoubleInnerBox=m>0||x>0?pt(n.left+N,n.top+T,m-D*2/3,x-K*2/3,Ge.BOTTOM_RIGHT):new ce(n.left+n.width-D*2/3,n.top+n.height-K*2/3),this.bottomLeftBorderDoubleInnerBox=E>0||v>0?pt(n.left+H*2/3,n.top+L,E-H*2/3,v-K*2/3,Ge.BOTTOM_LEFT):new ce(n.left+H*2/3,n.top+n.height-K*2/3),this.topLeftBorderStroke=i>0||o>0?pt(n.left+H/2,n.top+k/2,i-H/2,o-k/2,Ge.TOP_LEFT):new ce(n.left+H/2,n.top+k/2),this.topRightBorderStroke=i>0||o>0?pt(n.left+I,n.top+k/2,u-D/2,d-k/2,Ge.TOP_RIGHT):new ce(n.left+n.width-D/2,n.top+k/2),this.bottomRightBorderStroke=m>0||x>0?pt(n.left+N,n.top+T,m-D/2,x-K/2,Ge.BOTTOM_RIGHT):new ce(n.left+n.width-D/2,n.top+n.height-K/2),this.bottomLeftBorderStroke=E>0||v>0?pt(n.left+H/2,n.top+L,E-H/2,v-K/2,Ge.BOTTOM_LEFT):new ce(n.left+H/2,n.top+n.height-K/2),this.topLeftBorderBox=i>0||o>0?pt(n.left,n.top,i,o,Ge.TOP_LEFT):new ce(n.left,n.top),this.topRightBorderBox=u>0||d>0?pt(n.left+I,n.top,u,d,Ge.TOP_RIGHT):new ce(n.left+n.width,n.top),this.bottomRightBorderBox=m>0||x>0?pt(n.left+N,n.top+T,m,x,Ge.BOTTOM_RIGHT):new ce(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=E>0||v>0?pt(n.left,n.top+L,E,v,Ge.BOTTOM_LEFT):new ce(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?pt(n.left+H,n.top+k,Math.max(0,i-H),Math.max(0,o-k),Ge.TOP_LEFT):new ce(n.left+H,n.top+k),this.topRightPaddingBox=u>0||d>0?pt(n.left+Math.min(I,n.width-D),n.top+k,I>n.width+D?0:Math.max(0,u-D),Math.max(0,d-k),Ge.TOP_RIGHT):new ce(n.left+n.width-D,n.top+k),this.bottomRightPaddingBox=m>0||x>0?pt(n.left+Math.min(N,n.width-H),n.top+Math.min(T,n.height-K),Math.max(0,m-D),Math.max(0,x-K),Ge.BOTTOM_RIGHT):new ce(n.left+n.width-D,n.top+n.height-K),this.bottomLeftPaddingBox=E>0||v>0?pt(n.left+H,n.top+Math.min(L,n.height-K),Math.max(0,E-H),Math.max(0,v-K),Ge.BOTTOM_LEFT):new ce(n.left+H,n.top+n.height-K),this.topLeftContentBox=i>0||o>0?pt(n.left+H+Ae,n.top+k+q,Math.max(0,i-(H+Ae)),Math.max(0,o-(k+q)),Ge.TOP_LEFT):new ce(n.left+H+Ae,n.top+k+q),this.topRightContentBox=u>0||d>0?pt(n.left+Math.min(I,n.width+H+Ae),n.top+k+q,I>n.width+H+Ae?0:u-H+Ae,d-(k+q),Ge.TOP_RIGHT):new ce(n.left+n.width-(D+oe),n.top+k+q),this.bottomRightContentBox=m>0||x>0?pt(n.left+Math.min(N,n.width-(H+Ae)),n.top+Math.min(T,n.height+k+q),Math.max(0,m-(D+oe)),x-(K+Z),Ge.BOTTOM_RIGHT):new ce(n.left+n.width-(D+oe),n.top+n.height-(K+Z)),this.bottomLeftContentBox=E>0||v>0?pt(n.left+H+Ae,n.top+L,Math.max(0,E-(H+Ae)),v-(K+Z),Ge.BOTTOM_LEFT):new ce(n.left+H+Ae,n.top+n.height-(K+Z))}return t}(),Ge;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ge||(Ge={}));var pt=function(t,e,r,n,A){var i=4*((Math.sqrt(2)-1)/3),o=r*i,c=n*i,u=t+r,d=e+n;switch(A){case Ge.TOP_LEFT:return new Wc(new ce(t,d),new ce(t,d-c),new ce(u-o,e),new ce(u,e));case Ge.TOP_RIGHT:return new Wc(new ce(t,e),new ce(t+o,e),new ce(u,d-c),new ce(u,d));case Ge.BOTTOM_RIGHT:return new Wc(new ce(u,e),new ce(u,e+c),new ce(t+o,d),new ce(t,d));case Ge.BOTTOM_LEFT:default:return new Wc(new ce(u,d),new ce(u-o,d),new ce(t,e+c),new ce(t,e))}},ph=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},kR=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},wh=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},LR=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Xc=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),PR=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),HR=function(t){return t.type===0},VE=function(t){return t.type===1},jR=function(t){return t.type===2},PB=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},KR=function(t,e,r,n,A){return t.map(function(i,o){switch(o){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+A);case 3:return i.add(e,r+A)}return i})},zE=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),GE=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new DR(this.container),this.container.styles.opacity<1&&this.effects.push(new PR(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,A=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new LR(n,A,i))}if(this.container.styles.overflowX!==0){var o=ph(this.curves),c=wh(this.curves);PB(o,c)?this.effects.push(new Xc(o,6)):(this.effects.push(new Xc(o,2)),this.effects.push(new Xc(c,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,A=this.effects.slice(0);n;){var i=n.effects.filter(function(u){return!VE(u)});if(r||n.container.styles.position!==0||!n.parent){if(A.unshift.apply(A,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=ph(n.curves),c=wh(n.curves);PB(o,c)||A.unshift(new Xc(c,6))}}else A.unshift.apply(A,i);n=n.parent}return A.filter(function(u){return Vt(u.target,e)})},t}(),Sg=function(t,e,r,n){t.container.elements.forEach(function(A){var i=Vt(A.flags,4),o=Vt(A.flags,2),c=new GE(A,t);Vt(A.styles.display,2048)&&n.push(c);var u=Vt(A.flags,8)?[]:n;if(i||o){var d=i||A.styles.isPositioned()?r:e,p=new zE(c);if(A.styles.isPositioned()||A.styles.opacity<1||A.styles.isTransformed()){var m=A.styles.zIndex.order;if(m<0){var x=0;d.negativeZIndex.some(function(E,v){return m>E.element.container.styles.zIndex.order?(x=v,!1):x>0}),d.negativeZIndex.splice(x,0,p)}else if(m>0){var C=0;d.positiveZIndex.some(function(E,v){return m>=E.element.container.styles.zIndex.order?(C=v+1,!1):C>0}),d.positiveZIndex.splice(C,0,p)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(p)}else A.styles.isFloating()?d.nonPositionedFloats.push(p):d.nonPositionedInlineLevel.push(p);Sg(c,p,i?p:r,u)}else A.styles.isInlineLevel()?e.inlineLevel.push(c):e.nonInlineLevel.push(c),Sg(c,e,r,u);Vt(A.flags,8)&&WE(A,u)})},WE=function(t,e){for(var r=t instanceof vg?t.start:1,n=t instanceof vg?t.reversed:!1,A=0;A<e.length;A++){var i=e[A];i.container instanceof TE&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=El(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},VR=function(t){var e=new GE(t,null),r=new zE(e),n=[];return Sg(e,r,r,n),WE(e.container,n),r},HB=function(t,e){switch(e){case 0:return xn(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return xn(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return xn(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return xn(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},zR=function(t,e){switch(e){case 0:return xn(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return xn(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return xn(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return xn(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},GR=function(t,e){switch(e){case 0:return xn(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return xn(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return xn(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return xn(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},WR=function(t,e){switch(e){case 0:return Yc(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Yc(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Yc(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Yc(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Yc=function(t,e){var r=[];return wn(t)?r.push(t.subdivide(.5,!1)):r.push(t),wn(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},xn=function(t,e,r,n){var A=[];return wn(t)?A.push(t.subdivide(.5,!1)):A.push(t),wn(r)?A.push(r.subdivide(.5,!0)):A.push(r),wn(n)?A.push(n.subdivide(.5,!0).reverse()):A.push(n),wn(e)?A.push(e.subdivide(.5,!1).reverse()):A.push(e),A},XE=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},mh=function(t){var e=t.styles,r=t.bounds,n=st(e.paddingLeft,r.width),A=st(e.paddingRight,r.width),i=st(e.paddingTop,r.width),o=st(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+A),-(e.borderTopWidth+e.borderBottomWidth+i+o))},XR=function(t,e){return t===0?e.bounds:t===2?mh(e):XE(e)},YR=function(t,e){return t===0?e.bounds:t===2?mh(e):XE(e)},Nf=function(t,e,r){var n=XR(Gs(t.styles.backgroundOrigin,e),t),A=YR(Gs(t.styles.backgroundClip,e),t),i=JR(Gs(t.styles.backgroundSize,e),r,n),o=i[0],c=i[1],u=_a(Gs(t.styles.backgroundPosition,e),n.width-o,n.height-c),d=ZR(Gs(t.styles.backgroundRepeat,e),u,i,n,A),p=Math.round(n.left+u[0]),m=Math.round(n.top+u[1]);return[d,p,m,o,c]},Ps=function(t){return qe(t)&&t.value===go.AUTO},Jc=function(t){return typeof t=="number"},JR=function(t,e,r){var n=e[0],A=e[1],i=e[2],o=t[0],c=t[1];if(!o)return[0,0];if(Mt(o)&&c&&Mt(c))return[st(o,r.width),st(c,r.height)];var u=Jc(i);if(qe(o)&&(o.value===go.CONTAIN||o.value===go.COVER)){if(Jc(i)){var d=r.width/r.height;return d<i!=(o.value===go.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var p=Jc(n),m=Jc(A),x=p||m;if(Ps(o)&&(!c||Ps(c))){if(p&&m)return[n,A];if(!u&&!x)return[r.width,r.height];if(x&&u){var C=p?n:A*i,E=m?A:n/i;return[C,E]}var v=p?n:r.width,F=m?A:r.height;return[v,F]}if(u){var S=0,I=0;return Mt(o)?S=st(o,r.width):Mt(c)&&(I=st(c,r.height)),Ps(o)?S=I*i:(!c||Ps(c))&&(I=S/i),[S,I]}var T=null,N=null;if(Mt(o)?T=st(o,r.width):c&&Mt(c)&&(N=st(c,r.height)),T!==null&&(!c||Ps(c))&&(N=p&&m?T/n*A:r.height),N!==null&&Ps(o)&&(T=p&&m?N/A*n:r.width),T!==null&&N!==null)return[T,N];throw new Error("Unable to calculate background-size for element")},Gs=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},ZR=function(t,e,r,n,A){var i=e[0],o=e[1],c=r[0],u=r[1];switch(t){case 2:return[new ce(Math.round(n.left),Math.round(n.top+o)),new ce(Math.round(n.left+n.width),Math.round(n.top+o)),new ce(Math.round(n.left+n.width),Math.round(u+n.top+o)),new ce(Math.round(n.left),Math.round(u+n.top+o))];case 3:return[new ce(Math.round(n.left+i),Math.round(n.top)),new ce(Math.round(n.left+i+c),Math.round(n.top)),new ce(Math.round(n.left+i+c),Math.round(n.height+n.top)),new ce(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new ce(Math.round(n.left+i),Math.round(n.top+o)),new ce(Math.round(n.left+i+c),Math.round(n.top+o)),new ce(Math.round(n.left+i+c),Math.round(n.top+o+u)),new ce(Math.round(n.left+i),Math.round(n.top+o+u))];default:return[new ce(Math.round(A.left),Math.round(A.top)),new ce(Math.round(A.left+A.width),Math.round(A.top)),new ce(Math.round(A.left+A.width),Math.round(A.height+A.top)),new ce(Math.round(A.left),Math.round(A.height+A.top))]}},qR="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",jB="Hidden Text",$R=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),A=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),A.src=qR,A.width=1,A.height=1,A.style.margin="0",A.style.padding="0",A.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(jB)),n.appendChild(i),n.appendChild(A);var c=A.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(jB)),n.style.lineHeight="normal",A.style.verticalAlign="super";var u=A.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:c,middle:u}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),YE=function(){function t(e,r){this.context=e,this.options=r}return t}(),eM=1e4,tM=function(t){jn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A._activeEffects=[],A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),n.canvas||(A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px"),A.fontMetrics=new $R(document),A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.ctx.textBaseline="bottom",A._activeEffects=[],A.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),A}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(A){return n.applyEffect(A)})},e.prototype.applyEffect=function(r){this.ctx.save(),jR(r)&&(this.ctx.globalAlpha=r.opacity),HR(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),VE(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Cr(this,void 0,void 0,function(){var n;return fr(this,function(A){switch(A.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:A.sent(),A.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Cr(this,void 0,void 0,function(){return fr(this,function(n){switch(n.label){case 0:if(Vt(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,A){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+A);else{var o=q1(r.text);o.reduce(function(c,u){return i.ctx.fillText(u,c,r.bounds.top+A),c+i.ctx.measureText(u).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),A=sM(r.fontFamily).join(", "),i=Pl(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,A].join(" "),A,i]},e.prototype.renderTextNode=function(r,n){return Cr(this,void 0,void 0,function(){var A,i,o,c,u,d,p,m,x=this;return fr(this,function(C){return A=this.createFontStyle(n),i=A[0],o=A[1],c=A[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",u=this.fontMetrics.getMetrics(o,c),d=u.baseline,p=u.middle,m=n.paintOrder,r.textBounds.forEach(function(E){m.forEach(function(v){switch(v){case 0:x.ctx.fillStyle=Jt(n.color),x.renderTextWithLetterSpacing(E,n.letterSpacing,d);var F=n.textShadow;F.length&&E.text.trim().length&&(F.slice(0).reverse().forEach(function(S){x.ctx.shadowColor=Jt(S.color),x.ctx.shadowOffsetX=S.offsetX.number*x.options.scale,x.ctx.shadowOffsetY=S.offsetY.number*x.options.scale,x.ctx.shadowBlur=S.blur.number,x.renderTextWithLetterSpacing(E,n.letterSpacing,d)}),x.ctx.shadowColor="",x.ctx.shadowOffsetX=0,x.ctx.shadowOffsetY=0,x.ctx.shadowBlur=0),n.textDecorationLine.length&&(x.ctx.fillStyle=Jt(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(S){switch(S){case 1:x.ctx.fillRect(E.bounds.left,Math.round(E.bounds.top+d),E.bounds.width,1);break;case 2:x.ctx.fillRect(E.bounds.left,Math.round(E.bounds.top),E.bounds.width,1);break;case 3:x.ctx.fillRect(E.bounds.left,Math.ceil(E.bounds.top+p),E.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&E.text.trim().length&&(x.ctx.strokeStyle=Jt(n.webkitTextStrokeColor),x.ctx.lineWidth=n.webkitTextStrokeWidth,x.ctx.lineJoin=window.chrome?"miter":"round",x.ctx.strokeText(E.text,E.bounds.left,E.bounds.top+d)),x.ctx.strokeStyle="",x.ctx.lineWidth=0,x.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,A){if(A&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=mh(r),o=wh(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(A,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Cr(this,void 0,void 0,function(){var n,A,i,o,c,u,I,I,d,p,m,x,N,C,E,L,v,F,S,I,T,N,L;return fr(this,function(k){switch(k.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,A=r.curves,i=n.styles,o=0,c=n.textNodes,k.label=1;case 1:return o<c.length?(u=c[o],[4,this.renderTextNode(u,i)]):[3,4];case 2:k.sent(),k.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof IE))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return I=k.sent(),this.renderReplacedElement(n,A,I),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof SE&&this.renderReplacedElement(n,A,n.canvas),!(n instanceof FE))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return I=k.sent(),this.renderReplacedElement(n,A,I),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof OE&&n.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:p=k.sent(),n.width&&n.height&&this.ctx.drawImage(p,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),k.label=14;case 14:if(n instanceof $1&&(m=Math.min(n.bounds.width,n.bounds.height),n.type===hh?n.checked&&(this.ctx.save(),this.path([new ce(n.bounds.left+m*.39363,n.bounds.top+m*.79),new ce(n.bounds.left+m*.16,n.bounds.top+m*.5549),new ce(n.bounds.left+m*.27347,n.bounds.top+m*.44071),new ce(n.bounds.left+m*.39694,n.bounds.top+m*.5649),new ce(n.bounds.left+m*.72983,n.bounds.top+m*.23),new ce(n.bounds.left+m*.84,n.bounds.top+m*.34085),new ce(n.bounds.left+m*.39363,n.bounds.top+m*.79)]),this.ctx.fillStyle=Jt(FB),this.ctx.fill(),this.ctx.restore()):n.type===dh&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+m/2,n.bounds.top+m/2,m/4,0,Math.PI*2,!0),this.ctx.fillStyle=Jt(FB),this.ctx.fill(),this.ctx.restore())),rM(n)&&n.value.length){switch(x=this.createFontStyle(i),N=x[0],C=x[1],E=this.fontMetrics.getMetrics(N,C).baseline,this.ctx.font=N,this.ctx.fillStyle=Jt(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=AM(n.styles.textAlign),L=mh(n),v=0,n.styles.textAlign){case 1:v+=L.width/2;break;case 2:v+=L.width;break}F=L.add(v,0,0,-L.height/2+1),this.ctx.save(),this.path([new ce(L.left,L.top),new ce(L.left+L.width,L.top),new ce(L.left+L.width,L.top+L.height),new ce(L.left,L.top+L.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Wa(n.value,F),i.letterSpacing,E),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Vt(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(S=n.styles.listStyleImage,S.type!==0)return[3,18];I=void 0,T=S.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return I=k.sent(),this.ctx.drawImage(I,n.bounds.left-(I.width+10),n.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(N=this.createFontStyle(i)[0],this.ctx.font=N,this.ctx.fillStyle=Jt(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",L=new SA(n.bounds.left,n.bounds.top+st(n.styles.paddingTop,n.bounds.width),n.bounds.width,hB(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Wa(r.listValue,L),i.letterSpacing,hB(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Cr(this,void 0,void 0,function(){var n,A,S,i,o,S,c,u,S,d,p,S,m,x,S,C,E,S,v,F,S;return fr(this,function(I){switch(I.label){case 0:if(Vt(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:I.sent(),n=0,A=r.negativeZIndex,I.label=2;case 2:return n<A.length?(S=A[n],[4,this.renderStack(S)]):[3,5];case 3:I.sent(),I.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:I.sent(),i=0,o=r.nonInlineLevel,I.label=7;case 7:return i<o.length?(S=o[i],[4,this.renderNode(S)]):[3,10];case 8:I.sent(),I.label=9;case 9:return i++,[3,7];case 10:c=0,u=r.nonPositionedFloats,I.label=11;case 11:return c<u.length?(S=u[c],[4,this.renderStack(S)]):[3,14];case 12:I.sent(),I.label=13;case 13:return c++,[3,11];case 14:d=0,p=r.nonPositionedInlineLevel,I.label=15;case 15:return d<p.length?(S=p[d],[4,this.renderStack(S)]):[3,18];case 16:I.sent(),I.label=17;case 17:return d++,[3,15];case 18:m=0,x=r.inlineLevel,I.label=19;case 19:return m<x.length?(S=x[m],[4,this.renderNode(S)]):[3,22];case 20:I.sent(),I.label=21;case 21:return m++,[3,19];case 22:C=0,E=r.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return C<E.length?(S=E[C],[4,this.renderStack(S)]):[3,26];case 24:I.sent(),I.label=25;case 25:return C++,[3,23];case 26:v=0,F=r.positiveZIndex,I.label=27;case 27:return v<F.length?(S=F[v],[4,this.renderStack(S)]):[3,30];case 28:I.sent(),I.label=29;case 29:return v++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(A,i){var o=wn(A)?A.start:A;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),wn(A)&&n.ctx.bezierCurveTo(A.startControl.x,A.startControl.y,A.endControl.x,A.endControl.y,A.end.x,A.end.y)})},e.prototype.renderRepeat=function(r,n,A,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(A,i),this.ctx.fill(),this.ctx.translate(-A,-i)},e.prototype.resizeImage=function(r,n,A){var i;if(r.width===n&&r.height===A)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,c=o.createElement("canvas");c.width=Math.max(1,n),c.height=Math.max(1,A);var u=c.getContext("2d");return u.drawImage(r,0,0,r.width,r.height,0,0,n,A),c},e.prototype.renderBackgroundImage=function(r){return Cr(this,void 0,void 0,function(){var n,A,i,o,c,u;return fr(this,function(d){switch(d.label){case 0:n=r.styles.backgroundImage.length-1,A=function(p){var m,x,C,q,we,ie,Ae,ye,K,E,q,we,ie,Ae,ye,v,F,S,I,T,N,L,k,D,K,H,q,oe,Z,Ae,ye,V,we,ie,re,ae,pe,Qe,be,Je,Te,mt;return fr(this,function(le){switch(le.label){case 0:if(p.type!==0)return[3,5];m=void 0,x=p.url,le.label=1;case 1:return le.trys.push([1,3,,4]),[4,i.context.cache.match(x)];case 2:return m=le.sent(),[3,4];case 3:return le.sent(),i.context.logger.error("Error loading background-image "+x),[3,4];case 4:return m&&(C=Nf(r,n,[m.width,m.height,m.width/m.height]),q=C[0],we=C[1],ie=C[2],Ae=C[3],ye=C[4],K=i.ctx.createPattern(i.resizeImage(m,Ae,ye),"repeat"),i.renderRepeat(q,K,we,ie)),[3,6];case 5:HO(p)?(E=Nf(r,n,[null,null,null]),q=E[0],we=E[1],ie=E[2],Ae=E[3],ye=E[4],v=MO(p.angle,Ae,ye),F=v[0],S=v[1],I=v[2],T=v[3],N=v[4],L=document.createElement("canvas"),L.width=Ae,L.height=ye,k=L.getContext("2d"),D=k.createLinearGradient(S,T,I,N),cB(p.stops,F).forEach(function(Fr){return D.addColorStop(Fr.stop,Jt(Fr.color))}),k.fillStyle=D,k.fillRect(0,0,Ae,ye),Ae>0&&ye>0&&(K=i.ctx.createPattern(L,"repeat"),i.renderRepeat(q,K,we,ie))):jO(p)&&(H=Nf(r,n,[null,null,null]),q=H[0],oe=H[1],Z=H[2],Ae=H[3],ye=H[4],V=p.position.length===0?[Y1]:p.position,we=st(V[0],Ae),ie=st(V[V.length-1],ye),re=DO(p,we,ie,Ae,ye),ae=re[0],pe=re[1],ae>0&&pe>0&&(Qe=i.ctx.createRadialGradient(oe+we,Z+ie,0,oe+we,Z+ie,ae),cB(p.stops,ae*2).forEach(function(Fr){return Qe.addColorStop(Fr.stop,Jt(Fr.color))}),i.path(q),i.ctx.fillStyle=Qe,ae!==pe?(be=r.bounds.left+.5*r.bounds.width,Je=r.bounds.top+.5*r.bounds.height,Te=pe/ae,mt=1/Te,i.ctx.save(),i.ctx.translate(be,Je),i.ctx.transform(1,0,0,Te,0,0),i.ctx.translate(-be,-Je),i.ctx.fillRect(oe,mt*(Z-Je)+Je,Ae,ye*mt),i.ctx.restore()):i.ctx.fill())),le.label=6;case 6:return n--,[2]}})},i=this,o=0,c=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<c.length?(u=c[o],[5,A(u)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,A){return Cr(this,void 0,void 0,function(){return fr(this,function(i){return this.path(HB(A,n)),this.ctx.fillStyle=Jt(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,A,i){return Cr(this,void 0,void 0,function(){var o,c;return fr(this,function(u){switch(u.label){case 0:return n<3?[4,this.renderSolidBorder(r,A,i)]:[3,2];case 1:return u.sent(),[2];case 2:return o=zR(i,A),this.path(o),this.ctx.fillStyle=Jt(r),this.ctx.fill(),c=GR(i,A),this.path(c),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Cr(this,void 0,void 0,function(){var n,A,i,o,c,u,d,p,m=this;return fr(this,function(x){switch(x.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,A=!gi(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=nM(Gs(n.backgroundClip,0),r.curves),A||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),gi(n.backgroundColor)||(this.ctx.fillStyle=Jt(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:x.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(C){m.ctx.save();var E=ph(r.curves),v=C.inset?0:eM,F=KR(E,-v+(C.inset?1:-1)*C.spread.number,(C.inset?1:-1)*C.spread.number,C.spread.number*(C.inset?-2:2),C.spread.number*(C.inset?-2:2));C.inset?(m.path(E),m.ctx.clip(),m.mask(F)):(m.mask(E),m.ctx.clip(),m.path(F)),m.ctx.shadowOffsetX=C.offsetX.number+v,m.ctx.shadowOffsetY=C.offsetY.number,m.ctx.shadowColor=Jt(C.color),m.ctx.shadowBlur=C.blur.number,m.ctx.fillStyle=C.inset?Jt(C.color):"rgba(0,0,0,1)",m.ctx.fill(),m.ctx.restore()}),x.label=2;case 2:c=0,u=0,d=i,x.label=3;case 3:return u<d.length?(p=d[u],p.style!==0&&!gi(p.color)&&p.width>0?p.style!==2?[3,5]:[4,this.renderDashedDottedBorder(p.color,p.width,c,r.curves,2)]:[3,11]):[3,13];case 4:return x.sent(),[3,11];case 5:return p.style!==3?[3,7]:[4,this.renderDashedDottedBorder(p.color,p.width,c,r.curves,3)];case 6:return x.sent(),[3,11];case 7:return p.style!==4?[3,9]:[4,this.renderDoubleBorder(p.color,p.width,c,r.curves)];case 8:return x.sent(),[3,11];case 9:return[4,this.renderSolidBorder(p.color,c,r.curves)];case 10:x.sent(),x.label=11;case 11:c++,x.label=12;case 12:return u++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,A,i,o){return Cr(this,void 0,void 0,function(){var c,u,d,p,m,x,C,E,v,F,S,I,T,N,L,k,L,k;return fr(this,function(D){return this.ctx.save(),c=WR(i,A),u=HB(i,A),o===2&&(this.path(u),this.ctx.clip()),wn(u[0])?(d=u[0].start.x,p=u[0].start.y):(d=u[0].x,p=u[0].y),wn(u[1])?(m=u[1].end.x,x=u[1].end.y):(m=u[1].x,x=u[1].y),A===0||A===2?C=Math.abs(d-m):C=Math.abs(p-x),this.ctx.beginPath(),o===3?this.formatPath(c):this.formatPath(u.slice(0,2)),E=n<3?n*3:n*2,v=n<3?n*2:n,o===3&&(E=n,v=n),F=!0,C<=E*2?F=!1:C<=E*2+v?(S=C/(2*E+v),E*=S,v*=S):(I=Math.floor((C+v)/(E+v)),T=(C-I*E)/(I-1),N=(C-(I+1)*E)/I,v=N<=0||Math.abs(v-T)<Math.abs(v-N)?T:N),F&&(o===3?this.ctx.setLineDash([0,E+v]):this.ctx.setLineDash([E,v])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Jt(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(wn(u[0])&&(L=u[3],k=u[0],this.ctx.beginPath(),this.formatPath([new ce(L.end.x,L.end.y),new ce(k.start.x,k.start.y)]),this.ctx.stroke()),wn(u[1])&&(L=u[1],k=u[2],this.ctx.beginPath(),this.formatPath([new ce(L.end.x,L.end.y),new ce(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Cr(this,void 0,void 0,function(){var n;return fr(this,function(A){switch(A.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Jt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=VR(r),[4,this.renderStack(n)];case 1:return A.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(YE),rM=function(t){return t instanceof QE||t instanceof UE?!0:t instanceof $1&&t.type!==dh&&t.type!==hh},nM=function(t,e){switch(t){case 0:return ph(e);case 2:return kR(e);case 1:default:return wh(e)}},AM=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iM=["-apple-system","system-ui"],sM=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return iM.indexOf(e)===-1}):t},oM=function(t){jn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),A.options=n,A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px",A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),A}return e.prototype.render=function(r){return Cr(this,void 0,void 0,function(){var n,A;return fr(this,function(i){switch(i.label){case 0:return n=Cg(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,aM(n)];case 1:return A=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Jt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(A,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(YE),aM=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},lM=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Sc([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Sc([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Sc([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Sc([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),cM=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new lM({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new TR(this,e)}return t.instanceCount=1,t}(),uM=function(t,e){return e===void 0&&(e={}),hM(t,e)};typeof window<"u"&&KE.setContext(window);var hM=function(t,e){return Cr(void 0,void 0,void 0,function(){var r,n,A,i,o,c,u,d,p,m,x,C,E,v,F,S,I,T,N,L,D,k,D,K,H,q,oe,Z,Ae,ye,V,we,ie,re,ae,pe,Qe,be,Je,Te;return fr(this,function(mt){switch(mt.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return A={allowTaint:(K=e.allowTaint)!==null&&K!==void 0?K:!1,imageTimeout:(H=e.imageTimeout)!==null&&H!==void 0?H:15e3,proxy:e.proxy,useCORS:(q=e.useCORS)!==null&&q!==void 0?q:!1},i=og({logging:(oe=e.logging)!==null&&oe!==void 0?oe:!0,cache:e.cache},A),o={windowWidth:(Z=e.windowWidth)!==null&&Z!==void 0?Z:n.innerWidth,windowHeight:(Ae=e.windowHeight)!==null&&Ae!==void 0?Ae:n.innerHeight,scrollX:(ye=e.scrollX)!==null&&ye!==void 0?ye:n.pageXOffset,scrollY:(V=e.scrollY)!==null&&V!==void 0?V:n.pageYOffset},c=new SA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),u=new cM(i,c),d=(we=e.foreignObjectRendering)!==null&&we!==void 0?we:!1,p={allowTaint:(ie=e.allowTaint)!==null&&ie!==void 0?ie:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},u.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),m=new kB(u,t,p),x=m.clonedReferenceElement,x?[4,m.toIFrame(r,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return C=mt.sent(),E=ep(x)||dR(x)?KU(x.ownerDocument):Zh(u,x),v=E.width,F=E.height,S=E.left,I=E.top,T=dM(u,x,e.backgroundColor),N={canvas:e.canvas,backgroundColor:T,scale:(ae=(re=e.scale)!==null&&re!==void 0?re:n.devicePixelRatio)!==null&&ae!==void 0?ae:1,x:((pe=e.x)!==null&&pe!==void 0?pe:0)+S,y:((Qe=e.y)!==null&&Qe!==void 0?Qe:0)+I,width:(be=e.width)!==null&&be!==void 0?be:Math.ceil(v),height:(Je=e.height)!==null&&Je!==void 0?Je:Math.ceil(F)},d?(u.logger.debug("Document cloned, using foreign object rendering"),D=new oM(u,N),[4,D.render(x)]):[3,3];case 2:return L=mt.sent(),[3,5];case 3:return u.logger.debug("Document cloned, element located at "+S+","+I+" with size "+v+"x"+F+" using computed rendering"),u.logger.debug("Starting DOM parsing"),k=RE(u,x),T===k.styles.backgroundColor&&(k.styles.backgroundColor=vA.TRANSPARENT),u.logger.debug("Starting renderer for element at "+N.x+","+N.y+" with size "+N.width+"x"+N.height),D=new tM(u,N),[4,D.render(k)];case 4:L=mt.sent(),mt.label=5;case 5:return(!((Te=e.removeContainer)!==null&&Te!==void 0)||Te)&&(kB.destroy(C)||u.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),u.logger.debug("Finished rendering"),[2,L]}})})},dM=function(t,e,r){var n=e.ownerDocument,A=n.documentElement?za(t,getComputedStyle(n.documentElement).backgroundColor):vA.TRANSPARENT,i=n.body?za(t,getComputedStyle(n.body).backgroundColor):vA.TRANSPARENT,o=typeof r=="string"?za(t,r):r===null?vA.TRANSPARENT:4294967295;return e===n.documentElement?gi(A)?gi(i)?o:i:A:o};const fM=()=>{const{products:t}=Wr(),[e,r]=Y.useState(""),[n,A]=Y.useState(null),i=Y.useRef(null),o=t.filter(d=>d.name.toLowerCase().includes(e.toLowerCase())||d.sku.toLowerCase().includes(e.toLowerCase())),c=()=>{window.print()},u=async()=>{if(i.current)try{const d=await uM(i.current,{backgroundColor:"#ffffff",scale:3}),p=document.createElement("a");p.download=`QR_${n.sku}.png`,p.href=d.toDataURL("image/png"),p.click()}catch(d){console.error("Error generating image:",d),alert("Hubo un error al generar la imagen.")}};return _.jsxs("div",{className:"page-container",children:[_.jsx("div",{className:"page-header no-print",children:_.jsxs("div",{children:[_.jsx("h1",{className:"page-title",children:"Generador de Etiquetas QR"}),_.jsx("p",{className:"page-subtitle",children:"Selecciona un producto para generar su etiqueta"})]})}),_.jsxs("div",{className:"qr-layout",children:[_.jsxs("div",{className:"card selection-panel no-print",children:[_.jsxs("div",{className:"search-box",children:[_.jsx(Ov,{size:20,className:"text-muted"}),_.jsx("input",{type:"text",placeholder:"Buscar por nombre o SKU...",value:e,onChange:d=>r(d.target.value),className:"search-input"})]}),_.jsxs("div",{className:"product-list-compact",children:[o.map(d=>_.jsxs("div",{className:`product-item-compact ${(n==null?void 0:n.id)===d.id?"active":""}`,onClick:()=>A(d),children:[_.jsxs("div",{className:"product-info",children:[_.jsx("span",{className:"product-name",children:d.name}),_.jsxs("span",{className:"product-sku",children:["SKU: ",d.sku]})]}),(n==null?void 0:n.id)===d.id&&_.jsx(ng,{size:18,className:"text-primary"})]},d.id)),o.length===0&&_.jsx("div",{className:"empty-state",children:"No se encontraron productos"})]})]}),_.jsx("div",{className:"preview-panel",children:n?_.jsxs("div",{className:"preview-content",children:[_.jsxs("div",{className:"label-container",ref:i,children:[_.jsx("div",{className:"qr-code-wrapper",children:_.jsx(jU,{value:JSON.stringify({id:n.id,sku:n.sku}),size:100,level:"H"})}),_.jsxs("div",{className:"label-details",children:[_.jsx("h2",{className:"label-product-name",children:n.name}),_.jsxs("div",{className:"label-meta",children:[_.jsxs("span",{className:"label-sku",children:["SKU: ",n.sku]}),_.jsx("span",{className:"label-category",children:n.category})]}),_.jsxs("div",{className:"label-price",children:["$",Number(n.price).toFixed(2)]})]})]}),_.jsxs("div",{className:"action-buttons no-print",children:[_.jsxs("button",{onClick:c,className:"btn btn-outline",children:[_.jsx(V1,{size:20}),"Imprimir"]}),_.jsxs("button",{onClick:u,className:"btn btn-primary",children:[_.jsx(F3,{size:20}),"Descargar PNG"]})]}),_.jsx("p",{className:"help-text no-print",children:"* La etiqueta se ha optimizado para ser legible en cualquier fondo."})]}):_.jsxs("div",{className:"empty-preview",children:[_.jsx(ng,{size:48,className:"text-muted"}),_.jsx("p",{children:"Selecciona un producto para ver su etiqueta"})]})})]}),_.jsx("style",{children:`
        .qr-layout {
          display: grid;
          grid-template-columns: 350px 1fr;
          gap: var(--spacing-lg);
          align-items: start;
        }

        .selection-panel {
          height: calc(100vh - 200px);
          display: flex;
          flex-direction: column;
          padding: 0;
          overflow: hidden;
        }

        .search-box {
          padding: var(--spacing-md);
          border-bottom: 1px solid var(--color-border);
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
        }

        .search-input {
          border: none;
          outline: none;
          width: 100%;
          font-size: 0.95rem;
          background: transparent;
          color: var(--color-text);
        }

        .product-list-compact {
          flex: 1;
          overflow-y: auto;
        }

        .product-item-compact {
          padding: var(--spacing-md);
          border-bottom: 1px solid var(--color-border);
          cursor: pointer;
          display: flex;
          justify-content: space-between;
          align-items: center;
          transition: background-color 0.2s;
        }

        .product-item-compact:hover {
          background-color: var(--color-background);
        }

        .product-item-compact.active {
          background-color: #e0e7ff; /* Light indigo */
          border-left: 4px solid var(--color-primary);
        }

        /* Dark mode adjustment for active item */
        @media (prefers-color-scheme: dark) {
          .product-item-compact.active {
            background-color: rgba(99, 102, 241, 0.2);
          }
        }

        .product-info {
          display: flex;
          flex-direction: column;
        }

        .product-name {
          font-weight: 500;
          color: var(--color-text);
        }

        .product-sku {
          font-size: 0.8rem;
          color: var(--color-text-muted);
        }

        .preview-panel {
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 400px;
          background-color: var(--color-background); /* Use theme background for preview area */
          border-radius: var(--radius-lg);
          border: 2px dashed var(--color-border);
        }

        .preview-content {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--spacing-xl);
        }

        /* LABEL STYLES - FORCED HIGH CONTRAST */
        .label-container {
          display: flex;
          flex-direction: row; /* Horizontal Layout */
          align-items: center;
          background-color: white !important; /* Force white background */
          color: black !important; /* Force black text */
          padding: 1.5rem;
          border: 2px solid black;
          border-radius: 8px;
          gap: 1.5rem;
          width: 400px;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .qr-code-wrapper {
          flex-shrink: 0;
        }

        .label-details {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
          overflow: hidden;
        }

        .label-product-name {
          font-size: 1.25rem;
          font-weight: 700;
          line-height: 1.2;
          margin: 0;
          color: black !important;
        }

        .label-meta {
          display: flex;
          flex-direction: column;
          font-size: 0.85rem;
          color: #374151 !important; /* Dark gray for meta */
        }

        .label-sku {
          font-family: monospace;
          font-weight: 600;
        }

        .label-price {
          font-size: 1.5rem;
          font-weight: 800;
          color: black !important;
          margin-top: 0.25rem;
        }

        .action-buttons {
          display: flex;
          gap: var(--spacing-md);
        }

        .empty-preview {
          text-align: center;
          color: var(--color-text-muted);
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--spacing-md);
        }

        .help-text {
          font-size: 0.8rem;
          color: var(--color-text-muted);
        }

        @media (max-width: 768px) {
          .qr-layout {
            grid-template-columns: 1fr;
          }
          
          .selection-panel {
            height: 300px;
          }
        }

        @media print {
          .no-print { display: none !important; }
          .page-container { padding: 0; }
          .qr-layout { display: block; }
          .preview-panel { border: none; background: white; }
          
          .label-container {
            border: 1px solid black;
            box-shadow: none;
            page-break-inside: avoid;
          }
        }
      `})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Hl(t){return t+.5|0}const ri=(t,e,r)=>Math.max(Math.min(t,r),e);function Fa(t){return ri(Hl(t*2.55),0,255)}function pi(t){return ri(Hl(t*255),0,255)}function mA(t){return ri(Hl(t/2.55)/100,0,1)}function KB(t){return ri(Hl(t*100),0,100)}const dn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fg=[..."0123456789ABCDEF"],gM=t=>Fg[t&15],pM=t=>Fg[(t&240)>>4]+Fg[t&15],Zc=t=>(t&240)>>4===(t&15),wM=t=>Zc(t.r)&&Zc(t.g)&&Zc(t.b)&&Zc(t.a);function mM(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&dn[t[1]]*17,g:255&dn[t[2]]*17,b:255&dn[t[3]]*17,a:e===5?dn[t[4]]*17:255}:(e===7||e===9)&&(r={r:dn[t[1]]<<4|dn[t[2]],g:dn[t[3]]<<4|dn[t[4]],b:dn[t[5]]<<4|dn[t[6]],a:e===9?dn[t[7]]<<4|dn[t[8]]:255})),r}const BM=(t,e)=>t<255?e(t):"";function xM(t){var e=wM(t)?gM:pM;return t?"#"+e(t.r)+e(t.g)+e(t.b)+BM(t.a,e):void 0}const yM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function JE(t,e,r){const n=e*Math.min(r,1-r),A=(i,o=(i+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[A(0),A(8),A(4)]}function CM(t,e,r){const n=(A,i=(A+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function vM(t,e,r){const n=JE(t,1,.5);let A;for(e+r>1&&(A=1/(e+r),e*=A,r*=A),A=0;A<3;A++)n[A]*=1-e-r,n[A]+=e;return n}function EM(t,e,r,n,A){return t===A?(e-r)/n+(e<r?6:0):e===A?(r-t)/n+2:(t-e)/n+4}function tp(t){const r=t.r/255,n=t.g/255,A=t.b/255,i=Math.max(r,n,A),o=Math.min(r,n,A),c=(i+o)/2;let u,d,p;return i!==o&&(p=i-o,d=c>.5?p/(2-i-o):p/(i+o),u=EM(r,n,A,p,i),u=u*60+.5),[u|0,d||0,c]}function rp(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(pi)}function np(t,e,r){return rp(JE,t,e,r)}function bM(t,e,r){return rp(vM,t,e,r)}function _M(t,e,r){return rp(CM,t,e,r)}function ZE(t){return(t%360+360)%360}function IM(t){const e=yM.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Fa(+e[5]):pi(+e[5]));const A=ZE(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=bM(A,i,o):e[1]==="hsv"?n=_M(A,i,o):n=np(A,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function SM(t,e){var r=tp(t);r[0]=ZE(r[0]+e),r=np(r),t.r=r[0],t.g=r[1],t.b=r[2]}function FM(t){if(!t)return;const e=tp(t),r=e[0],n=KB(e[1]),A=KB(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${A}%, ${mA(t.a)})`:`hsl(${r}, ${n}%, ${A}%)`}const VB={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zB={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function TM(){const t={},e=Object.keys(zB),r=Object.keys(VB);let n,A,i,o,c;for(n=0;n<e.length;n++){for(o=c=e[n],A=0;A<r.length;A++)i=r[A],c=c.replace(i,VB[i]);i=parseInt(zB[o],16),t[c]=[i>>16&255,i>>8&255,i&255]}return t}let qc;function UM(t){qc||(qc=TM(),qc.transparent=[0,0,0,0]);const e=qc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const QM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function OM(t){const e=QM.exec(t);let r=255,n,A,i;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?Fa(o):ri(o*255,0,255)}return n=+e[1],A=+e[3],i=+e[5],n=255&(e[2]?Fa(n):ri(n,0,255)),A=255&(e[4]?Fa(A):ri(A,0,255)),i=255&(e[6]?Fa(i):ri(i,0,255)),{r:n,g:A,b:i,a:r}}}function NM(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${mA(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Rf=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Hs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function RM(t,e,r){const n=Hs(mA(t.r)),A=Hs(mA(t.g)),i=Hs(mA(t.b));return{r:pi(Rf(n+r*(Hs(mA(e.r))-n))),g:pi(Rf(A+r*(Hs(mA(e.g))-A))),b:pi(Rf(i+r*(Hs(mA(e.b))-i))),a:t.a+r*(e.a-t.a)}}function $c(t,e,r){if(t){let n=tp(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=np(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function qE(t,e){return t&&Object.assign(e||{},t)}function GB(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=pi(t[3]))):(e=qE(t,{r:0,g:0,b:0,a:1}),e.a=pi(e.a)),e}function MM(t){return t.charAt(0)==="r"?OM(t):IM(t)}class bl{constructor(e){if(e instanceof bl)return e;const r=typeof e;let n;r==="object"?n=GB(e):r==="string"&&(n=mM(e)||UM(e)||MM(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=qE(this._rgb);return e&&(e.a=mA(e.a)),e}set rgb(e){this._rgb=GB(e)}rgbString(){return this._valid?NM(this._rgb):void 0}hexString(){return this._valid?xM(this._rgb):void 0}hslString(){return this._valid?FM(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,A=e.rgb;let i;const o=r===i?.5:r,c=2*o-1,u=n.a-A.a,d=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;i=1-d,n.r=255&d*n.r+i*A.r+.5,n.g=255&d*n.g+i*A.g+.5,n.b=255&d*n.b+i*A.b+.5,n.a=o*n.a+(1-o)*A.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=RM(this._rgb,e._rgb,r)),this}clone(){return new bl(this.rgb)}alpha(e){return this._rgb.a=pi(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Hl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $c(this._rgb,2,e),this}darken(e){return $c(this._rgb,2,-e),this}saturate(e){return $c(this._rgb,1,e),this}desaturate(e){return $c(this._rgb,1,-e),this}rotate(e){return SM(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function hA(){}const DM=(()=>{let t=0;return()=>t++})();function rt(t){return t==null}function zt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function He(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function bn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function qn(t,e){return bn(t)?t:e}function Pe(t,e){return typeof t>"u"?e:t}const kM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ut(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Xe(t,e,r,n){let A,i,o;if(zt(t))for(i=t.length,A=0;A<i;A++)e.call(r,t[A],A);else if(He(t))for(o=Object.keys(t),i=o.length,A=0;A<i;A++)e.call(r,t[o[A]],o[A])}function Bh(t,e){let r,n,A,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(A=t[r],i=e[r],A.datasetIndex!==i.datasetIndex||A.index!==i.index)return!1;return!0}function xh(t){if(zt(t))return t.map(xh);if(He(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let A=0;for(;A<n;++A)e[r[A]]=xh(t[r[A]]);return e}return t}function $E(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function LM(t,e,r,n){if(!$E(t))return;const A=e[t],i=r[t];He(A)&&He(i)?_l(A,i,n):e[t]=xh(i)}function _l(t,e,r){const n=zt(e)?e:[e],A=n.length;if(!He(t))return t;r=r||{};const i=r.merger||LM;let o;for(let c=0;c<A;++c){if(o=n[c],!He(o))continue;const u=Object.keys(o);for(let d=0,p=u.length;d<p;++d)i(u[d],t,o,r)}return t}function Ya(t,e){return _l(t,e,{merger:PM})}function PM(t,e,r){if(!$E(t))return;const n=e[t],A=r[t];He(n)&&He(A)?Ya(n,A):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=xh(A))}const WB={"":t=>t,x:t=>t.x,y:t=>t.y};function HM(t){const e=t.split("."),r=[];let n="";for(const A of e)n+=A,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function jM(t){const e=HM(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Io(t,e){return(WB[e]||(WB[e]=jM(e)))(t)}function Ap(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Il=t=>typeof t<"u",vi=t=>typeof t=="function",XB=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function KM(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ht=Math.PI,_r=2*ht,yh=Number.POSITIVE_INFINITY,VM=ht/180,or=ht/2,ki=ht/4,YB=ht*2/3,eb=Math.log10,wi=Math.sign;function bu(t,e,r){return Math.abs(t-e)<r}function JB(t){const e=Math.round(t);t=bu(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(eb(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function zM(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((A,i)=>A-i).pop(),e}function GM(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ch(t){return!GM(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function WM(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function XM(t,e,r){let n,A,i;for(n=0,A=t.length;n<A;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ts(t){return t*(ht/180)}function YM(t){return t*(180/ht)}function ZB(t){if(!bn(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function tb(t,e){const r=e.x-t.x,n=e.y-t.y,A=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*ht&&(i+=_r),{angle:i,distance:A}}function JM(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function nA(t){return(t%_r+_r)%_r}function rb(t,e,r,n){const A=nA(t),i=nA(e),o=nA(r),c=nA(i-A),u=nA(o-A),d=nA(A-i),p=nA(A-o);return A===i||A===o||n&&i===o||c>u&&d<p}function Kr(t,e,r){return Math.max(e,Math.min(r,t))}function ZM(t){return Kr(t,-32768,32767)}function rs(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function ip(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,A=0,i;for(;n-A>1;)i=A+n>>1,r(i)?A=i:n=i;return{lo:A,hi:n}}const Tg=(t,e,r,n)=>ip(t,r,n?A=>{const i=t[A][e];return i<r||i===r&&t[A+1][e]===r}:A=>t[A][e]<r),qM=(t,e,r)=>ip(t,r,n=>t[n][e]>=r);function $M(t,e,r){let n=0,A=t.length;for(;n<A&&t[n]<e;)n++;for(;A>n&&t[A-1]>r;)A--;return n>0||A<t.length?t.slice(n,A):t}const nb=["push","pop","shift","splice","unshift"];function eD(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),nb.forEach(r=>{const n="_onData"+Ap(r),A=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=A.apply(this,i);return t._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...i)}),o}})})}function qB(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,A=n.indexOf(e);A!==-1&&n.splice(A,1),!(n.length>0)&&(nb.forEach(i=>{delete t[i]}),delete t._chartjs)}function Ab(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ib=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function sb(t,e){let r=[],n=!1;return function(...A){r=A,n||(n=!0,ib.call(window,()=>{n=!1,t.apply(e,r)}))}}function tD(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const sp=t=>t==="start"?"left":t==="end"?"right":"center",gr=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,rD=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e,eu=t=>t===0||t===1,$B=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*_r/r)),ex=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*_r/r)+1,Ja={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*or)+1,easeOutSine:t=>Math.sin(t*or),easeInOutSine:t=>-.5*(Math.cos(ht*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>eu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>eu(t)?t:$B(t,.075,.3),easeOutElastic:t=>eu(t)?t:ex(t,.075,.3),easeInOutElastic(t){return eu(t)?t:t<.5?.5*$B(t*2,.1125,.45):.5+.5*ex(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ja.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ja.easeInBounce(t*2)*.5:Ja.easeOutBounce(t*2-1)*.5+.5};function ob(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function tx(t){return ob(t)?t:new bl(t)}function Mf(t){return ob(t)?t:new bl(t).saturate(.5).darken(.1).hexString()}const nD=["x","y","borderWidth","radius","tension"],AD=["color","borderColor","backgroundColor"];function iD(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:AD},numbers:{type:"number",properties:nD}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function sD(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const rx=new Map;function oD(t,e){e=e||{};const r=t+JSON.stringify(e);let n=rx.get(r);return n||(n=new Intl.NumberFormat(t,e),rx.set(r,n)),n}function ab(t,e,r){return oD(e,r).format(t)}const aD={values(t){return zt(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let A,i=t;if(r.length>1){const d=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(d<1e-4||d>1e15)&&(A="scientific"),i=lD(t,r)}const o=eb(Math.abs(i)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:A,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),ab(t,n,u)}};function lD(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var lb={formatters:aD};function cD(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const fs=Object.create(null),Ug=Object.create(null);function Za(t,e){if(!e)return t;const r=e.split(".");for(let n=0,A=r.length;n<A;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function Df(t,e,r){return typeof e=="string"?_l(Za(t,e),r):_l(Za(t,""),e)}class uD{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,A)=>Mf(A.backgroundColor),this.hoverBorderColor=(n,A)=>Mf(A.borderColor),this.hoverColor=(n,A)=>Mf(A.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return Df(this,e,r)}get(e){return Za(this,e)}describe(e,r){return Df(Ug,e,r)}override(e,r){return Df(fs,e,r)}route(e,r,n,A){const i=Za(this,e),o=Za(this,n),c="_"+r;Object.defineProperties(i,{[c]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const u=this[c],d=o[A];return He(u)?Object.assign({},d,u):Pe(u,d)},set(u){this[c]=u}}})}apply(e){e.forEach(r=>r(this))}}var Ot=new uD({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[iD,sD,cD]);function hD(t){return!t||rt(t.size)||rt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function nx(t,e,r,n,A){let i=e[A];return i||(i=e[A]=t.measureText(A).width,r.push(A)),i>n&&(n=i),n}function Li(t,e,r){const n=t.currentDevicePixelRatio,A=r!==0?Math.max(r/2,.5):0;return Math.round((e-A)*n)/n+A}function Ax(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ix(t,e,r,n){cb(t,e,r,n,null)}function cb(t,e,r,n,A){let i,o,c,u,d,p,m,x;const C=e.pointStyle,E=e.rotation,v=e.radius;let F=(E||0)*VM;if(C&&typeof C=="object"&&(i=C.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(F),t.drawImage(C,-C.width/2,-C.height/2,C.width,C.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),C){default:A?t.ellipse(r,n,A/2,v,0,0,_r):t.arc(r,n,v,0,_r),t.closePath();break;case"triangle":p=A?A/2:v,t.moveTo(r+Math.sin(F)*p,n-Math.cos(F)*v),F+=YB,t.lineTo(r+Math.sin(F)*p,n-Math.cos(F)*v),F+=YB,t.lineTo(r+Math.sin(F)*p,n-Math.cos(F)*v),t.closePath();break;case"rectRounded":d=v*.516,u=v-d,o=Math.cos(F+ki)*u,m=Math.cos(F+ki)*(A?A/2-d:u),c=Math.sin(F+ki)*u,x=Math.sin(F+ki)*(A?A/2-d:u),t.arc(r-m,n-c,d,F-ht,F-or),t.arc(r+x,n-o,d,F-or,F),t.arc(r+m,n+c,d,F,F+or),t.arc(r-x,n+o,d,F+or,F+ht),t.closePath();break;case"rect":if(!E){u=Math.SQRT1_2*v,p=A?A/2:u,t.rect(r-p,n-u,2*p,2*u);break}F+=ki;case"rectRot":m=Math.cos(F)*(A?A/2:v),o=Math.cos(F)*v,c=Math.sin(F)*v,x=Math.sin(F)*(A?A/2:v),t.moveTo(r-m,n-c),t.lineTo(r+x,n-o),t.lineTo(r+m,n+c),t.lineTo(r-x,n+o),t.closePath();break;case"crossRot":F+=ki;case"cross":m=Math.cos(F)*(A?A/2:v),o=Math.cos(F)*v,c=Math.sin(F)*v,x=Math.sin(F)*(A?A/2:v),t.moveTo(r-m,n-c),t.lineTo(r+m,n+c),t.moveTo(r+x,n-o),t.lineTo(r-x,n+o);break;case"star":m=Math.cos(F)*(A?A/2:v),o=Math.cos(F)*v,c=Math.sin(F)*v,x=Math.sin(F)*(A?A/2:v),t.moveTo(r-m,n-c),t.lineTo(r+m,n+c),t.moveTo(r+x,n-o),t.lineTo(r-x,n+o),F+=ki,m=Math.cos(F)*(A?A/2:v),o=Math.cos(F)*v,c=Math.sin(F)*v,x=Math.sin(F)*(A?A/2:v),t.moveTo(r-m,n-c),t.lineTo(r+m,n+c),t.moveTo(r+x,n-o),t.lineTo(r-x,n+o);break;case"line":o=A?A/2:Math.cos(F)*v,c=Math.sin(F)*v,t.moveTo(r-o,n-c),t.lineTo(r+o,n+c);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(F)*(A?A/2:v),n+Math.sin(F)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ub(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function op(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ap(t){t.restore()}function dD(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),rt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function fD(t,e,r,n,A){if(A.strikethrough||A.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,c=e+i.actualBoundingBoxRight,u=r-i.actualBoundingBoxAscent,d=r+i.actualBoundingBoxDescent,p=A.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=A.decorationWidth||2,t.moveTo(o,p),t.lineTo(c,p),t.stroke()}}function gD(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Sl(t,e,r,n,A,i={}){const o=zt(e)?e:[e],c=i.strokeWidth>0&&i.strokeColor!=="";let u,d;for(t.save(),t.font=A.string,dD(t,i),u=0;u<o.length;++u)d=o[u],i.backdrop&&gD(t,i.backdrop),c&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),rt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,r,n,i.maxWidth)),t.fillText(d,r,n,i.maxWidth),fD(t,r,n,d,i),n+=Number(A.lineHeight);t.restore()}function vh(t,e){const{x:r,y:n,w:A,h:i,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*ht,ht,!0),t.lineTo(r,n+i-o.bottomLeft),t.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,ht,or,!0),t.lineTo(r+A-o.bottomRight,n+i),t.arc(r+A-o.bottomRight,n+i-o.bottomRight,o.bottomRight,or,0,!0),t.lineTo(r+A,n+o.topRight),t.arc(r+A-o.topRight,n+o.topRight,o.topRight,0,-or,!0),t.lineTo(r+o.topLeft,n)}const pD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,wD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mD(t,e){const r=(""+t).match(pD);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const BD=t=>+t||0;function lp(t,e){const r={},n=He(e),A=n?Object.keys(e):e,i=He(t)?n?o=>Pe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of A)r[o]=BD(i(o));return r}function hb(t){return lp(t,{top:"y",right:"x",bottom:"y",left:"x"})}function po(t){return lp(t,["topLeft","topRight","bottomLeft","bottomRight"])}function _n(t){const e=hb(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function mr(t,e){t=t||{},e=e||Ot.font;let r=Pe(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Pe(t.style,e.style);n&&!(""+n).match(wD)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const A={family:Pe(t.family,e.family),lineHeight:mD(Pe(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Pe(t.weight,e.weight),string:""};return A.string=hD(A),A}function tu(t,e,r,n){let A,i,o;for(A=0,i=t.length;A<i;++A)if(o=t[A],o!==void 0&&o!==void 0)return o}function xD(t,e,r){const{min:n,max:A}=t,i=kM(e,(A-n)/2),o=(c,u)=>r&&c===0?0:c+u;return{min:o(n,-Math.abs(i)),max:o(A,i)}}function ko(t,e){return Object.assign(Object.create(t),e)}function cp(t,e=[""],r,n,A=()=>t[0]){const i=r||t;typeof n>"u"&&(n=pb("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:A,override:c=>cp([c,...t],e,i,n)};return new Proxy(o,{deleteProperty(c,u){return delete c[u],delete c._keys,delete t[0][u],!0},get(c,u){return fb(c,u,()=>SD(u,e,t,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,u){return ox(c).includes(u)},ownKeys(c){return ox(c)},set(c,u,d){const p=c._storage||(c._storage=A());return c[u]=p[u]=d,delete c._keys,!0}})}function So(t,e,r,n){const A={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:db(t,n),setContext:i=>So(t,i,r,n),override:i=>So(t.override(i),e,r,n)};return new Proxy(A,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,c){return fb(i,o,()=>CD(i,o,c))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,c){return t[o]=c,delete i[o],!0}})}function db(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:A=e.allKeys}=t;return{allKeys:A,scriptable:r,indexable:n,isScriptable:vi(r)?r:()=>r,isIndexable:vi(n)?n:()=>n}}const yD=(t,e)=>t?t+Ap(e):e,up=(t,e)=>He(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function fb(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function CD(t,e,r){const{_proxy:n,_context:A,_subProxy:i,_descriptors:o}=t;let c=n[e];return vi(c)&&o.isScriptable(e)&&(c=vD(e,c,t,r)),zt(c)&&c.length&&(c=ED(e,c,t,o.isIndexable)),up(e,c)&&(c=So(c,A,i&&i[e],o)),c}function vD(t,e,r,n){const{_proxy:A,_context:i,_subProxy:o,_stack:c}=r;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=e(i,o||n);return c.delete(t),up(t,u)&&(u=hp(A._scopes,A,t,u)),u}function ED(t,e,r,n){const{_proxy:A,_context:i,_subProxy:o,_descriptors:c}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(He(e[0])){const u=e,d=A._scopes.filter(p=>p!==u);e=[];for(const p of u){const m=hp(d,A,t,p);e.push(So(m,i,o&&o[t],c))}}return e}function gb(t,e,r){return vi(t)?t(e,r):t}const bD=(t,e)=>t===!0?e:typeof t=="string"?Io(e,t):void 0;function _D(t,e,r,n,A){for(const i of e){const o=bD(r,i);if(o){t.add(o);const c=gb(o._fallback,r,A);if(typeof c<"u"&&c!==r&&c!==n)return c}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function hp(t,e,r,n){const A=e._rootScopes,i=gb(e._fallback,r,n),o=[...t,...A],c=new Set;c.add(n);let u=sx(c,o,r,i||r,n);return u===null||typeof i<"u"&&i!==r&&(u=sx(c,o,i,u,n),u===null)?!1:cp(Array.from(c),[""],A,i,()=>ID(e,r,n))}function sx(t,e,r,n,A){for(;r;)r=_D(t,e,r,n,A);return r}function ID(t,e,r){const n=t._getTarget();e in n||(n[e]={});const A=n[e];return zt(A)&&He(r)?r:A||{}}function SD(t,e,r,n){let A;for(const i of e)if(A=pb(yD(i,t),r),typeof A<"u")return up(t,A)?hp(r,n,t,A):A}function pb(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function ox(t){let e=t._keys;return e||(e=t._keys=FD(t._scopes)),e}function FD(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(A=>!A.startsWith("_")))e.add(n);return Array.from(e)}function dp(){return typeof window<"u"&&typeof document<"u"}function fp(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Eh(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const od=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function TD(t,e){return od(t).getPropertyValue(e)}const UD=["top","right","bottom","left"];function os(t,e,r){const n={};r=r?"-"+r:"";for(let A=0;A<4;A++){const i=UD[A];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const QD=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function OD(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:A,offsetY:i}=n;let o=!1,c,u;if(QD(A,i,t.target))c=A,u=i;else{const d=e.getBoundingClientRect();c=n.clientX-d.left,u=n.clientY-d.top,o=!0}return{x:c,y:u,box:o}}function Vi(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,A=od(r),i=A.boxSizing==="border-box",o=os(A,"padding"),c=os(A,"border","width"),{x:u,y:d,box:p}=OD(t,r),m=o.left+(p&&c.left),x=o.top+(p&&c.top);let{width:C,height:E}=e;return i&&(C-=o.width+c.width,E-=o.height+c.height),{x:Math.round((u-m)/C*r.width/n),y:Math.round((d-x)/E*r.height/n)}}function ND(t,e,r){let n,A;if(e===void 0||r===void 0){const i=t&&fp(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),c=od(i),u=os(c,"border","width"),d=os(c,"padding");e=o.width-d.width-u.width,r=o.height-d.height-u.height,n=Eh(c.maxWidth,i,"clientWidth"),A=Eh(c.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||yh,maxHeight:A||yh}}const ni=t=>Math.round(t*10)/10;function RD(t,e,r,n){const A=od(t),i=os(A,"margin"),o=Eh(A.maxWidth,t,"clientWidth")||yh,c=Eh(A.maxHeight,t,"clientHeight")||yh,u=ND(t,e,r);let{width:d,height:p}=u;if(A.boxSizing==="content-box"){const x=os(A,"border","width"),C=os(A,"padding");d-=C.width+x.width,p-=C.height+x.height}return d=Math.max(0,d-i.width),p=Math.max(0,n?d/n:p-i.height),d=ni(Math.min(d,o,u.maxWidth)),p=ni(Math.min(p,c,u.maxHeight)),d&&!p&&(p=ni(d/2)),(e!==void 0||r!==void 0)&&n&&u.height&&p>u.height&&(p=u.height,d=ni(Math.floor(p*n))),{width:d,height:p}}function ax(t,e,r){const n=e||1,A=ni(t.height*n),i=ni(t.width*n);t.height=ni(t.height),t.width=ni(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==A||o.width!==i?(t.currentDevicePixelRatio=n,o.height=A,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const MD=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};dp()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function lx(t,e){const r=TD(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const DD=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},kD=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function wo(t,e,r){return t?DD(e,r):kD()}function wb(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function mb(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ru(t,e,r){return t.options.clip?t[r]:e[r]}function LD(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:ru(r,e,"left"),right:ru(r,e,"right"),top:ru(n,e,"top"),bottom:ru(n,e,"bottom")}:e}function PD(t,e){const r=e._clip;if(r.disabled)return!1;const n=LD(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class HD{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,A){const i=r.listeners[A],o=r.duration;i.forEach(c=>c({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ib.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,A)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,c=!1,u;for(;o>=0;--o)u=i[o],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(e),c=!0):(i[o]=i[i.length-1],i.pop());c&&(A.draw(),this._notify(A,n,e,"progress")),i.length||(n.running=!1,this._notify(A,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,A)=>Math.max(n,A._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let A=n.length-1;for(;A>=0;--A)n[A].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var dA=new HD;const cx="transparent",jD={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=tx(t||cx),A=n.valid&&tx(e||cx);return A&&A.valid?A.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class KD{constructor(e,r,n,A){const i=r[n];A=tu([e.to,A,i,e.from]);const o=tu([e.from,i,A]);this._active=!0,this._fn=e.fn||jD[e.type||typeof o],this._easing=Ja[e.easing]||Ja.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=A,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const A=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=tu([e.to,r,A,e.from]),this._from=tu([e.from,A,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,A=this._prop,i=this._from,o=this._loop,c=this._to;let u;if(this._active=i!==c&&(o||r<n),!this._active){this._target[A]=c,this._notify(!0);return}if(r<0){this._target[A]=i;return}u=r/n%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[A]=this._fn(i,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let A=0;A<n.length;A++)n[A][r]()}}class Bb{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!He(e))return;const r=Object.keys(Ot.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(A=>{const i=e[A];if(!He(i))return;const o={};for(const c of r)o[c]=i[c];(zt(i.properties)&&i.properties||[A]).forEach(c=>{(c===A||!n.has(c))&&n.set(c,o)})})}_animateOptions(e,r){const n=r.options,A=zD(e,n);if(!A)return[];const i=this._createAnimations(A,n);return n.$shared&&VD(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,A=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),c=Date.now();let u;for(u=o.length-1;u>=0;--u){const d=o[u];if(d.charAt(0)==="$")continue;if(d==="options"){A.push(...this._animateOptions(e,r));continue}const p=r[d];let m=i[d];const x=n.get(d);if(m)if(x&&m.active()){m.update(x,p,c);continue}else m.cancel();if(!x||!x.duration){e[d]=p;continue}i[d]=m=new KD(x,e,d,p),A.push(m)}return A}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return dA.add(this._chart,n),!0}}function VD(t,e){const r=[],n=Object.keys(e);for(let A=0;A<n.length;A++){const i=t[n[A]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function zD(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function ux(t,e){const r=t&&t.options||{},n=r.reverse,A=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:A,end:n?A:i}}function GD(t,e,r){if(r===!1)return!1;const n=ux(t,r),A=ux(e,r);return{top:A.end,right:n.end,bottom:A.start,left:n.start}}function WD(t){let e,r,n,A;return He(t)?(e=t.top,r=t.right,n=t.bottom,A=t.left):e=r=n=A=t,{top:e,right:r,bottom:n,left:A,disabled:t===!1}}function xb(t,e){const r=[],n=t._getSortedDatasetMetas(e);let A,i;for(A=0,i=n.length;A<i;++A)r.push(n[A].index);return r}function hx(t,e,r,n={}){const A=t.keys,i=n.mode==="single";let o,c,u,d;if(e===null)return;let p=!1;for(o=0,c=A.length;o<c;++o){if(u=+A[o],u===r){if(p=!0,n.all)continue;break}d=t.values[u],bn(d)&&(i||e===0||wi(e)===wi(d))&&(e+=d)}return!p&&!n.all?0:e}function XD(t,e){const{iScale:r,vScale:n}=e,A=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),c=new Array(o.length);let u,d,p;for(u=0,d=o.length;u<d;++u)p=o[u],c[u]={[A]:p,[i]:t[p]};return c}function kf(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function YD(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function JD(t){const{min:e,max:r,minDefined:n,maxDefined:A}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:A?r:Number.POSITIVE_INFINITY}}function ZD(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function dx(t,e,r,n){for(const A of e.getMatchingVisibleMetas(n).reverse()){const i=t[A.index];if(r&&i>0||!r&&i<0)return A.index}return null}function fx(t,e){const{chart:r,_cachedMeta:n}=t,A=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:c}=n,u=i.axis,d=o.axis,p=YD(i,o,n),m=e.length;let x;for(let C=0;C<m;++C){const E=e[C],{[u]:v,[d]:F}=E,S=E._stacks||(E._stacks={});x=S[d]=ZD(A,p,v),x[c]=F,x._top=dx(x,o,!0,n.type),x._bottom=dx(x,o,!1,n.type);const I=x._visualValues||(x._visualValues={});I[c]=F}}function Lf(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function qD(t,e){return ko(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function $D(t,e,r){return ko(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function ua(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const A of e){const i=A._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const Pf=t=>t==="reset"||t==="none",gx=(t,e)=>e?t:Object.assign({},t),ek=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:xb(r,!0),values:null};class qa{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=kf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ua(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),A=(m,x,C,E)=>m==="x"?x:m==="r"?E:C,i=r.xAxisID=Pe(n.xAxisID,Lf(e,"x")),o=r.yAxisID=Pe(n.yAxisID,Lf(e,"y")),c=r.rAxisID=Pe(n.rAxisID,Lf(e,"r")),u=r.indexAxis,d=r.iAxisID=A(u,i,o,c),p=r.vAxisID=A(u,o,i,c);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&qB(this._data,this),e._stacked&&ua(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(He(r)){const A=this._cachedMeta;this._data=XD(r,A)}else if(n!==r){if(n){qB(n,this);const A=this._cachedMeta;ua(A),A._parsed=[]}r&&Object.isExtensible(r)&&eD(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let A=!1;this._dataCheck();const i=r._stacked;r._stacked=kf(r.vScale,r),r.stack!==n.stack&&(A=!0,ua(r),r.stack=n.stack),this._resyncElements(e),(A||i!==r._stacked)&&(fx(this,r._parsed),r._stacked=kf(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:A}=this,{iScale:i,_stacked:o}=n,c=i.axis;let u=e===0&&r===A.length?!0:n._sorted,d=e>0&&n._parsed[e-1],p,m,x;if(this._parsing===!1)n._parsed=A,n._sorted=!0,x=A;else{zt(A[e])?x=this.parseArrayData(n,A,e,r):He(A[e])?x=this.parseObjectData(n,A,e,r):x=this.parsePrimitiveData(n,A,e,r);const C=()=>m[c]===null||d&&m[c]<d[c];for(p=0;p<r;++p)n._parsed[p+e]=m=x[p],u&&(C()&&(u=!1),d=m);n._sorted=u}o&&fx(this,x)}parsePrimitiveData(e,r,n,A){const{iScale:i,vScale:o}=e,c=i.axis,u=o.axis,d=i.getLabels(),p=i===o,m=new Array(A);let x,C,E;for(x=0,C=A;x<C;++x)E=x+n,m[x]={[c]:p||i.parse(d[E],E),[u]:o.parse(r[E],E)};return m}parseArrayData(e,r,n,A){const{xScale:i,yScale:o}=e,c=new Array(A);let u,d,p,m;for(u=0,d=A;u<d;++u)p=u+n,m=r[p],c[u]={x:i.parse(m[0],p),y:o.parse(m[1],p)};return c}parseObjectData(e,r,n,A){const{xScale:i,yScale:o}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=new Array(A);let p,m,x,C;for(p=0,m=A;p<m;++p)x=p+n,C=r[x],d[p]={x:i.parse(Io(C,c),x),y:o.parse(Io(C,u),x)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const A=this.chart,i=this._cachedMeta,o=r[e.axis],c={keys:xb(A,!0),values:r._stacks[e.axis]._visualValues};return hx(c,o,i.index,{mode:n})}updateRangeFromParsed(e,r,n,A){const i=n[r.axis];let o=i===null?NaN:i;const c=A&&n._stacks[r.axis];A&&c&&(A.values=c,o=hx(A,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,A=n._parsed,i=n._sorted&&e===n.iScale,o=A.length,c=this._getOtherScale(e),u=ek(r,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=JD(c);let x,C;function E(){C=A[x];const v=C[c.axis];return!bn(C[e.axis])||p>v||m<v}for(x=0;x<o&&!(!E()&&(this.updateRangeFromParsed(d,e,C,u),i));++x);if(i){for(x=o-1;x>=0;--x)if(!E()){this.updateRangeFromParsed(d,e,C,u);break}}return d}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let A,i,o;for(A=0,i=r.length;A<i;++A)o=r[A][e.axis],bn(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,A=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:A?""+A.getLabelForValue(i[A.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=WD(Pe(this.options.clip,GD(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,A=n.data||[],i=r.chartArea,o=[],c=this._drawStart||0,u=this._drawCount||A.length-c,d=this.options.drawActiveElementsOnTop;let p;for(n.dataset&&n.dataset.draw(e,i,c,u),p=c;p<c+u;++p){const m=A[p];m.hidden||(m.active&&d?o.push(m):m.draw(e,i))}for(p=0;p<o.length;++p)o[p].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const A=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=$D(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=A.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=qD(this.chart.getContext(),this.index)),i.dataset=A,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const A=r==="active",i=this._cachedDataOpts,o=e+"-"+r,c=i[o],u=this.enableOptionSharing&&Il(n);if(c)return gx(c,u);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),m=A?[`${e}Hover`,"hover",e,""]:[e,""],x=d.getOptionScopes(this.getDataset(),p),C=Object.keys(Ot.elements[e]),E=()=>this.getContext(n,A,r),v=d.resolveNamedOptions(x,C,E,m);return v.$shared&&(v.$shared=u,i[o]=Object.freeze(gx(v,u))),v}_resolveAnimations(e,r,n){const A=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,c=i[o];if(c)return c;let u;if(A.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,r),x=p.getOptionScopes(this.getDataset(),m);u=p.createResolver(x,this.getContext(e,n,r))}const d=new Bb(A,u&&u.animations);return u&&u._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Pf(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),A=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==A;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(e,r,n,A){Pf(A)?Object.assign(e,n):this._resolveAnimations(r,A).update(e,n)}updateSharedOptions(e,r,n){e&&!Pf(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,A){e.active=A;const i=this.getStyle(r,A);this._resolveAnimations(r,n,A).update(e,{options:!A&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[c,u,d]of this._syncList)this[c](u,d);this._syncList=[];const A=n.length,i=r.length,o=Math.min(i,A);o&&this.parse(0,o),i>A?this._insertElements(A,i-A,e):i<A&&this._removeElements(i,A-i)}_insertElements(e,r,n=!0){const A=this._cachedMeta,i=A.data,o=e+r;let c;const u=d=>{for(d.length+=r,c=d.length-1;c>=o;c--)d[c]=d[c-r]};for(u(i),c=e;c<o;++c)i[c]=new this.dataElementType;this._parsing&&u(A._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,A){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const A=n._parsed.splice(e,r);n._stacked&&ua(n,A)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,A]=e;this[r](n,A)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ie(qa,"defaults",{}),Ie(qa,"datasetElementType",null),Ie(qa,"dataElementType",null);function tk(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let A=0,i=r.length;A<i;A++)n=n.concat(r[A].controller.getAllParsedValues(t));t._cache.$bar=Ab(n.sort((A,i)=>A-i))}return t._cache.$bar}function rk(t){const e=t.iScale,r=tk(e,t.type);let n=e._length,A,i,o,c;const u=()=>{o===32767||o===-32768||(Il(c)&&(n=Math.min(n,Math.abs(o-c)||n)),c=o)};for(A=0,i=r.length;A<i;++A)o=e.getPixelForValue(r[A]),u();for(c=void 0,A=0,i=e.ticks.length;A<i;++A)o=e.getPixelForTick(A),u();return n}function nk(t,e,r,n){const A=r.barThickness;let i,o;return rt(A)?(i=e.min*r.categoryPercentage,o=r.barPercentage):(i=A*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function Ak(t,e,r,n){const A=e.pixels,i=A[t];let o=t>0?A[t-1]:null,c=t<A.length-1?A[t+1]:null;const u=r.categoryPercentage;o===null&&(o=i-(c===null?e.end-e.start:c-i)),c===null&&(c=i+i-o);const d=i-(i-Math.min(o,c))/2*u;return{chunk:Math.abs(c-o)/2*u/n,ratio:r.barPercentage,start:d}}function ik(t,e,r,n){const A=r.parse(t[0],n),i=r.parse(t[1],n),o=Math.min(A,i),c=Math.max(A,i);let u=o,d=c;Math.abs(o)>Math.abs(c)&&(u=c,d=o),e[r.axis]=d,e._custom={barStart:u,barEnd:d,start:A,end:i,min:o,max:c}}function yb(t,e,r,n){return zt(t)?ik(t,e,r,n):e[r.axis]=r.parse(t,n),e}function px(t,e,r,n){const A=t.iScale,i=t.vScale,o=A.getLabels(),c=A===i,u=[];let d,p,m,x;for(d=r,p=r+n;d<p;++d)x=e[d],m={},m[A.axis]=c||A.parse(o[d],d),u.push(yb(x,m,i,d));return u}function Hf(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function sk(t,e,r){return t!==0?wi(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function ok(t){let e,r,n,A,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(A="end",i="start"):(A="start",i="end"),{start:r,end:n,reverse:e,top:A,bottom:i}}function ak(t,e,r,n){let A=e.borderSkipped;const i={};if(!A){t.borderSkipped=i;return}if(A===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:u,top:d,bottom:p}=ok(t);A==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?A=d:(r._bottom||0)===n?A=p:(i[wx(p,o,c,u)]=!0,A=d)),i[wx(A,o,c,u)]=!0,t.borderSkipped=i}function wx(t,e,r,n){return n?(t=lk(t,e,r),t=mx(t,r,e)):t=mx(t,e,r),t}function lk(t,e,r){return t===e?r:t===r?e:t}function mx(t,e,r){return t==="start"?e:t==="end"?r:t}function ck(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class _u extends qa{parsePrimitiveData(e,r,n,A){return px(e,r,n,A)}parseArrayData(e,r,n,A){return px(e,r,n,A)}parseObjectData(e,r,n,A){const{iScale:i,vScale:o}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=i.axis==="x"?c:u,p=o.axis==="x"?c:u,m=[];let x,C,E,v;for(x=n,C=n+A;x<C;++x)v=r[x],E={},E[i.axis]=i.parse(Io(v,d),x),m.push(yb(Io(v,p),E,o,x));return m}updateRangeFromParsed(e,r,n,A){super.updateRangeFromParsed(e,r,n,A);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:A}=r,i=this.getParsed(e),o=i._custom,c=Hf(o)?"["+o.start+", "+o.end+"]":""+A.getLabelForValue(i[A.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,A){const i=A==="reset",{index:o,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),d=c.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:x}=this._getSharedOptions(r,A);for(let C=r;C<r+n;C++){const E=this.getParsed(C),v=i||rt(E[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(C),F=this._calculateBarIndexPixels(C,p),S=(E._stacks||{})[c.axis],I={horizontal:d,base:v.base,enableBorderRadius:!S||Hf(E._custom)||o===S._top||o===S._bottom,x:d?v.head:F.center,y:d?F.center:v.head,height:d?F.size:Math.abs(v.size),width:d?Math.abs(v.size):F.size};x&&(I.options=m||this.resolveDataElementOptions(C,e[C].active?"active":A));const T=I.options||e[C].options;ak(I,T,S,o),ck(I,T,p.ratio),this.updateElement(e[C],C,I,A)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,A=n.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),i=n.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(r),u=c&&c[n.axis],d=p=>{const m=p._parsed.find(C=>C[n.axis]===u),x=m&&m[p.vScale.axis];if(rt(x)||isNaN(x))return!0};for(const p of A)if(!(r!==void 0&&d(p))&&((i===!1||o.indexOf(p.stack)===-1||i===void 0&&p.stack===void 0)&&o.push(p.stack),p.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Pe(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const A=this._getStacks(e,n),i=r!==void 0?A.indexOf(r):-1;return i===-1?A.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,A=[];let i,o;for(i=0,o=r.data.length;i<o;++i)A.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const c=e.barThickness;return{min:c||rk(r),pixels:A,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:A},options:{base:i,minBarLength:o}}=this,c=i||0,u=this.getParsed(e),d=u._custom,p=Hf(d);let m=u[r.axis],x=0,C=n?this.applyStack(r,u,n):m,E,v;C!==m&&(x=C-m,C=m),p&&(m=d.barStart,C=d.barEnd-d.barStart,m!==0&&wi(m)!==wi(d.barEnd)&&(x=0),x+=m);const F=!rt(i)&&!p?i:x;let S=r.getPixelForValue(F);if(this.chart.getDataVisibility(e)?E=r.getPixelForValue(x+C):E=S,v=E-S,Math.abs(v)<o){v=sk(v,r,c)*o,m===c&&(S-=v/2);const I=r.getPixelForDecimal(0),T=r.getPixelForDecimal(1),N=Math.min(I,T),L=Math.max(I,T);S=Math.max(Math.min(S,L),N),E=S+v,n&&!p&&(u._stacks[r.axis]._visualValues[A]=r.getValueForPixel(E)-r.getValueForPixel(S))}if(S===r.getPixelForValue(c)){const I=wi(v)*r.getLineWidthForValue(c)/2;S+=I,v-=I}return{size:v,base:S,head:E,center:E+v/2}}_calculateBarIndexPixels(e,r){const n=r.scale,A=this.options,i=A.skipNull,o=Pe(A.maxBarThickness,1/0);let c,u;const d=this._getAxisCount();if(r.grouped){const p=i?this._getStackCount(e):r.stackCount,m=A.barThickness==="flex"?Ak(e,r,A,p*d):nk(e,r,A,p*d),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,C=this._getAxis().indexOf(Pe(x,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+C;c=m.start+m.chunk*E+m.chunk/2,u=Math.min(o,m.chunk*m.ratio)}else c=n.getPixelForValue(this.getParsed(e)[n.axis],e),u=Math.min(o,r.min*r.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,A=n.length;let i=0;for(;i<A;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}Ie(_u,"id","bar"),Ie(_u,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ie(_u,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Pi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class gp{constructor(e){Ie(this,"options");this.options=e||{}}static override(e){Object.assign(gp.prototype,e)}init(){}formats(){return Pi()}parse(){return Pi()}format(){return Pi()}add(){return Pi()}diff(){return Pi()}startOf(){return Pi()}endOf(){return Pi()}}var uk={_date:gp};function hk(t,e,r,n){const{controller:A,data:i,_sorted:o}=t,c=A._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&i.length){const d=c._reversePixels?qM:Tg;if(n){if(A._sharedOptions){const p=i[0],m=typeof p.getRange=="function"&&p.getRange(e);if(m){const x=d(i,e,r-m),C=d(i,e,r+m);return{lo:x.lo,hi:C.hi}}}}else{const p=d(i,e,r);if(u){const{vScale:m}=A._cachedMeta,{_parsed:x}=t,C=x.slice(0,p.lo+1).reverse().findIndex(v=>!rt(v[m.axis]));p.lo-=Math.max(0,C);const E=x.slice(p.hi).findIndex(v=>!rt(v[m.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:i.length-1}}function ad(t,e,r,n,A){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let c=0,u=i.length;c<u;++c){const{index:d,data:p}=i[c],{lo:m,hi:x}=hk(i[c],e,o,A);for(let C=m;C<=x;++C){const E=p[C];E.skip||n(E,d,C)}}}function dk(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,A){const i=e?Math.abs(n.x-A.x):0,o=r?Math.abs(n.y-A.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function jf(t,e,r,n,A){const i=[];return!A&&!t.isPointInArea(e)||ad(t,r,e,function(c,u,d){!A&&!ub(c,t.chartArea,0)||c.inRange(e.x,e.y,n)&&i.push({element:c,datasetIndex:u,index:d})},!0),i}function fk(t,e,r,n){let A=[];function i(o,c,u){const{startAngle:d,endAngle:p}=o.getProps(["startAngle","endAngle"],n),{angle:m}=tb(o,{x:e.x,y:e.y});rb(m,d,p)&&A.push({element:o,datasetIndex:c,index:u})}return ad(t,r,e,i),A}function gk(t,e,r,n,A,i){let o=[];const c=dk(r);let u=Number.POSITIVE_INFINITY;function d(p,m,x){const C=p.inRange(e.x,e.y,A);if(n&&!C)return;const E=p.getCenterPoint(A);if(!(!!i||t.isPointInArea(E))&&!C)return;const F=c(e,E);F<u?(o=[{element:p,datasetIndex:m,index:x}],u=F):F===u&&o.push({element:p,datasetIndex:m,index:x})}return ad(t,r,e,d),o}function Kf(t,e,r,n,A,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?fk(t,e,r,A):gk(t,e,r,n,A,i)}function Bx(t,e,r,n,A){const i=[],o=r==="x"?"inXRange":"inYRange";let c=!1;return ad(t,r,e,(u,d,p)=>{u[o]&&u[o](e[r],A)&&(i.push({element:u,datasetIndex:d,index:p}),c=c||u.inRange(e.x,e.y,A))}),n&&!c?[]:i}var pk={modes:{index(t,e,r,n){const A=Vi(e,t),i=r.axis||"x",o=r.includeInvisible||!1,c=r.intersect?jf(t,A,i,n,o):Kf(t,A,i,!1,n,o),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const p=c[0].index,m=d.data[p];m&&!m.skip&&u.push({element:m,datasetIndex:d.index,index:p})}),u):[]},dataset(t,e,r,n){const A=Vi(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let c=r.intersect?jf(t,A,i,n,o):Kf(t,A,i,!1,n,o);if(c.length>0){const u=c[0].datasetIndex,d=t.getDatasetMeta(u).data;c=[];for(let p=0;p<d.length;++p)c.push({element:d[p],datasetIndex:u,index:p})}return c},point(t,e,r,n){const A=Vi(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return jf(t,A,i,n,o)},nearest(t,e,r,n){const A=Vi(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return Kf(t,A,i,r.intersect,n,o)},x(t,e,r,n){const A=Vi(e,t);return Bx(t,A,"x",r.intersect,n)},y(t,e,r,n){const A=Vi(e,t);return Bx(t,A,"y",r.intersect,n)}}};const Cb=["left","top","right","bottom"];function ha(t,e){return t.filter(r=>r.pos===e)}function xx(t,e){return t.filter(r=>Cb.indexOf(r.pos)===-1&&r.box.axis===e)}function da(t,e){return t.sort((r,n)=>{const A=e?n:r,i=e?r:n;return A.weight===i.weight?A.index-i.index:A.weight-i.weight})}function wk(t){const e=[];let r,n,A,i,o,c;for(r=0,n=(t||[]).length;r<n;++r)A=t[r],{position:i,options:{stack:o,stackWeight:c=1}}=A,e.push({index:r,box:A,pos:i,horizontal:A.isHorizontal(),weight:A.weight,stack:o&&i+o,stackWeight:c});return e}function mk(t){const e={};for(const r of t){const{stack:n,pos:A,stackWeight:i}=r;if(!n||!Cb.includes(A))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function Bk(t,e){const r=mk(t),{vBoxMaxWidth:n,hBoxMaxHeight:A}=e;let i,o,c;for(i=0,o=t.length;i<o;++i){c=t[i];const{fullSize:u}=c.box,d=r[c.stack],p=d&&c.stackWeight/d.weight;c.horizontal?(c.width=p?p*n:u&&e.availableWidth,c.height=A):(c.width=n,c.height=p?p*A:u&&e.availableHeight)}return r}function xk(t){const e=wk(t),r=da(e.filter(d=>d.box.fullSize),!0),n=da(ha(e,"left"),!0),A=da(ha(e,"right")),i=da(ha(e,"top"),!0),o=da(ha(e,"bottom")),c=xx(e,"x"),u=xx(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:A.concat(u).concat(o).concat(c),chartArea:ha(e,"chartArea"),vertical:n.concat(A).concat(u),horizontal:i.concat(o).concat(c)}}function yx(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function vb(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function yk(t,e,r,n){const{pos:A,box:i}=r,o=t.maxPadding;if(!He(A)){r.size&&(t[A]-=r.size);const m=n[r.stack]||{size:0,count:1};m.size=Math.max(m.size,r.horizontal?i.height:i.width),r.size=m.size/m.count,t[A]+=r.size}i.getPadding&&vb(o,i.getPadding());const c=Math.max(0,e.outerWidth-yx(o,t,"left","right")),u=Math.max(0,e.outerHeight-yx(o,t,"top","bottom")),d=c!==t.w,p=u!==t.h;return t.w=c,t.h=u,r.horizontal?{same:d,other:p}:{same:p,other:d}}function Ck(t){const e=t.maxPadding;function r(n){const A=Math.max(e[n]-t[n],0);return t[n]+=A,A}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function vk(t,e){const r=e.maxPadding;function n(A){const i={left:0,top:0,right:0,bottom:0};return A.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return n(t?["left","right"]:["top","bottom"])}function Ta(t,e,r,n){const A=[];let i,o,c,u,d,p;for(i=0,o=t.length,d=0;i<o;++i){c=t[i],u=c.box,u.update(c.width||e.w,c.height||e.h,vk(c.horizontal,e));const{same:m,other:x}=yk(e,r,c,n);d|=m&&A.length,p=p||x,u.fullSize||A.push(c)}return d&&Ta(A,e,r,n)||p}function nu(t,e,r,n,A){t.top=r,t.left=e,t.right=e+n,t.bottom=r+A,t.width=n,t.height=A}function Cx(t,e,r,n){const A=r.padding;let{x:i,y:o}=e;for(const c of t){const u=c.box,d=n[c.stack]||{placed:0,weight:1},p=c.stackWeight/d.weight||1;if(c.horizontal){const m=e.w*p,x=d.size||u.height;Il(d.start)&&(o=d.start),u.fullSize?nu(u,A.left,o,r.outerWidth-A.right-A.left,x):nu(u,e.left+d.placed,o,m,x),d.start=o,d.placed+=m,o=u.bottom}else{const m=e.h*p,x=d.size||u.width;Il(d.start)&&(i=d.start),u.fullSize?nu(u,i,A.top,x,r.outerHeight-A.bottom-A.top):nu(u,i,e.top+d.placed,x,m),d.start=i,d.placed+=m,i=u.right}}e.x=i,e.y=o}var yn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const A=_n(t.options.layout.padding),i=Math.max(e-A.width,0),o=Math.max(r-A.height,0),c=xk(t.boxes),u=c.vertical,d=c.horizontal;Xe(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const p=u.reduce((v,F)=>F.box.options&&F.box.options.display===!1?v:v+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:r,padding:A,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/p,hBoxMaxHeight:o/2}),x=Object.assign({},A);vb(x,_n(n));const C=Object.assign({maxPadding:x,w:i,h:o,x:A.left,y:A.top},A),E=Bk(u.concat(d),m);Ta(c.fullSize,C,m,E),Ta(u,C,m,E),Ta(d,C,m,E)&&Ta(u,C,m,E),Ck(C),Cx(c.leftAndTop,C,m,E),C.x+=C.w,C.y+=C.h,Cx(c.rightAndBottom,C,m,E),t.chartArea={left:C.left,top:C.top,right:C.left+C.w,bottom:C.top+C.h,height:C.h,width:C.w},Xe(c.chartArea,v=>{const F=v.box;Object.assign(F,t.chartArea),F.update(C.w,C.h,{left:0,top:0,right:0,bottom:0})})}};class Eb{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,A){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,A?Math.floor(r/A):n)}}isAttached(e){return!0}updateConfig(e){}}class Ek extends Eb{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Iu="$chartjs",bk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vx=t=>t===null||t==="";function _k(t,e){const r=t.style,n=t.getAttribute("height"),A=t.getAttribute("width");if(t[Iu]={initial:{height:n,width:A,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",vx(A)){const i=lx(t,"width");i!==void 0&&(t.width=i)}if(vx(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=lx(t,"height");i!==void 0&&(t.height=i)}return t}const bb=MD?{passive:!0}:!1;function Ik(t,e,r){t&&t.addEventListener(e,r,bb)}function Sk(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,bb)}function Fk(t,e){const r=bk[t.type]||t.type,{x:n,y:A}=Vi(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:A!==void 0?A:null}}function bh(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Tk(t,e,r){const n=t.canvas,A=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||bh(c.addedNodes,n),o=o&&!bh(c.removedNodes,n);o&&r()});return A.observe(document,{childList:!0,subtree:!0}),A}function Uk(t,e,r){const n=t.canvas,A=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||bh(c.removedNodes,n),o=o&&!bh(c.addedNodes,n);o&&r()});return A.observe(document,{childList:!0,subtree:!0}),A}const Fl=new Map;let Ex=0;function _b(){const t=window.devicePixelRatio;t!==Ex&&(Ex=t,Fl.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function Qk(t,e){Fl.size||window.addEventListener("resize",_b),Fl.set(t,e)}function Ok(t){Fl.delete(t),Fl.size||window.removeEventListener("resize",_b)}function Nk(t,e,r){const n=t.canvas,A=n&&fp(n);if(!A)return;const i=sb((c,u)=>{const d=A.clientWidth;r(c,u),d<A.clientWidth&&r()},window),o=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,p=u.contentRect.height;d===0&&p===0||i(d,p)});return o.observe(A),Qk(t,i),o}function Vf(t,e,r){r&&r.disconnect(),e==="resize"&&Ok(t)}function Rk(t,e,r){const n=t.canvas,A=sb(i=>{t.ctx!==null&&r(Fk(i,t))},t);return Ik(n,e,A),A}class Mk extends Eb{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(_k(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Iu])return!1;const n=r[Iu].initial;["height","width"].forEach(i=>{const o=n[i];rt(o)?r.removeAttribute(i):r.setAttribute(i,o)});const A=n.style||{};return Object.keys(A).forEach(i=>{r.style[i]=A[i]}),r.width=r.width,delete r[Iu],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const A=e.$proxies||(e.$proxies={}),o={attach:Tk,detach:Uk,resize:Nk}[r]||Rk;A[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),A=n[r];if(!A)return;({attach:Vf,detach:Vf,resize:Vf}[r]||Sk)(e,r,A),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,A){return RD(e,r,n,A)}isAttached(e){const r=e&&fp(e);return!!(r&&r.isConnected)}}function Dk(t){return!dp()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Ek:Mk}class FA{constructor(){Ie(this,"x");Ie(this,"y");Ie(this,"active",!1);Ie(this,"options");Ie(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Ch(this.x)&&Ch(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const A={};return e.forEach(i=>{A[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),A}}Ie(FA,"defaults",{}),Ie(FA,"defaultRoutes");function kk(t,e){const r=t.options.ticks,n=Lk(t),A=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?Hk(e):[],o=i.length,c=i[0],u=i[o-1],d=[];if(o>A)return jk(e,d,i,o/A),d;const p=Pk(i,e,A);if(o>0){let m,x;const C=o>1?Math.round((u-c)/(o-1)):null;for(Au(e,d,p,rt(C)?0:c-C,c),m=0,x=o-1;m<x;m++)Au(e,d,p,i[m],i[m+1]);return Au(e,d,p,u,rt(C)?e.length:u+C),d}return Au(e,d,p),d}function Lk(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),A=t._maxLength/r;return Math.floor(Math.min(n,A))}function Pk(t,e,r){const n=Kk(t),A=e.length/r;if(!n)return Math.max(A,1);const i=zM(n);for(let o=0,c=i.length-1;o<c;o++){const u=i[o];if(u>A)return u}return Math.max(A,1)}function Hk(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function jk(t,e,r,n){let A=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),A++,i=r[A*n])}function Au(t,e,r,n,A){const i=Pe(n,0),o=Math.min(Pe(A,t.length),t.length);let c=0,u,d,p;for(r=Math.ceil(r),A&&(u=A-n,r=u/Math.floor(u/r)),p=i;p<0;)c++,p=Math.round(i+c*r);for(d=Math.max(i,0);d<o;d++)d===p&&(e.push(t[d]),c++,p=Math.round(i+c*r))}function Kk(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const Vk=t=>t==="left"?"right":t==="right"?"left":t,bx=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,_x=(t,e)=>Math.min(e||t,t);function Ix(t,e){const r=[],n=t.length/e,A=t.length;let i=0;for(;i<A;i+=n)r.push(t[Math.floor(i)]);return r}function zk(t,e,r){const n=t.ticks.length,A=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,c=1e-6;let u=t.getPixelForTick(A),d;if(!(r&&(n===1?d=Math.max(u-i,o-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(A-1))/2,u+=A<e?d:-d,u<i-c||u>o+c)))return u}function Gk(t,e){Xe(t,r=>{const n=r.gc,A=n.length/2;let i;if(A>e){for(i=0;i<A;++i)delete r.data[n[i]];n.splice(0,A)}})}function fa(t){return t.drawTicks?t.tickLength:0}function Sx(t,e){if(!t.display)return 0;const r=mr(t.font,e),n=_n(t.padding);return(zt(t.text)?t.text.length:1)*r.lineHeight+n.height}function Wk(t,e){return ko(t,{scale:e,type:"scale"})}function Xk(t,e,r){return ko(t,{tick:r,index:e,type:"tick"})}function Yk(t,e,r){let n=sp(t);return(r&&e!=="right"||!r&&e==="right")&&(n=Vk(n)),n}function Jk(t,e,r,n){const{top:A,left:i,bottom:o,right:c,chart:u}=t,{chartArea:d,scales:p}=u;let m=0,x,C,E;const v=o-A,F=c-i;if(t.isHorizontal()){if(C=gr(n,i,c),He(r)){const S=Object.keys(r)[0],I=r[S];E=p[S].getPixelForValue(I)+v-e}else r==="center"?E=(d.bottom+d.top)/2+v-e:E=bx(t,r,e);x=c-i}else{if(He(r)){const S=Object.keys(r)[0],I=r[S];C=p[S].getPixelForValue(I)-F+e}else r==="center"?C=(d.left+d.right)/2-F+e:C=bx(t,r,e);E=gr(n,o,A),m=r==="left"?-or:or}return{titleX:C,titleY:E,maxWidth:x,rotation:m}}class Lo extends FA{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:A}=this;return e=qn(e,Number.POSITIVE_INFINITY),r=qn(r,Number.NEGATIVE_INFINITY),n=qn(n,Number.POSITIVE_INFINITY),A=qn(A,Number.NEGATIVE_INFINITY),{min:qn(e,n),max:qn(r,A),minDefined:bn(e),maxDefined:bn(r)}}getMinMax(e){let{min:r,max:n,minDefined:A,maxDefined:i}=this.getUserBounds(),o;if(A&&i)return{min:r,max:n};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)o=c[u].controller.getMinMax(this,e),A||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=A&&r>n?r:n,{min:qn(r,qn(n,r)),max:qn(n,qn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ut(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:A,grace:i,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=xD(this,i,A),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?Ix(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=kk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ut(this.options.afterUpdate,[this])}beforeSetDimensions(){ut(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ut(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ut(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ut(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,A,i;for(n=0,A=e.length;n<A;n++)i=e[n],i.label=ut(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){ut(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ut(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=_x(this.ticks.length,e.ticks.maxTicksLimit),A=r.minRotation||0,i=r.maxRotation;let o=A,c,u,d;if(!this._isVisible()||!r.display||A>=i||n<=1||!this.isHorizontal()){this.labelRotation=A;return}const p=this._getLabelSizes(),m=p.widest.width,x=p.highest.height,C=Kr(this.chart.width-m,0,this.maxWidth);c=e.offset?this.maxWidth/n:C/(n-1),m+6>c&&(c=C/(n-(e.offset?.5:1)),u=this.maxHeight-fa(e.grid)-r.padding-Sx(e.title,this.chart.options.font),d=Math.sqrt(m*m+x*x),o=YM(Math.min(Math.asin(Kr((p.highest.height+6)/c,-1,1)),Math.asin(Kr(u/d,-1,1))-Math.asin(Kr(x/d,-1,1)))),o=Math.max(A,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){ut(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ut(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:A,grid:i}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const u=Sx(A,r.options.font);if(c?(e.width=this.maxWidth,e.height=fa(i)+u):(e.height=this.maxHeight,e.width=fa(i)+u),n.display&&this.ticks.length){const{first:d,last:p,widest:m,highest:x}=this._getLabelSizes(),C=n.padding*2,E=ts(this.labelRotation),v=Math.cos(E),F=Math.sin(E);if(c){const S=n.mirror?0:F*m.width+v*x.height;e.height=Math.min(this.maxHeight,e.height+S+C)}else{const S=n.mirror?0:v*m.width+F*x.height;e.width=Math.min(this.maxWidth,e.width+S+C)}this._calculatePadding(d,p,F,v)}}this._handleMargins(),c?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,A){const{ticks:{align:i,padding:o},position:c}=this.options,u=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,C=0;u?d?(x=A*e.width,C=n*r.height):(x=n*e.height,C=A*r.width):i==="start"?C=r.width:i==="end"?x=e.width:i!=="inner"&&(x=e.width/2,C=r.width/2),this.paddingLeft=Math.max((x-p+o)*this.width/(this.width-p),0),this.paddingRight=Math.max((C-m+o)*this.width/(this.width-m),0)}else{let p=r.height/2,m=e.height/2;i==="start"?(p=0,m=e.height):i==="end"&&(p=r.height,m=0),this.paddingTop=p+o,this.paddingBottom=m+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ut(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)rt(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=Ix(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:A,_longestTextCache:i}=this,o=[],c=[],u=Math.floor(r/_x(r,n));let d=0,p=0,m,x,C,E,v,F,S,I,T,N,L;for(m=0;m<r;m+=u){if(E=e[m].label,v=this._resolveTickFontOptions(m),A.font=F=v.string,S=i[F]=i[F]||{data:{},gc:[]},I=v.lineHeight,T=N=0,!rt(E)&&!zt(E))T=nx(A,S.data,S.gc,T,E),N=I;else if(zt(E))for(x=0,C=E.length;x<C;++x)L=E[x],!rt(L)&&!zt(L)&&(T=nx(A,S.data,S.gc,T,L),N+=I);o.push(T),c.push(N),d=Math.max(T,d),p=Math.max(N,p)}Gk(i,r);const k=o.indexOf(d),D=c.indexOf(p),K=H=>({width:o[H]||0,height:c[H]||0});return{first:K(0),last:K(r-1),widest:K(k),highest:K(D),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return ZM(this._alignToPixels?Li(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=Xk(this.getContext(),e,n))}return this.$context||(this.$context=Wk(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ts(this.labelRotation),n=Math.abs(Math.cos(r)),A=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,c=i?i.widest.width+o:0,u=i?i.highest.height+o:0;return this.isHorizontal()?u*n>c*A?c/n:u/A:u*A<c*n?u/n:c/A}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,A=this.options,{grid:i,position:o,border:c}=A,u=i.offset,d=this.isHorizontal(),m=this.ticks.length+(u?1:0),x=fa(i),C=[],E=c.setContext(this.getContext()),v=E.display?E.width:0,F=v/2,S=function(we){return Li(n,we,v)};let I,T,N,L,k,D,K,H,q,oe,Z,Ae;if(o==="top")I=S(this.bottom),D=this.bottom-x,H=I-F,oe=S(e.top)+F,Ae=e.bottom;else if(o==="bottom")I=S(this.top),oe=e.top,Ae=S(e.bottom)-F,D=I+F,H=this.top+x;else if(o==="left")I=S(this.right),k=this.right-x,K=I-F,q=S(e.left)+F,Z=e.right;else if(o==="right")I=S(this.left),q=e.left,Z=S(e.right)-F,k=I+F,K=this.left+x;else if(r==="x"){if(o==="center")I=S((e.top+e.bottom)/2+.5);else if(He(o)){const we=Object.keys(o)[0],ie=o[we];I=S(this.chart.scales[we].getPixelForValue(ie))}oe=e.top,Ae=e.bottom,D=I+F,H=D+x}else if(r==="y"){if(o==="center")I=S((e.left+e.right)/2);else if(He(o)){const we=Object.keys(o)[0],ie=o[we];I=S(this.chart.scales[we].getPixelForValue(ie))}k=I-F,K=k-x,q=e.left,Z=e.right}const ye=Pe(A.ticks.maxTicksLimit,m),V=Math.max(1,Math.ceil(m/ye));for(T=0;T<m;T+=V){const we=this.getContext(T),ie=i.setContext(we),re=c.setContext(we),ae=ie.lineWidth,pe=ie.color,Qe=re.dash||[],be=re.dashOffset,Je=ie.tickWidth,Te=ie.tickColor,mt=ie.tickBorderDash||[],le=ie.tickBorderDashOffset;N=zk(this,T,u),N!==void 0&&(L=Li(n,N,ae),d?k=K=q=Z=L:D=H=oe=Ae=L,C.push({tx1:k,ty1:D,tx2:K,ty2:H,x1:q,y1:oe,x2:Z,y2:Ae,width:ae,color:pe,borderDash:Qe,borderDashOffset:be,tickWidth:Je,tickColor:Te,tickBorderDash:mt,tickBorderDashOffset:le}))}return this._ticksLength=m,this._borderValue=I,C}_computeLabelItems(e){const r=this.axis,n=this.options,{position:A,ticks:i}=n,o=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:p,mirror:m}=i,x=fa(n.grid),C=x+p,E=m?-p:C,v=-ts(this.labelRotation),F=[];let S,I,T,N,L,k,D,K,H,q,oe,Z,Ae="middle";if(A==="top")k=this.bottom-E,D=this._getXAxisLabelAlignment();else if(A==="bottom")k=this.top+E,D=this._getXAxisLabelAlignment();else if(A==="left"){const V=this._getYAxisLabelAlignment(x);D=V.textAlign,L=V.x}else if(A==="right"){const V=this._getYAxisLabelAlignment(x);D=V.textAlign,L=V.x}else if(r==="x"){if(A==="center")k=(e.top+e.bottom)/2+C;else if(He(A)){const V=Object.keys(A)[0],we=A[V];k=this.chart.scales[V].getPixelForValue(we)+C}D=this._getXAxisLabelAlignment()}else if(r==="y"){if(A==="center")L=(e.left+e.right)/2-C;else if(He(A)){const V=Object.keys(A)[0],we=A[V];L=this.chart.scales[V].getPixelForValue(we)}D=this._getYAxisLabelAlignment(x).textAlign}r==="y"&&(u==="start"?Ae="top":u==="end"&&(Ae="bottom"));const ye=this._getLabelSizes();for(S=0,I=c.length;S<I;++S){T=c[S],N=T.label;const V=i.setContext(this.getContext(S));K=this.getPixelForTick(S)+i.labelOffset,H=this._resolveTickFontOptions(S),q=H.lineHeight,oe=zt(N)?N.length:1;const we=oe/2,ie=V.color,re=V.textStrokeColor,ae=V.textStrokeWidth;let pe=D;o?(L=K,D==="inner"&&(S===I-1?pe=this.options.reverse?"left":"right":S===0?pe=this.options.reverse?"right":"left":pe="center"),A==="top"?d==="near"||v!==0?Z=-oe*q+q/2:d==="center"?Z=-ye.highest.height/2-we*q+q:Z=-ye.highest.height+q/2:d==="near"||v!==0?Z=q/2:d==="center"?Z=ye.highest.height/2-we*q:Z=ye.highest.height-oe*q,m&&(Z*=-1),v!==0&&!V.showLabelBackdrop&&(L+=q/2*Math.sin(v))):(k=K,Z=(1-oe)*q/2);let Qe;if(V.showLabelBackdrop){const be=_n(V.backdropPadding),Je=ye.heights[S],Te=ye.widths[S];let mt=Z-be.top,le=0-be.left;switch(Ae){case"middle":mt-=Je/2;break;case"bottom":mt-=Je;break}switch(D){case"center":le-=Te/2;break;case"right":le-=Te;break;case"inner":S===I-1?le-=Te:S>0&&(le-=Te/2);break}Qe={left:le,top:mt,width:Te+be.width,height:Je+be.height,color:V.backdropColor}}F.push({label:N,font:H,textOffset:Z,options:{rotation:v,color:ie,strokeColor:re,strokeWidth:ae,textAlign:pe,textBaseline:Ae,translation:[L,k],backdrop:Qe}})}return F}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ts(this.labelRotation))return e==="top"?"left":"right";let A="center";return r.align==="start"?A="left":r.align==="end"?A="right":r.align==="inner"&&(A="inner"),A}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:A,padding:i}}=this.options,o=this._getLabelSizes(),c=e+i,u=o.widest.width;let d,p;return r==="left"?A?(p=this.right+i,n==="near"?d="left":n==="center"?(d="center",p+=u/2):(d="right",p+=u)):(p=this.right-c,n==="near"?d="right":n==="center"?(d="center",p-=u/2):(d="left",p=this.left)):r==="right"?A?(p=this.left+i,n==="near"?d="right":n==="center"?(d="center",p-=u/2):(d="left",p-=u)):(p=this.left+c,n==="near"?d="left":n==="center"?(d="center",p+=u/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:A,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,A,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const A=this.ticks.findIndex(i=>i.value===e);return A>=0?r.setContext(this.getContext(A)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,A=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const c=(u,d,p)=>{!p.width||!p.color||(n.save(),n.lineWidth=p.width,n.strokeStyle=p.color,n.setLineDash(p.borderDash||[]),n.lineDashOffset=p.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=A.length;i<o;++i){const u=A[i];r.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),r.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:A}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const c=A.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,p,m,x;this.isHorizontal()?(d=Li(e,this.left,o)-o/2,p=Li(e,this.right,c)+c/2,m=x=u):(m=Li(e,this.top,o)-o/2,x=Li(e,this.bottom,c)+c/2,d=p=u),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(d,m),r.lineTo(p,x),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,A=this._computeLabelArea();A&&op(n,A);const i=this.getLabelItems(e);for(const o of i){const c=o.options,u=o.font,d=o.label,p=o.textOffset;Sl(n,d,0,p,u,c)}A&&ap(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:A}}=this;if(!n.display)return;const i=mr(n.font),o=_n(n.padding),c=n.align;let u=i.lineHeight/2;r==="bottom"||r==="center"||He(r)?(u+=o.bottom,zt(n.text)&&(u+=i.lineHeight*(n.text.length-1))):u+=o.top;const{titleX:d,titleY:p,maxWidth:m,rotation:x}=Jk(this,u,r,c);Sl(e,n.text,0,0,i,{color:n.color,maxWidth:m,rotation:x,textAlign:Yk(c,r,A),textBaseline:"middle",translation:[d,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Pe(e.grid&&e.grid.z,-1),A=Pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Lo.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:A,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",A=[];let i,o;for(i=0,o=r.length;i<o;++i){const c=r[i];c[n]===this.id&&(!e||c.type===e)&&A.push(c)}return A}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return mr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class iu{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;$k(r)&&(n=this.register(r));const A=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in A||(A[i]=e,Zk(e,o,n),this.override&&Ot.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,A=this.scope;n in r&&delete r[n],A&&n in Ot[A]&&(delete Ot[A][n],this.override&&delete fs[n])}}function Zk(t,e,r){const n=_l(Object.create(null),[r?Ot.get(r):{},Ot.get(e),t.defaults]);Ot.set(e,n),t.defaultRoutes&&qk(e,t.defaultRoutes),t.descriptors&&Ot.describe(e,t.descriptors)}function qk(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),A=n.pop(),i=[t].concat(n).join("."),o=e[r].split("."),c=o.pop(),u=o.join(".");Ot.route(i,A,u,c)})}function $k(t){return"id"in t&&"defaults"in t}class eL{constructor(){this.controllers=new iu(qa,"datasets",!0),this.elements=new iu(FA,"elements"),this.plugins=new iu(Object,"plugins"),this.scales=new iu(Lo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(A=>{const i=n||this._getRegistryForType(A);n||i.isForType(A)||i===this.plugins&&A.id?this._exec(e,i,A):Xe(A,o=>{const c=n||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,r,n){const A=Ap(e);ut(n["before"+A],[],n),r[e](n),ut(n["after"+A],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const A=r.get(e);if(A===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return A}}var rA=new eL;class tL{constructor(){this._init=void 0}notify(e,r,n,A){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=A?this._descriptors(e).filter(A):this._descriptors(e),o=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,r,n,A){A=A||{};for(const i of e){const o=i.plugin,c=o[n],u=[r,A,i.options];if(ut(c,u,o)===!1&&A.cancelable)return!1}return!0}invalidate(){rt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,A=Pe(n.options&&n.options.plugins,{}),i=rL(n);return A===!1&&!r?[]:AL(e,i,A,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,A=(i,o)=>i.filter(c=>!o.some(u=>c.plugin.id===u.plugin.id));this._notify(A(r,n),e,"stop"),this._notify(A(n,r),e,"start")}}function rL(t){const e={},r=[],n=Object.keys(rA.plugins.items);for(let i=0;i<n.length;i++)r.push(rA.getPlugin(n[i]));const A=t.plugins||[];for(let i=0;i<A.length;i++){const o=A[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function nL(t,e){return!e&&t===!1?null:t===!0?{}:t}function AL(t,{plugins:e,localIds:r},n,A){const i=[],o=t.getContext();for(const c of e){const u=c.id,d=nL(n[u],A);d!==null&&i.push({plugin:c,options:iL(t.config,{plugin:c,local:r[u]},d,o)})}return i}function iL(t,{plugin:e,local:r},n,A){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,A,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qg(t,e){const r=Ot.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function sL(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function oL(t,e){return t===e?"_index_":"_value_"}function Fx(t){if(t==="x"||t==="y"||t==="r")return t}function aL(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Og(t,...e){if(Fx(t))return t;for(const r of e){const n=r.axis||aL(r.position)||t.length>1&&Fx(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Tx(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function lL(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return Tx(t,"x",r[0])||Tx(t,"y",r[0])}return{}}function cL(t,e){const r=fs[t.type]||{scales:{}},n=e.scales||{},A=Qg(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const c=n[o];if(!He(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=Og(o,c,lL(o,t),Ot.scales[c.type]),d=oL(u,A),p=r.scales||{};i[o]=Ya(Object.create(null),[{axis:u},c,p[u],p[d]])}),t.data.datasets.forEach(o=>{const c=o.type||t.type,u=o.indexAxis||Qg(c,e),p=(fs[c]||{}).scales||{};Object.keys(p).forEach(m=>{const x=sL(m,u),C=o[x+"AxisID"]||x;i[C]=i[C]||Object.create(null),Ya(i[C],[{axis:x},n[C],p[m]])})}),Object.keys(i).forEach(o=>{const c=i[o];Ya(c,[Ot.scales[c.type],Ot.scale])}),i}function Ib(t){const e=t.options||(t.options={});e.plugins=Pe(e.plugins,{}),e.scales=cL(t,e)}function Sb(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function uL(t){return t=t||{},t.data=Sb(t.data),Ib(t),t}const Ux=new Map,Fb=new Set;function su(t,e){let r=Ux.get(t);return r||(r=e(),Ux.set(t,r),Fb.add(r)),r}const ga=(t,e,r)=>{const n=Io(e,r);n!==void 0&&t.add(n)};class hL{constructor(e){this._config=uL(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Sb(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ib(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return su(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return su(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return su(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return su(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let A=n.get(e);return(!A||r)&&(A=new Map,n.set(e,A)),A}getOptionScopes(e,r,n){const{options:A,type:i}=this,o=this._cachedScopes(e,n),c=o.get(r);if(c)return c;const u=new Set;r.forEach(p=>{e&&(u.add(e),p.forEach(m=>ga(u,e,m))),p.forEach(m=>ga(u,A,m)),p.forEach(m=>ga(u,fs[i]||{},m)),p.forEach(m=>ga(u,Ot,m)),p.forEach(m=>ga(u,Ug,m))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),Fb.has(r)&&o.set(r,d),d}chartOptionScopes(){const{options:e,type:r}=this;return[e,fs[r]||{},Ot.datasets[r]||{},{type:r},Ot,Ug]}resolveNamedOptions(e,r,n,A=[""]){const i={$shared:!0},{resolver:o,subPrefixes:c}=Qx(this._resolverCache,e,A);let u=o;if(fL(o,r)){i.$shared=!1,n=vi(n)?n():n;const d=this.createResolver(e,n,c);u=So(o,n,d)}for(const d of r)i[d]=u[d];return i}createResolver(e,r,n=[""],A){const{resolver:i}=Qx(this._resolverCache,e,n);return He(r)?So(i,r,void 0,A):i}}function Qx(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const A=r.join();let i=n.get(A);return i||(i={resolver:cp(e,r),subPrefixes:r.filter(c=>!c.toLowerCase().includes("hover"))},n.set(A,i)),i}const dL=t=>He(t)&&Object.getOwnPropertyNames(t).some(e=>vi(t[e]));function fL(t,e){const{isScriptable:r,isIndexable:n}=db(t);for(const A of e){const i=r(A),o=n(A),c=(o||i)&&t[A];if(i&&(vi(c)||dL(c))||o&&zt(c))return!0}return!1}var gL="4.5.1";const pL=["top","bottom","left","right","chartArea"];function Ox(t,e){return t==="top"||t==="bottom"||pL.indexOf(t)===-1&&e==="x"}function Nx(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function Rx(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),ut(r&&r.onComplete,[t],e)}function wL(t){const e=t.chart,r=e.options.animation;ut(r&&r.onProgress,[t],e)}function Tb(t){return dp()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Su={},Mx=t=>{const e=Tb(t);return Object.values(Su).filter(r=>r.canvas===e).pop()};function mL(t,e,r){const n=Object.keys(t);for(const A of n){const i=+A;if(i>=e){const o=t[A];delete t[A],(r>0||i>e)&&(t[i+r]=o)}}}function BL(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var HA;let ld=(HA=class{static register(...e){rA.add(...e),Dx()}static unregister(...e){rA.remove(...e),Dx()}constructor(e,r){const n=this.config=new hL(r),A=Tb(e),i=Mx(A);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Dk(A)),this.platform.updateConfig(n);const c=this.platform.acquireContext(A,o.aspectRatio),u=c&&c.canvas,d=u&&u.height,p=u&&u.width;if(this.id=DM(),this.ctx=c,this.canvas=u,this.width=p,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tD(m=>this.update(m),o.resizeDelay||0),this._dataChanges=[],Su[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}dA.listen(this,"complete",Rx),dA.listen(this,"progress",wL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:A,_aspectRatio:i}=this;return rt(e)?r&&i?i:A?n/A:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return rA}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ax(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ax(this.canvas,this.ctx),this}stop(){return dA.stop(this),this}resize(e,r){dA.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,A=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(A,e,r,i),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ax(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),ut(n.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Xe(r,(n,A)=>{n.id=A})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,A=Object.keys(n).reduce((o,c)=>(o[c]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const c=r[o],u=Og(o,c),d=u==="r",p=u==="x";return{options:c,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),Xe(i,o=>{const c=o.options,u=c.id,d=Og(u,c),p=Pe(c.type,o.dtype);(c.position===void 0||Ox(c.position,d)!==Ox(o.dposition))&&(c.position=o.dposition),A[u]=!0;let m=null;if(u in n&&n[u].type===p)m=n[u];else{const x=rA.getScale(p);m=new x({id:u,type:p,ctx:this.ctx,chart:this}),n[m.id]=m}m.init(c,e)}),Xe(A,(o,c)=>{o||delete n[c]}),Xe(n,o=>{yn.configure(this,o,o.options),yn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((A,i)=>A.index-i.index),n>r){for(let A=r;A<n;++A)this._destroyDatasetMeta(A);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(Nx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,A)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(A)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,A;for(this._removeUnreferencedMetasets(),n=0,A=r.length;n<A;n++){const i=r[n];let o=this.getDatasetMeta(n);const c=i.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=c,o.indexAxis=i.indexAxis||Qg(c,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const u=rA.getController(c),{datasetElementType:d,dataElementType:p}=Ot.datasets[c];Object.assign(u,{dataElementType:rA.getElement(p),datasetElementType:d&&rA.getElement(d)}),o.controller=new u(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Xe(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),A=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:m}=this.getDatasetMeta(d),x=!A&&i.indexOf(m)===-1;m.buildOrUpdateElements(x),o=Math.max(+m.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),A||Xe(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Nx("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Xe(this.scales,e=>{yn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!XB(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:A,count:i}of r){const o=n==="_removeElements"?-i:i;mL(e,A,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,c)=>c+","+o.splice(1).join(","))),A=n(0);for(let i=1;i<r;i++)if(!XB(A,n(i)))return;return Array.from(A).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yn.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Xe(this.boxes,A=>{n&&A.position==="chartArea"||(A.configure&&A.configure(),this._layers.push(...A._layers()))},this),this._layers.forEach((A,i)=>{A._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,vi(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),A={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",A)!==!1&&(n.controller._update(r),A.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",A))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(dA.has(this)?this.attached&&!dA.running(this)&&dA.start(this):(this.draw(),Rx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:A}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,A)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let A,i;for(A=0,i=r.length;A<i;++A){const o=r[A];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},A=PD(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(A&&op(r,A),e.controller.draw(),A&&ap(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return ub(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,A){const i=pk.modes[r];return typeof i=="function"?i(this,e,n,A):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let A=n.filter(i=>i&&i._dataset===r).pop();return A||(A={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(A)),A}getContext(){return this.$context||(this.$context=ko(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const A=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,A);Il(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(c=>c.datasetIndex===e?A:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),dA.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ax(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Su[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},A=(i,o,c)=>{i.offsetX=o,i.offsetY=c,this._eventHandler(i)};Xe(this.options.events,i=>n(i,A))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(u,d)=>{r.addEventListener(this,u,d),e[u]=d},A=(u,d)=>{e[u]&&(r.removeEventListener(this,u,d),delete e[u])},i=(u,d)=>{this.canvas&&this.resize(u,d)};let o;const c=()=>{A("attach",c),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,A("resize",i),this._stop(),this._resize(0,0),n("attach",c)},r.isAttached(this.canvas)?c():o()}unbindEvents(){Xe(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Xe(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const A=n?"set":"remove";let i,o,c,u;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+A+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){o=e[c];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[A+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[o],index:o}});!Bh(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const A=this.options.hover,i=(u,d)=>u.filter(p=>!d.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),o=i(r,e),c=n?e:i(e,r);o.length&&this.updateHoverStyle(o,A.mode,!1),c.length&&A.mode&&this.updateHoverStyle(c,A.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},A=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,A)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,A),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:A=[],options:i}=this,o=r,c=this._getActiveElements(e,A,n,o),u=KM(e),d=BL(e,this._lastEvent,n,u);n&&(this._lastEvent=null,ut(i.onHover,[e,c,this],this),u&&ut(i.onClick,[e,c,this],this));const p=!Bh(c,A);return(p||r)&&(this._active=c,this._updateHoverStyles(c,A,r)),this._lastEvent=d,p}_getActiveElements(e,r,n,A){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,A)}},Ie(HA,"defaults",Ot),Ie(HA,"instances",Su),Ie(HA,"overrides",fs),Ie(HA,"registry",rA),Ie(HA,"version",gL),Ie(HA,"getChart",Mx),HA);function Dx(){return Xe(ld.instances,t=>t._plugins.invalidate())}function xL(t,e,r){const{startAngle:n,x:A,y:i,outerRadius:o,innerRadius:c,options:u}=e,{borderWidth:d,borderJoinStyle:p}=u,m=Math.min(d/o,nA(n-r));if(t.beginPath(),t.arc(A,i,o-d/2,n+m/2,r-m/2),c>0){const x=Math.min(d/c,nA(n-r));t.arc(A,i,c+d/2,r-x/2,n+x/2,!0)}else{const x=Math.min(d/2,o*nA(n-r));if(p==="round")t.arc(A,i,x,r-ht/2,n+ht/2,!0);else if(p==="bevel"){const C=2*x*x,E=-C*Math.cos(r+ht/2)+A,v=-C*Math.sin(r+ht/2)+i,F=C*Math.cos(n+ht/2)+A,S=C*Math.sin(n+ht/2)+i;t.lineTo(E,v),t.lineTo(F,S)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function yL(t,e,r){const{startAngle:n,pixelMargin:A,x:i,y:o,outerRadius:c,innerRadius:u}=e;let d=A/c;t.beginPath(),t.arc(i,o,c,n-d,r+d),u>A?(d=A/u,t.arc(i,o,u,r+d,n-d,!0)):t.arc(i,o,A,r+or,n-or),t.closePath(),t.clip()}function CL(t){return lp(t,["outerStart","outerEnd","innerStart","innerEnd"])}function vL(t,e,r,n){const A=CL(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,n*e/2),c=u=>{const d=(r-Math.min(i,u))*n/2;return Kr(u,0,Math.min(i,d))};return{outerStart:c(A.outerStart),outerEnd:c(A.outerEnd),innerStart:Kr(A.innerStart,0,o),innerEnd:Kr(A.innerEnd,0,o)}}function js(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function _h(t,e,r,n,A,i){const{x:o,y:c,startAngle:u,pixelMargin:d,innerRadius:p}=e,m=Math.max(e.outerRadius+n+r-d,0),x=p>0?p+n+r+d:0;let C=0;const E=A-u;if(n){const V=p>0?p-n:0,we=m>0?m-n:0,ie=(V+we)/2,re=ie!==0?E*ie/(ie+n):E;C=(E-re)/2}const v=Math.max(.001,E*m-r/ht)/m,F=(E-v)/2,S=u+F+C,I=A-F-C,{outerStart:T,outerEnd:N,innerStart:L,innerEnd:k}=vL(e,x,m,I-S),D=m-T,K=m-N,H=S+T/D,q=I-N/K,oe=x+L,Z=x+k,Ae=S+L/oe,ye=I-k/Z;if(t.beginPath(),i){const V=(H+q)/2;if(t.arc(o,c,m,H,V),t.arc(o,c,m,V,q),N>0){const ae=js(K,q,o,c);t.arc(ae.x,ae.y,N,q,I+or)}const we=js(Z,I,o,c);if(t.lineTo(we.x,we.y),k>0){const ae=js(Z,ye,o,c);t.arc(ae.x,ae.y,k,I+or,ye+Math.PI)}const ie=(I-k/x+(S+L/x))/2;if(t.arc(o,c,x,I-k/x,ie,!0),t.arc(o,c,x,ie,S+L/x,!0),L>0){const ae=js(oe,Ae,o,c);t.arc(ae.x,ae.y,L,Ae+Math.PI,S-or)}const re=js(D,S,o,c);if(t.lineTo(re.x,re.y),T>0){const ae=js(D,H,o,c);t.arc(ae.x,ae.y,T,S-or,H)}}else{t.moveTo(o,c);const V=Math.cos(H)*m+o,we=Math.sin(H)*m+c;t.lineTo(V,we);const ie=Math.cos(q)*m+o,re=Math.sin(q)*m+c;t.lineTo(ie,re)}t.closePath()}function EL(t,e,r,n,A){const{fullCircles:i,startAngle:o,circumference:c}=e;let u=e.endAngle;if(i){_h(t,e,r,n,u,A);for(let d=0;d<i;++d)t.fill();isNaN(c)||(u=o+(c%_r||_r))}return _h(t,e,r,n,u,A),t.fill(),u}function bL(t,e,r,n,A){const{fullCircles:i,startAngle:o,circumference:c,options:u}=e,{borderWidth:d,borderJoinStyle:p,borderDash:m,borderDashOffset:x,borderRadius:C}=u,E=u.borderAlign==="inner";if(!d)return;t.setLineDash(m||[]),t.lineDashOffset=x,E?(t.lineWidth=d*2,t.lineJoin=p||"round"):(t.lineWidth=d,t.lineJoin=p||"bevel");let v=e.endAngle;if(i){_h(t,e,r,n,v,A);for(let F=0;F<i;++F)t.stroke();isNaN(c)||(v=o+(c%_r||_r))}E&&yL(t,e,v),u.selfJoin&&v-o>=ht&&C===0&&p!=="miter"&&xL(t,e,v),i||(_h(t,e,r,n,v,A),t.stroke())}class Ua extends FA{constructor(r){super();Ie(this,"circumference");Ie(this,"endAngle");Ie(this,"fullCircles");Ie(this,"innerRadius");Ie(this,"outerRadius");Ie(this,"pixelMargin");Ie(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,A){const i=this.getProps(["x","y"],A),{angle:o,distance:c}=tb(i,{x:r,y:n}),{startAngle:u,endAngle:d,innerRadius:p,outerRadius:m,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],A),C=(this.options.spacing+this.options.borderWidth)/2,E=Pe(x,d-u),v=rb(o,u,d)&&u!==d,F=E>=_r||v,S=rs(c,p+C,m+C);return F&&S}getCenterPoint(r){const{x:n,y:A,startAngle:i,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:d,spacing:p}=this.options,m=(i+o)/2,x=(c+u+p+d)/2;return{x:n+Math.cos(m)*x,y:A+Math.sin(m)*x}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:A}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=A>_r?Math.floor(A/_r):0,A===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const u=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(u)*i,Math.sin(u)*i);const d=1-Math.sin(Math.min(ht,A||0)),p=i*d;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,EL(r,this,p,o,c),bL(r,this,p,o,c),r.restore()}}Ie(Ua,"id","arc"),Ie(Ua,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ie(Ua,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ie(Ua,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function Ub(t,e){const{x:r,y:n,base:A,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let c,u,d,p,m;return t.horizontal?(m=o/2,c=Math.min(r,A),u=Math.max(r,A),d=n-m,p=n+m):(m=i/2,c=r-m,u=r+m,d=Math.min(n,A),p=Math.max(n,A)),{left:c,top:d,right:u,bottom:p}}function Ai(t,e,r,n){return t?0:Kr(e,r,n)}function _L(t,e,r){const n=t.options.borderWidth,A=t.borderSkipped,i=hb(n);return{t:Ai(A.top,i.top,0,r),r:Ai(A.right,i.right,0,e),b:Ai(A.bottom,i.bottom,0,r),l:Ai(A.left,i.left,0,e)}}function IL(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),A=t.options.borderRadius,i=po(A),o=Math.min(e,r),c=t.borderSkipped,u=n||He(A);return{topLeft:Ai(!u||c.top||c.left,i.topLeft,0,o),topRight:Ai(!u||c.top||c.right,i.topRight,0,o),bottomLeft:Ai(!u||c.bottom||c.left,i.bottomLeft,0,o),bottomRight:Ai(!u||c.bottom||c.right,i.bottomRight,0,o)}}function SL(t){const e=Ub(t),r=e.right-e.left,n=e.bottom-e.top,A=_L(t,r/2,n/2),i=IL(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+A.l,y:e.top+A.t,w:r-A.l-A.r,h:n-A.t-A.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(A.t,A.l)),topRight:Math.max(0,i.topRight-Math.max(A.t,A.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(A.b,A.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(A.b,A.r))}}}}function zf(t,e,r,n){const A=e===null,i=r===null,c=t&&!(A&&i)&&Ub(t,n);return c&&(A||rs(e,c.left,c.right))&&(i||rs(r,c.top,c.bottom))}function FL(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function TL(t,e){t.rect(e.x,e.y,e.w,e.h)}function Gf(t,e,r={}){const n=t.x!==r.x?-e:0,A=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,o=(t.y+t.h!==r.y+r.h?e:0)-A;return{x:t.x+n,y:t.y+A,w:t.w+i,h:t.h+o,radius:t.radius}}class Fu extends FA{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:A}}=this,{inner:i,outer:o}=SL(this),c=FL(o.radius)?vh:TL;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),c(e,Gf(o,r,i)),e.clip(),c(e,Gf(i,-r,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),c(e,Gf(i,r)),e.fillStyle=A,e.fill(),e.restore()}inRange(e,r,n){return zf(this,e,r,n)}inXRange(e,r){return zf(this,e,null,r)}inYRange(e,r){return zf(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:A,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+A)/2:r,y:i?n:(n+A)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ie(Fu,"id","bar"),Ie(Fu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ie(Fu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const kx=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},UL=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Lx extends FA{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=ut(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,A)=>e.sort(n,A,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,A=mr(n.font),i=A.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=kx(n,i);let d,p;r.font=A.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(o,i,c,u)+10):(p=this.maxHeight,d=this._fitCols(o,A,c,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,A){const{ctx:i,maxWidth:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],p=A+c;let m=e;i.textAlign="left",i.textBaseline="middle";let x=-1,C=-p;return this.legendItems.forEach((E,v)=>{const F=n+r/2+i.measureText(E.text).width;(v===0||d[d.length-1]+F+2*c>o)&&(m+=p,d[d.length-(v>0?0:1)]=0,C+=p,x++),u[v]={left:0,top:C,row:x,width:F,height:A},d[d.length-1]+=F+c}),m}_fitCols(e,r,n,A){const{ctx:i,maxHeight:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],p=o-e;let m=c,x=0,C=0,E=0,v=0;return this.legendItems.forEach((F,S)=>{const{itemWidth:I,itemHeight:T}=QL(n,r,i,F,A);S>0&&C+T+2*c>p&&(m+=x+c,d.push({width:x,height:C}),E+=x+c,v++,x=C=0),u[S]={left:E,top:C,col:v,width:I,height:T},x=Math.max(x,I),C+=T+c}),m+=x,d.push({width:x,height:C}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:A},rtl:i}}=this,o=wo(i,this.left,this.width);if(this.isHorizontal()){let c=0,u=gr(n,this.left+A,this.right-this.lineWidths[c]);for(const d of r)c!==d.row&&(c=d.row,u=gr(n,this.left+A,this.right-this.lineWidths[c])),d.top+=this.top+e+A,d.left=o.leftForLtr(o.x(u),d.width),u+=d.width+A}else{let c=0,u=gr(n,this.top+e+A,this.bottom-this.columnSizes[c].height);for(const d of r)d.col!==c&&(c=d.col,u=gr(n,this.top+e+A,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+A,d.left=o.leftForLtr(o.x(d.left),d.width),u+=d.height+A}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;op(e,this),this._draw(),ap(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:A}=this,{align:i,labels:o}=e,c=Ot.color,u=wo(e.rtl,this.left,this.width),d=mr(o.font),{padding:p}=o,m=d.size,x=m/2;let C;this.drawTitle(),A.textAlign=u.textAlign("left"),A.textBaseline="middle",A.lineWidth=.5,A.font=d.string;const{boxWidth:E,boxHeight:v,itemHeight:F}=kx(o,m),S=function(k,D,K){if(isNaN(E)||E<=0||isNaN(v)||v<0)return;A.save();const H=Pe(K.lineWidth,1);if(A.fillStyle=Pe(K.fillStyle,c),A.lineCap=Pe(K.lineCap,"butt"),A.lineDashOffset=Pe(K.lineDashOffset,0),A.lineJoin=Pe(K.lineJoin,"miter"),A.lineWidth=H,A.strokeStyle=Pe(K.strokeStyle,c),A.setLineDash(Pe(K.lineDash,[])),o.usePointStyle){const q={radius:v*Math.SQRT2/2,pointStyle:K.pointStyle,rotation:K.rotation,borderWidth:H},oe=u.xPlus(k,E/2),Z=D+x;cb(A,q,oe,Z,o.pointStyleWidth&&E)}else{const q=D+Math.max((m-v)/2,0),oe=u.leftForLtr(k,E),Z=po(K.borderRadius);A.beginPath(),Object.values(Z).some(Ae=>Ae!==0)?vh(A,{x:oe,y:q,w:E,h:v,radius:Z}):A.rect(oe,q,E,v),A.fill(),H!==0&&A.stroke()}A.restore()},I=function(k,D,K){Sl(A,K.text,k,D+F/2,d,{strikethrough:K.hidden,textAlign:u.textAlign(K.textAlign)})},T=this.isHorizontal(),N=this._computeTitleHeight();T?C={x:gr(i,this.left+p,this.right-n[0]),y:this.top+p+N,line:0}:C={x:this.left+p,y:gr(i,this.top+N+p,this.bottom-r[0].height),line:0},wb(this.ctx,e.textDirection);const L=F+p;this.legendItems.forEach((k,D)=>{A.strokeStyle=k.fontColor,A.fillStyle=k.fontColor;const K=A.measureText(k.text).width,H=u.textAlign(k.textAlign||(k.textAlign=o.textAlign)),q=E+x+K;let oe=C.x,Z=C.y;u.setWidth(this.width),T?D>0&&oe+q+p>this.right&&(Z=C.y+=L,C.line++,oe=C.x=gr(i,this.left+p,this.right-n[C.line])):D>0&&Z+L>this.bottom&&(oe=C.x=oe+r[C.line].width+p,C.line++,Z=C.y=gr(i,this.top+N+p,this.bottom-r[C.line].height));const Ae=u.x(oe);if(S(Ae,Z,k),oe=rD(H,oe+E+x,T?oe+q:this.right,e.rtl),I(u.x(oe),Z,k),T)C.x+=q+p;else if(typeof k.text!="string"){const ye=d.lineHeight;C.y+=Qb(k,ye)+p}else C.y+=L}),mb(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=mr(r.font),A=_n(r.padding);if(!r.display)return;const i=wo(e.rtl,this.left,this.width),o=this.ctx,c=r.position,u=n.size/2,d=A.top+u;let p,m=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),p=this.top+d,m=gr(e.align,m,this.right-x);else{const E=this.columnSizes.reduce((v,F)=>Math.max(v,F.height),0);p=d+gr(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}const C=gr(c,m,m+x);o.textAlign=i.textAlign(sp(c)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,Sl(o,r.text,C,p,n)}_computeTitleHeight(){const e=this.options.title,r=mr(e.font),n=_n(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,A,i;if(rs(e,this.left,this.right)&&rs(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(A=i[n],rs(e,A.left,A.left+A.width)&&rs(r,A.top,A.top+A.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!RL(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const A=this._hoveredItem,i=UL(A,n);A&&!i&&ut(r.onLeave,[e,A,this],this),this._hoveredItem=n,n&&!i&&ut(r.onHover,[e,n,this],this)}else n&&ut(r.onClick,[e,n,this],this)}}function QL(t,e,r,n,A){const i=OL(n,t,e,r),o=NL(A,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function OL(t,e,r,n){let A=t.text;return A&&typeof A!="string"&&(A=A.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+n.measureText(A).width}function NL(t,e,r){let n=t;return typeof e.text!="string"&&(n=Qb(e,r)),n}function Qb(t,e){const r=t.text?t.text.length:0;return e*r}function RL(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var ML={id:"legend",_element:Lx,start(t,e,r){const n=t.legend=new Lx({ctx:t.ctx,options:r,chart:t});yn.configure(t,n,r),yn.addBox(t,n)},stop(t){yn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;yn.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,A=r.chart;A.isDatasetVisible(n)?(A.hide(n),e.hidden=!0):(A.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:A,color:i,useBorderRadius:o,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(r?0:void 0),p=_n(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:A||d.textAlign,borderRadius:o&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Ob extends FA{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const A=zt(n.text)?n.text.length:1;this._padding=_n(n.padding);const i=A*mr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:A,right:i,options:o}=this,c=o.align;let u=0,d,p,m;return this.isHorizontal()?(p=gr(c,n,i),m=r+e,d=i-n):(o.position==="left"?(p=n+e,m=gr(c,A,r),u=ht*-.5):(p=i-e,m=gr(c,r,A),u=ht*.5),d=A-r),{titleX:p,titleY:m,maxWidth:d,rotation:u}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=mr(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:u,rotation:d}=this._drawArgs(i);Sl(e,r.text,0,0,n,{color:r.color,maxWidth:u,rotation:d,textAlign:sp(r.align),textBaseline:"middle",translation:[o,c]})}}function DL(t,e){const r=new Ob({ctx:t.ctx,options:e,chart:t});yn.configure(t,r,e),yn.addBox(t,r),t.titleBlock=r}var kL={id:"title",_element:Ob,start(t,e,r){DL(t,r)},stop(t){const e=t.titleBlock;yn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;yn.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qa={average(t){if(!t.length)return!1;let e,r,n=new Set,A=0,i=0;for(e=0,r=t.length;e<r;++e){const c=t[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();n.add(u.x),A+=u.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((c,u)=>c+u)/n.size,y:A/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,A=Number.POSITIVE_INFINITY,i,o,c;for(i=0,o=t.length;i<o;++i){const u=t[i].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),p=JM(e,d);p<A&&(A=p,c=u)}}if(c){const u=c.tooltipPosition();r=u.x,n=u.y}return{x:r,y:n}}};function $n(t,e){return e&&(zt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function fA(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function LL(t,e){const{element:r,datasetIndex:n,index:A}=e,i=t.getDatasetMeta(n).controller,{label:o,value:c}=i.getLabelAndValue(A);return{chart:t,label:o,parsed:i.getParsed(A),raw:t.data.datasets[n].data[A],formattedValue:c,dataset:i.getDataset(),dataIndex:A,datasetIndex:n,element:r}}function Px(t,e){const r=t.chart.ctx,{body:n,footer:A,title:i}=t,{boxWidth:o,boxHeight:c}=e,u=mr(e.bodyFont),d=mr(e.titleFont),p=mr(e.footerFont),m=i.length,x=A.length,C=n.length,E=_n(e.padding);let v=E.height,F=0,S=n.reduce((N,L)=>N+L.before.length+L.lines.length+L.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,m&&(v+=m*d.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),S){const N=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;v+=C*N+(S-C)*u.lineHeight+(S-1)*e.bodySpacing}x&&(v+=e.footerMarginTop+x*p.lineHeight+(x-1)*e.footerSpacing);let I=0;const T=function(N){F=Math.max(F,r.measureText(N).width+I)};return r.save(),r.font=d.string,Xe(t.title,T),r.font=u.string,Xe(t.beforeBody.concat(t.afterBody),T),I=e.displayColors?o+2+e.boxPadding:0,Xe(n,N=>{Xe(N.before,T),Xe(N.lines,T),Xe(N.after,T)}),I=0,r.font=p.string,Xe(t.footer,T),r.restore(),F+=E.width,{width:F,height:v}}function PL(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function HL(t,e,r,n){const{x:A,width:i}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&A+i+o>e.width||t==="right"&&A-i-o<0)return!0}function jL(t,e,r,n){const{x:A,width:i}=r,{width:o,chartArea:{left:c,right:u}}=t;let d="center";return n==="center"?d=A<=(c+u)/2?"left":"right":A<=i/2?d="left":A>=o-i/2&&(d="right"),HL(d,t,e,r)&&(d="center"),d}function Hx(t,e,r){const n=r.yAlign||e.yAlign||PL(t,r);return{xAlign:r.xAlign||e.xAlign||jL(t,e,r,n),yAlign:n}}function KL(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function VL(t,e,r){let{y:n,height:A}=t;return e==="top"?n+=r:e==="bottom"?n-=A+r:n-=A/2,n}function jx(t,e,r,n){const{caretSize:A,caretPadding:i,cornerRadius:o}=t,{xAlign:c,yAlign:u}=r,d=A+i,{topLeft:p,topRight:m,bottomLeft:x,bottomRight:C}=po(o);let E=KL(e,c);const v=VL(e,u,d);return u==="center"?c==="left"?E+=d:c==="right"&&(E-=d):c==="left"?E-=Math.max(p,x)+A:c==="right"&&(E+=Math.max(m,C)+A),{x:Kr(E,0,n.width-e.width),y:Kr(v,0,n.height-e.height)}}function ou(t,e,r){const n=_n(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function Kx(t){return $n([],fA(t))}function zL(t,e,r){return ko(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function Vx(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const Nb={beforeTitle:hA,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:hA,beforeBody:hA,beforeLabel:hA,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return rt(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:hA,afterBody:hA,beforeFooter:hA,footer:hA,afterFooter:hA};function Mr(t,e,r,n){const A=t[e].call(r,n);return typeof A>"u"?Nb[e].call(r,n):A}class Ng extends FA{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),A=n.enabled&&r.options.animation&&n.animations,i=new Bb(this.chart,A);return A._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=zL(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,A=Mr(n,"beforeTitle",this,e),i=Mr(n,"title",this,e),o=Mr(n,"afterTitle",this,e);let c=[];return c=$n(c,fA(A)),c=$n(c,fA(i)),c=$n(c,fA(o)),c}getBeforeBody(e,r){return Kx(Mr(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,A=[];return Xe(e,i=>{const o={before:[],lines:[],after:[]},c=Vx(n,i);$n(o.before,fA(Mr(c,"beforeLabel",this,i))),$n(o.lines,Mr(c,"label",this,i)),$n(o.after,fA(Mr(c,"afterLabel",this,i))),A.push(o)}),A}getAfterBody(e,r){return Kx(Mr(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,A=Mr(n,"beforeFooter",this,e),i=Mr(n,"footer",this,e),o=Mr(n,"afterFooter",this,e);let c=[];return c=$n(c,fA(A)),c=$n(c,fA(i)),c=$n(c,fA(o)),c}_createItems(e){const r=this._active,n=this.chart.data,A=[],i=[],o=[];let c=[],u,d;for(u=0,d=r.length;u<d;++u)c.push(LL(this.chart,r[u]));return e.filter&&(c=c.filter((p,m,x)=>e.filter(p,m,x,n))),e.itemSort&&(c=c.sort((p,m)=>e.itemSort(p,m,n))),Xe(c,p=>{const m=Vx(e.callbacks,p);A.push(Mr(m,"labelColor",this,p)),i.push(Mr(m,"labelPointStyle",this,p)),o.push(Mr(m,"labelTextColor",this,p))}),this.labelColors=A,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=c,c}update(e,r){const n=this.options.setContext(this.getContext()),A=this._active;let i,o=[];if(!A.length)this.opacity!==0&&(i={opacity:0});else{const c=Qa[n.position].call(this,A,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const u=this._size=Px(this,n),d=Object.assign({},c,u),p=Hx(this.chart,n,d),m=jx(n,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,i={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,A){const i=this.getCaretPosition(e,n,A);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:A,yAlign:i}=this,{caretSize:o,cornerRadius:c}=n,{topLeft:u,topRight:d,bottomLeft:p,bottomRight:m}=po(c),{x,y:C}=e,{width:E,height:v}=r;let F,S,I,T,N,L;return i==="center"?(N=C+v/2,A==="left"?(F=x,S=F-o,T=N+o,L=N-o):(F=x+E,S=F+o,T=N-o,L=N+o),I=F):(A==="left"?S=x+Math.max(u,p)+o:A==="right"?S=x+E-Math.max(d,m)-o:S=this.caretX,i==="top"?(T=C,N=T-o,F=S-o,I=S+o):(T=C+v,N=T+o,F=S+o,I=S-o),L=T),{x1:F,x2:S,x3:I,y1:T,y2:N,y3:L}}drawTitle(e,r,n){const A=this.title,i=A.length;let o,c,u;if(i){const d=wo(n.rtl,this.x,this.width);for(e.x=ou(this,n.titleAlign,n),r.textAlign=d.textAlign(n.titleAlign),r.textBaseline="middle",o=mr(n.titleFont),c=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,u=0;u<i;++u)r.fillText(A[u],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,u+1===i&&(e.y+=n.titleMarginBottom-c)}}_drawColorBox(e,r,n,A,i){const o=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:u,boxWidth:d}=i,p=mr(i.bodyFont),m=ou(this,"left",i),x=A.x(m),C=u<p.lineHeight?(p.lineHeight-u)/2:0,E=r.y+C;if(i.usePointStyle){const v={radius:Math.min(d,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},F=A.leftForLtr(x,d)+d/2,S=E+u/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,ix(e,v,F,S),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ix(e,v,F,S)}else{e.lineWidth=He(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=A.leftForLtr(x,d),F=A.leftForLtr(A.xPlus(x,1),d-2),S=po(o.borderRadius);Object.values(S).some(I=>I!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,vh(e,{x:v,y:E,w:d,h:u,radius:S}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),vh(e,{x:F,y:E+1,w:d-2,h:u-2,radius:S}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(v,E,d,u),e.strokeRect(v,E,d,u),e.fillStyle=o.backgroundColor,e.fillRect(F,E+1,d-2,u-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:A}=this,{bodySpacing:i,bodyAlign:o,displayColors:c,boxHeight:u,boxWidth:d,boxPadding:p}=n,m=mr(n.bodyFont);let x=m.lineHeight,C=0;const E=wo(n.rtl,this.x,this.width),v=function(K){r.fillText(K,E.x(e.x+C),e.y+x/2),e.y+=x+i},F=E.textAlign(o);let S,I,T,N,L,k,D;for(r.textAlign=o,r.textBaseline="middle",r.font=m.string,e.x=ou(this,F,n),r.fillStyle=n.bodyColor,Xe(this.beforeBody,v),C=c&&F!=="right"?o==="center"?d/2+p:d+2+p:0,N=0,k=A.length;N<k;++N){for(S=A[N],I=this.labelTextColors[N],r.fillStyle=I,Xe(S.before,v),T=S.lines,c&&T.length&&(this._drawColorBox(r,e,N,E,n),x=Math.max(m.lineHeight,u)),L=0,D=T.length;L<D;++L)v(T[L]),x=m.lineHeight;Xe(S.after,v)}C=0,x=m.lineHeight,Xe(this.afterBody,v),e.y-=i}drawFooter(e,r,n){const A=this.footer,i=A.length;let o,c;if(i){const u=wo(n.rtl,this.x,this.width);for(e.x=ou(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=u.textAlign(n.footerAlign),r.textBaseline="middle",o=mr(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,c=0;c<i;++c)r.fillText(A[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,A){const{xAlign:i,yAlign:o}=this,{x:c,y:u}=e,{width:d,height:p}=n,{topLeft:m,topRight:x,bottomLeft:C,bottomRight:E}=po(A.cornerRadius);r.fillStyle=A.backgroundColor,r.strokeStyle=A.borderColor,r.lineWidth=A.borderWidth,r.beginPath(),r.moveTo(c+m,u),o==="top"&&this.drawCaret(e,r,n,A),r.lineTo(c+d-x,u),r.quadraticCurveTo(c+d,u,c+d,u+x),o==="center"&&i==="right"&&this.drawCaret(e,r,n,A),r.lineTo(c+d,u+p-E),r.quadraticCurveTo(c+d,u+p,c+d-E,u+p),o==="bottom"&&this.drawCaret(e,r,n,A),r.lineTo(c+C,u+p),r.quadraticCurveTo(c,u+p,c,u+p-C),o==="center"&&i==="left"&&this.drawCaret(e,r,n,A),r.lineTo(c,u+m),r.quadraticCurveTo(c,u,c+m,u),r.closePath(),r.fill(),A.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,A=n&&n.x,i=n&&n.y;if(A||i){const o=Qa[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=Px(this,e),u=Object.assign({},o,this._size),d=Hx(r,e,u),p=jx(e,u,d,r);(A._to!==p.x||i._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const A={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=_n(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,A,r),wb(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),mb(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,A=e.map(({datasetIndex:c,index:u})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[u],index:u}}),i=!Bh(n,A),o=this._positionChanged(A,r);(i||o)&&(this._active=A,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const A=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,n),c=this._positionChanged(o,e),u=r||!Bh(o,i)||c;return u&&(this._active=o,(A.enabled||A.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),u}_getActiveElements(e,r,n,A){const i=this.options;if(e.type==="mouseout")return[];if(!A)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:A,options:i}=this,o=Qa[i.position].call(this,e,r);return o!==!1&&(n!==o.x||A!==o.y)}}Ie(Ng,"positioners",Qa);var GL={id:"tooltip",_element:Ng,positioners:Qa,afterInit(t,e,r){r&&(t.tooltip=new Ng({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Nb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const WL=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function XL(t,e,r,n){const A=t.indexOf(e);if(A===-1)return WL(t,e,r,n);const i=t.lastIndexOf(e);return A!==i?r:A}const YL=(t,e)=>t===null?null:Kr(Math.round(t),0,e);function zx(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Rg extends Lo{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:A,label:i}of r)n[A]===i&&n.splice(A,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(rt(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:XL(n,e,Pe(r,e),this._addedLabels),YL(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:A}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(A=this.getLabels().length-1)),this.min=n,this.max=A}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,A=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)A.push({value:o});return A}getLabelForValue(e){return zx.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ie(Rg,"id","category"),Ie(Rg,"defaults",{ticks:{callback:zx}});function JL(t,e){const r=[],{bounds:A,step:i,min:o,max:c,precision:u,count:d,maxTicks:p,maxDigits:m,includeBounds:x}=t,C=i||1,E=p-1,{min:v,max:F}=e,S=!rt(o),I=!rt(c),T=!rt(d),N=(F-v)/(m+1);let L=JB((F-v)/E/C)*C,k,D,K,H;if(L<1e-14&&!S&&!I)return[{value:v},{value:F}];H=Math.ceil(F/L)-Math.floor(v/L),H>E&&(L=JB(H*L/E/C)*C),rt(u)||(k=Math.pow(10,u),L=Math.ceil(L*k)/k),A==="ticks"?(D=Math.floor(v/L)*L,K=Math.ceil(F/L)*L):(D=v,K=F),S&&I&&i&&WM((c-o)/i,L/1e3)?(H=Math.round(Math.min((c-o)/L,p)),L=(c-o)/H,D=o,K=c):T?(D=S?o:D,K=I?c:K,H=d-1,L=(K-D)/H):(H=(K-D)/L,bu(H,Math.round(H),L/1e3)?H=Math.round(H):H=Math.ceil(H));const q=Math.max(ZB(L),ZB(D));k=Math.pow(10,rt(u)?q:u),D=Math.round(D*k)/k,K=Math.round(K*k)/k;let oe=0;for(S&&(x&&D!==o?(r.push({value:o}),D<o&&oe++,bu(Math.round((D+oe*L)*k)/k,o,Gx(o,N,t))&&oe++):D<o&&oe++);oe<H;++oe){const Z=Math.round((D+oe*L)*k)/k;if(I&&Z>c)break;r.push({value:Z})}return I&&x&&K!==c?r.length&&bu(r[r.length-1].value,c,Gx(c,N,t))?r[r.length-1].value=c:r.push({value:c}):(!I||K===c)&&r.push({value:K}),r}function Gx(t,e,{horizontal:r,minRotation:n}){const A=ts(n),i=(r?Math.sin(A):Math.cos(A))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class ZL extends Lo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return rt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:A,max:i}=this;const o=u=>A=r?A:u,c=u=>i=n?i:u;if(e){const u=wi(A),d=wi(i);u<0&&d<0?c(0):u>0&&d>0&&o(0)}if(A===i){let u=i===0?1:Math.abs(i*.05);c(i+u),e||o(A-u)}this.min=A,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,A;return n?(A=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,A>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${A} ticks. Limiting to 1000.`),A=1e3)):(A=this.computeTickLimit(),r=r||11),r&&(A=Math.min(r,A)),A}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const A={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=JL(A,i);return e.bounds==="ticks"&&XM(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const A=(n-r)/Math.max(e.length-1,1)/2;r-=A,n+=A}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return ab(e,this.chart.options.locale,this.options.ticks.format)}}class Mg extends ZL{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=bn(e)?e:0,this.max=bn(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=ts(this.options.ticks.minRotation),A=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/A))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ie(Mg,"id","linear"),Ie(Mg,"defaults",{ticks:{callback:lb.formatters.numeric}});const cd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Hr=Object.keys(cd);function Wx(t,e){return t-e}function Xx(t,e){if(rt(e))return null;const r=t._adapter,{parser:n,round:A,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),bn(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(A&&(o=A==="week"&&(Ch(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,A)),+o)}function Yx(t,e,r,n){const A=Hr.length;for(let i=Hr.indexOf(t);i<A-1;++i){const o=cd[Hr[i]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(c*o.size))<=n)return Hr[i]}return Hr[A-1]}function qL(t,e,r,n,A){for(let i=Hr.length-1;i>=Hr.indexOf(r);i--){const o=Hr[i];if(cd[o].common&&t._adapter.diff(A,n,o)>=e-1)return o}return Hr[r?Hr.indexOf(r):0]}function $L(t){for(let e=Hr.indexOf(t)+1,r=Hr.length;e<r;++e)if(cd[Hr[e]].common)return Hr[e]}function Jx(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:A}=ip(r,e),i=r[n]>=e?r[n]:r[A];t[i]=!0}}function e6(t,e,r,n){const A=t._adapter,i=+A.startOf(e[0].value,n),o=e[e.length-1].value;let c,u;for(c=i;c<=o;c=+A.add(c,1,n))u=r[c],u>=0&&(e[u].major=!0);return e}function Zx(t,e,r){const n=[],A={},i=e.length;let o,c;for(o=0;o<i;++o)c=e[o],A[c]=o,n.push({value:c,major:!1});return i===0||!r?n:e6(t,n,A,r)}class Ih extends Lo{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),A=this._adapter=new uk._date(e.adapters.date);A.init(r),Ya(n.displayFormats,A.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:Xx(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:A,max:i,minDefined:o,maxDefined:c}=this.getUserBounds();function u(d){!o&&!isNaN(d.min)&&(A=Math.min(A,d.min)),!c&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),A=bn(A)&&!isNaN(A)?A:+r.startOf(Date.now(),n),i=bn(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(A,i-1),this.max=Math.max(A+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,A=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&A.length&&(this.min=this._userMin||A[0],this.max=this._userMax||A[A.length-1]);const i=this.min,o=this.max,c=$M(A,i,o);return this._unit=r.unit||(n.autoSkip?Yx(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):qL(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:$L(this._unit),this.initOffsets(A),e.reverse&&c.reverse(),Zx(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,A,i;this.options.offset&&e.length&&(A=this.getDecimalForValue(e[0]),e.length===1?r=1-A:r=(this.getDecimalForValue(e[1])-A)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=Kr(r,0,o),n=Kr(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,A=this.options,i=A.time,o=i.unit||Yx(i.minUnit,r,n,this._getLabelCapacity(r)),c=Pe(A.ticks.stepSize,1),u=o==="week"?i.isoWeekday:!1,d=Ch(u)||u===!0,p={};let m=r,x,C;if(d&&(m=+e.startOf(m,"isoWeek",u)),m=+e.startOf(m,d?"day":o),e.diff(n,r,o)>1e5*c)throw new Error(r+" and "+n+" are too far apart with stepSize of "+c+" "+o);const E=A.ticks.source==="data"&&this.getDataTimestamps();for(x=m,C=0;x<n;x=+e.add(x,c,o),C++)Jx(p,x,E);return(x===n||A.bounds==="ticks"||C===1)&&Jx(p,x,E),Object.keys(p).sort(Wx).map(v=>+v)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const A=this.options.time.displayFormats,i=this._unit,o=r||A[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,A){const i=this.options,o=i.ticks.callback;if(o)return ut(o,[e,r,n],this);const c=i.time.displayFormats,u=this._unit,d=this._majorUnit,p=u&&c[u],m=d&&c[d],x=n[r],C=d&&m&&x&&x.major;return this._adapter.format(e,A||(C?m:p))}generateTickLabels(e){let r,n,A;for(r=0,n=e.length;r<n;++r)A=e[r],A.label=this._tickFormatFunction(A.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,A=ts(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(A),o=Math.sin(A),c=this._resolveTickFontOptions(0).size;return{w:n*i+c*o,h:n*o+c*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,A=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Zx(this,[e],this._majorUnit),A),o=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const A=this.getMatchingVisibleMetas();if(this._normalized&&A.length)return this._cache.data=A[0].controller.getAllParsedValues(this);for(r=0,n=A.length;r<n;++r)e=e.concat(A[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const A=this.getLabels();for(r=0,n=A.length;r<n;++r)e.push(Xx(this,A[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ab(e.sort(Wx))}}Ie(Ih,"id","time"),Ie(Ih,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function au(t,e,r){let n=0,A=t.length-1,i,o,c,u;r?(e>=t[n].pos&&e<=t[A].pos&&({lo:n,hi:A}=Tg(t,"pos",e)),{pos:i,time:c}=t[n],{pos:o,time:u}=t[A]):(e>=t[n].time&&e<=t[A].time&&({lo:n,hi:A}=Tg(t,"time",e)),{time:i,pos:c}=t[n],{time:o,pos:u}=t[A]);const d=o-i;return d?c+(u-c)*(e-i)/d:c}class qx extends Ih{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=au(r,this.min),this._tableRange=au(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,A=[],i=[];let o,c,u,d,p;for(o=0,c=e.length;o<c;++o)d=e[o],d>=r&&d<=n&&A.push(d);if(A.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,c=A.length;o<c;++o)p=A[o+1],u=A[o-1],d=A[o],Math.round((p+u)/2)!==d&&i.push({time:d,pos:o/(c-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((A,i)=>A-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(au(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return au(this._table,n*this._tableRange+this._minPos,!0)}}Ie(qx,"id","timeseries"),Ie(qx,"defaults",Ih.defaults);const Rb="label";function $x(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function t6(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function Mb(t,e){t.labels=e}function Db(t,e,r=Rb){const n=[];t.datasets=e.map(A=>{const i=t.datasets.find(o=>o[r]===A[r]);return!i||!A.data||n.includes(i)?{...A}:(n.push(i),Object.assign(i,A),i)})}function r6(t,e=Rb){const r={labels:[],datasets:[]};return Mb(r,t.labels),Db(r,t.datasets,e),r}function n6(t,e){const{height:r=150,width:n=300,redraw:A=!1,datasetIdKey:i,type:o,data:c,options:u,plugins:d=[],fallbackContent:p,updateMode:m,...x}=t,C=Y.useRef(null),E=Y.useRef(null),v=()=>{C.current&&(E.current=new ld(C.current,{type:o,data:r6(c,i),options:u&&{...u},plugins:d}),$x(e,E.current))},F=()=>{$x(e,null),E.current&&(E.current.destroy(),E.current=null)};return Y.useEffect(()=>{!A&&E.current&&u&&t6(E.current,u)},[A,u]),Y.useEffect(()=>{!A&&E.current&&Mb(E.current.config.data,c.labels)},[A,c.labels]),Y.useEffect(()=>{!A&&E.current&&c.datasets&&Db(E.current.config.data,c.datasets,i)},[A,c.datasets]),Y.useEffect(()=>{E.current&&(A?(F(),setTimeout(v)):E.current.update(m))},[A,u,c.labels,c.datasets,m]),Y.useEffect(()=>{E.current&&(F(),setTimeout(v))},[o]),Y.useEffect(()=>(v(),()=>F()),[]),_.jsx("canvas",{ref:C,role:"img",height:r,width:n,...x,children:p})}const A6=Y.forwardRef(n6);function i6(t,e){return ld.register(e),Y.forwardRef((r,n)=>_.jsx(A6,{...r,ref:n,type:t}))}const s6=i6("bar",_u);ld.register(Rg,Mg,Fu,kL,GL,ML,Ua);const o6=()=>{const{products:t,categories:e}=Wr(),{movements:r}=Xh(),n=t.length,A=t.reduce((m,x)=>m+Number(x.stock),0),i=t.reduce((m,x)=>m+Number(x.stock)*Number(x.price),0),o=t.filter(m=>m.minStock&&m.stock<=m.minStock),c=e.map(m=>t.filter(C=>C.category===m).reduce((C,E)=>C+Number(E.stock),0)),u={labels:e,datasets:[{label:"Stock por Categora",data:c,backgroundColor:"rgba(99, 102, 241, 0.5)",borderColor:"rgb(99, 102, 241)",borderWidth:1}]},d={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Distribucin de Inventario"}}},p=r.slice(0,5);return _.jsxs("div",{className:"page-container",children:[_.jsx("h1",{className:"page-title",children:"Dashboard"}),_.jsxs("div",{className:"stats-grid",children:[_.jsxs("div",{className:"card stat-card",children:[_.jsx("div",{className:"stat-icon bg-primary-light",children:_.jsx(K1,{className:"text-primary",size:24})}),_.jsxs("div",{className:"stat-info",children:[_.jsx("span",{className:"stat-label",children:"Total Productos"}),_.jsx("span",{className:"stat-value",children:n})]})]}),_.jsxs("div",{className:"card stat-card",children:[_.jsx("div",{className:"stat-icon bg-success-light",children:_.jsx(S3,{className:"text-success",size:24})}),_.jsxs("div",{className:"stat-info",children:[_.jsx("span",{className:"stat-label",children:"Valor Inventario"}),_.jsxs("span",{className:"stat-value",children:["$",i.toFixed(2)]})]})]}),_.jsxs("div",{className:"card stat-card",children:[_.jsx("div",{className:"stat-icon bg-warning-light",children:_.jsx(Rv,{className:"text-warning",size:24})}),_.jsxs("div",{className:"stat-info",children:[_.jsx("span",{className:"stat-label",children:"Total Unidades"}),_.jsx("span",{className:"stat-value",children:A})]})]}),_.jsxs("div",{className:"card stat-card",children:[_.jsx("div",{className:"stat-icon bg-danger-light",children:_.jsx(rg,{className:"text-danger",size:24})}),_.jsxs("div",{className:"stat-info",children:[_.jsx("span",{className:"stat-label",children:"Stock Bajo"}),_.jsx("span",{className:"stat-value",children:o.length})]})]})]}),_.jsxs("div",{className:"dashboard-content",children:[_.jsx("div",{className:"card chart-section",children:_.jsx(s6,{options:d,data:u})}),_.jsxs("div",{className:"side-section",children:[o.length>0&&_.jsxs("div",{className:"card alerts-card",children:[_.jsx("h3",{children:"Alertas de Stock"}),_.jsx("div",{className:"alerts-list",children:o.map(m=>_.jsxs("div",{className:"alert-item",children:[_.jsx(rg,{size:16,className:"text-danger"}),_.jsxs("div",{className:"alert-details",children:[_.jsx("span",{className:"alert-name",children:m.name}),_.jsxs("span",{className:"alert-stock",children:["Stock: ",m.stock," (Min: ",m.minStock,")"]})]})]},m.id))})]}),_.jsxs("div",{className:"card recent-card",children:[_.jsx("h3",{children:"Movimientos Recientes"}),_.jsx("div",{className:"recent-list",children:p.length>0?p.map(m=>_.jsxs("div",{className:"recent-item",children:[_.jsx("span",{className:`indicator ${m.type==="IN"?"bg-success":"bg-danger"}`}),_.jsxs("div",{className:"recent-details",children:[_.jsx("span",{className:"recent-type",children:m.type==="IN"?"Entrada":"Salida"}),_.jsx("span",{className:"recent-date",children:new Date(m.date).toLocaleDateString()})]}),_.jsxs("span",{className:"recent-qty",children:[m.quantity," u."]})]},m.id)):_.jsx("p",{className:"text-muted",children:"No hay movimientos recientes."})})]})]})]}),_.jsx("style",{children:`
        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
          gap: var(--spacing-lg);
          margin-bottom: var(--spacing-xl);
        }

        .stat-card {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
        }

        .stat-icon {
          width: 48px;
          height: 48px;
          border-radius: var(--radius-full);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .stat-info {
          display: flex;
          flex-direction: column;
        }

        .stat-label {
          color: var(--color-text-muted);
          font-size: 0.9rem;
        }

        .stat-value {
          font-size: 1.5rem;
          font-weight: 700;
          color: var(--color-text);
        }

        .bg-primary-light { background-color: #e0e7ff; }
        .text-primary { color: var(--color-primary); }
        
        .bg-success-light { background-color: #d1fae5; }
        .text-success { color: var(--color-success); }

        .bg-warning-light { background-color: #fef3c7; }
        .text-warning { color: var(--color-warning); }

        .bg-danger-light { background-color: #fee2e2; }
        .text-danger { color: var(--color-danger); }

        .dashboard-content {
          display: grid;
          grid-template-columns: 2fr 1fr;
          gap: var(--spacing-lg);
        }

        .side-section {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-lg);
        }

        .alerts-list, .recent-list {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-md);
        }

        .alert-item {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          padding: var(--spacing-sm);
          background-color: #fef2f2;
          border-radius: var(--radius-md);
          border: 1px solid #fee2e2;
        }

        .alert-details {
          display: flex;
          flex-direction: column;
        }

        .alert-name { font-weight: 500; font-size: 0.9rem; }
        .alert-stock { font-size: 0.8rem; color: var(--color-danger); }

        .recent-item {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--spacing-sm) 0;
          border-bottom: 1px solid var(--color-border);
        }

        .indicator {
          width: 8px;
          height: 8px;
          border-radius: 50%;
        }

        .bg-success { background-color: var(--color-success); }
        .bg-danger { background-color: var(--color-danger); }

        .recent-details {
          flex: 1;
          margin-left: var(--spacing-md);
          display: flex;
          flex-direction: column;
        }

        .recent-type { font-weight: 500; font-size: 0.9rem; }
        .recent-date { font-size: 0.8rem; color: var(--color-text-muted); }
        .recent-qty { font-weight: 600; }

        @media (max-width: 1024px) {
          .dashboard-content {
            grid-template-columns: 1fr;
          }
        }
      `})]})},a6=()=>{const{products:t}=Wr(),e=()=>{const r=["ID","Nombre","SKU","Categora","Stock","Costo","Precio","Valor Total"],n=t.map(u=>[u.id,`"${u.name.replace(/"/g,'""')}"`,u.sku,u.category,u.stock,u.cost,u.price,(u.stock*u.cost).toFixed(2)]),A=[r.join(","),...n.map(u=>u.join(","))].join(`
`),i=new Blob([A],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(i),c=document.createElement("a");c.setAttribute("href",o),c.setAttribute("download",`inventario_${new Date().toISOString().split("T")[0]}.csv`),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)};return _.jsxs("div",{className:"page-container",children:[_.jsx("div",{className:"page-header",children:_.jsxs("div",{children:[_.jsx("h1",{className:"page-title",children:"Reportes"}),_.jsx("p",{className:"page-subtitle",children:"Genera y exporta informacin de tu inventario"})]})}),_.jsxs("div",{className:"reports-grid",children:[_.jsxs("div",{className:"card report-card",children:[_.jsx("div",{className:"icon-wrapper bg-success-light",children:_.jsx(T3,{size:32,className:"text-success"})}),_.jsxs("div",{className:"report-info",children:[_.jsx("h3",{children:"Exportar Inventario (CSV)"}),_.jsx("p",{children:"Descarga todo tu inventario en formato compatible con Excel."}),_.jsx("button",{onClick:e,className:"btn btn-outline",children:"Descargar CSV"})]})]}),_.jsxs("div",{className:"card report-card",children:[_.jsx("div",{className:"icon-wrapper bg-primary-light",children:_.jsx(Rv,{size:32,className:"text-primary"})}),_.jsxs("div",{className:"report-info",children:[_.jsx("h3",{children:"Valorizacin de Inventario"}),_.jsx("p",{children:"Reporte imprimible del valor total de tu stock por categora."}),_.jsx(xi,{to:"/reports/value",className:"btn btn-outline",children:"Ver Reporte"})]})]}),_.jsxs("div",{className:"card report-card",children:[_.jsx("div",{className:"icon-wrapper bg-warning-light",children:_.jsx(rg,{size:32,className:"text-warning"})}),_.jsxs("div",{className:"report-info",children:[_.jsx("h3",{children:"Productos con Bajo Stock"}),_.jsx("p",{children:"Lista de productos que estn por debajo del mnimo requerido."}),_.jsx(xi,{to:"/reports/low-stock",className:"btn btn-outline",children:"Ver Reporte"})]})]})]}),_.jsx("style",{children:`
        .reports-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: var(--spacing-lg);
        }

        .report-card {
          display: flex;
          flex-direction: column;
          align-items: center;
          text-align: center;
          padding: var(--spacing-xl);
          gap: var(--spacing-lg);
          transition: transform 0.2s;
        }

        .report-card:hover {
          transform: translateY(-4px);
          box-shadow: var(--shadow-md);
        }

        .icon-wrapper {
          width: 64px;
          height: 64px;
          border-radius: var(--radius-full);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .report-info h3 {
          margin-bottom: var(--spacing-sm);
          font-size: 1.25rem;
        }

        .report-info p {
          color: var(--color-text-muted);
          margin-bottom: var(--spacing-lg);
          min-height: 48px;
        }

        .btn-outline {
          background: transparent;
          border: 1px solid var(--color-border);
          color: var(--color-text);
          width: 100%;
        }

        .btn-outline:hover {
          border-color: var(--color-primary);
          color: var(--color-primary);
          background-color: var(--color-background);
        }

        .bg-success-light { background-color: #d1fae5; }
        .text-success { color: var(--color-success); }
        
        .bg-primary-light { background-color: #e0e7ff; }
        .text-primary { color: var(--color-primary); }

        .bg-warning-light { background-color: #fef3c7; }
        .text-warning { color: var(--color-warning); }
      `})]})},l6=()=>{const{products:t,categories:e}=Wr(),r=Oo(),n=new Date().toLocaleDateString(),A=e.map(c=>{const u=t.filter(m=>m.category===c),d=u.reduce((m,x)=>m+Number(x.stock),0),p=u.reduce((m,x)=>m+Number(x.stock)*Number(x.cost),0);return{name:c,count:d,value:p}}),i=A.reduce((c,u)=>c+u.value,0),o=A.reduce((c,u)=>c+u.count,0);return _.jsxs("div",{className:"report-container",children:[_.jsxs("div",{className:"no-print report-controls",children:[_.jsxs("button",{onClick:()=>r("/reports"),className:"btn",children:[_.jsx(kl,{size:20})," Volver"]}),_.jsxs("button",{onClick:()=>window.print(),className:"btn btn-primary",children:[_.jsx(V1,{size:20,style:{marginRight:"8px"}})," Imprimir"]})]}),_.jsxs("div",{className:"paper",children:[_.jsxs("div",{className:"report-header",children:[_.jsx("h1",{children:"Reporte de Valorizacin de Inventario"}),_.jsxs("p",{children:["Fecha de emisin: ",n]})]}),_.jsxs("div",{className:"summary-section",children:[_.jsxs("div",{className:"summary-box",children:[_.jsx("span",{className:"label",children:"Valor Total (Costo)"}),_.jsxs("span",{className:"value",children:["$",i.toFixed(2)]})]}),_.jsxs("div",{className:"summary-box",children:[_.jsx("span",{className:"label",children:"Total Unidades"}),_.jsx("span",{className:"value",children:o})]})]}),_.jsxs("table",{className:"report-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Categora"}),_.jsx("th",{className:"text-right",children:"Unidades"}),_.jsx("th",{className:"text-right",children:"Valor Total ($)"}),_.jsx("th",{className:"text-right",children:"% del Total"})]})}),_.jsx("tbody",{children:A.map(c=>_.jsxs("tr",{children:[_.jsx("td",{children:c.name}),_.jsx("td",{className:"text-right",children:c.count}),_.jsxs("td",{className:"text-right",children:["$",c.value.toFixed(2)]}),_.jsxs("td",{className:"text-right",children:[i>0?(c.value/i*100).toFixed(1):0,"%"]})]},c.name))}),_.jsx("tfoot",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"TOTAL"}),_.jsx("th",{className:"text-right",children:o}),_.jsxs("th",{className:"text-right",children:["$",i.toFixed(2)]}),_.jsx("th",{className:"text-right",children:"100%"})]})})]}),_.jsx("div",{className:"report-footer",children:_.jsx("p",{children:"Fin del reporte"})})]}),_.jsx("style",{children:`
        .report-container {
          padding: 2rem;
          background-color: #f3f4f6;
          min-height: 100vh;
        }

        .report-controls {
          display: flex;
          justify-content: space-between;
          margin-bottom: 2rem;
          max-width: 800px;
          margin-left: auto;
          margin-right: auto;
        }

        .paper {
          background: white;
          max-width: 800px;
          margin: 0 auto;
          padding: 4rem;
          box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        }

        .report-header {
          text-align: center;
          margin-bottom: 3rem;
          border-bottom: 2px solid #e5e7eb;
          padding-bottom: 2rem;
        }

        .report-header h1 {
          font-size: 1.8rem;
          margin-bottom: 0.5rem;
        }

        .summary-section {
          display: flex;
          justify-content: space-around;
          margin-bottom: 3rem;
          background-color: #f9fafb;
          padding: 1.5rem;
          border-radius: 0.5rem;
        }

        .summary-box {
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .summary-box .label {
          font-size: 0.9rem;
          color: #6b7280;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .summary-box .value {
          font-size: 1.5rem;
          font-weight: 700;
          color: #111827;
        }

        .report-table {
          width: 100%;
          border-collapse: collapse;
          margin-bottom: 2rem;
        }

        .report-table th, .report-table td {
          padding: 1rem;
          border-bottom: 1px solid #e5e7eb;
          text-align: left;
        }

        .report-table th {
          background-color: #f9fafb;
          font-weight: 600;
          text-transform: uppercase;
          font-size: 0.8rem;
          letter-spacing: 0.05em;
        }

        .report-table tfoot th {
          border-top: 2px solid #374151;
          font-size: 1rem;
        }

        .text-right { text-align: right !important; }

        .report-footer {
          text-align: center;
          color: #9ca3af;
          font-size: 0.8rem;
          margin-top: 4rem;
        }

        @media print {
          .no-print { display: none !important; }
          .report-container { padding: 0; background: white; }
          .paper { box-shadow: none; padding: 0; max-width: 100%; }
          body { background: white; }
        }
      `})]})},c6=()=>{const{products:t}=Wr(),e=Oo(),r=new Date().toLocaleDateString(),n=t.filter(A=>A.minStock&&A.stock<=A.minStock);return _.jsxs("div",{className:"report-container",children:[_.jsxs("div",{className:"no-print report-controls",children:[_.jsxs("button",{onClick:()=>e("/reports"),className:"btn",children:[_.jsx(kl,{size:20})," Volver"]}),_.jsxs("button",{onClick:()=>window.print(),className:"btn btn-primary",children:[_.jsx(V1,{size:20,style:{marginRight:"8px"}})," Imprimir"]})]}),_.jsxs("div",{className:"paper",children:[_.jsxs("div",{className:"report-header",children:[_.jsx("h1",{children:"Reporte de Stock Bajo"}),_.jsxs("p",{children:["Fecha de emisin: ",r]}),_.jsx("p",{className:"subtitle",children:"Productos que requieren reabastecimiento inmediato"})]}),n.length>0?_.jsxs("table",{className:"report-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"SKU"}),_.jsx("th",{children:"Producto"}),_.jsx("th",{children:"Proveedor/Categora"}),_.jsx("th",{className:"text-right",children:"Stock Actual"}),_.jsx("th",{className:"text-right",children:"Mnimo"}),_.jsx("th",{className:"text-right",children:"Dficit"})]})}),_.jsx("tbody",{children:n.map(A=>_.jsxs("tr",{children:[_.jsx("td",{className:"font-mono",children:A.sku}),_.jsx("td",{children:A.name}),_.jsx("td",{children:A.category}),_.jsx("td",{className:"text-right text-danger font-bold",children:A.stock}),_.jsx("td",{className:"text-right",children:A.minStock}),_.jsx("td",{className:"text-right",children:A.minStock-A.stock})]},A.id))})]}):_.jsx("div",{className:"empty-report",children:_.jsx("p",{children:"Excelente! No hay productos con stock bajo en este momento."})}),_.jsx("div",{className:"report-footer",children:_.jsxs("p",{children:["Fin del reporte - Total items: ",n.length]})})]}),_.jsx("style",{children:`
        .report-container {
          padding: 2rem;
          background-color: #f3f4f6;
          min-height: 100vh;
        }

        .report-controls {
          display: flex;
          justify-content: space-between;
          margin-bottom: 2rem;
          max-width: 800px;
          margin-left: auto;
          margin-right: auto;
        }

        .paper {
          background: white;
          max-width: 800px;
          margin: 0 auto;
          padding: 4rem;
          box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        }

        .report-header {
          text-align: center;
          margin-bottom: 3rem;
          border-bottom: 2px solid #e5e7eb;
          padding-bottom: 2rem;
        }

        .report-header h1 {
          font-size: 1.8rem;
          margin-bottom: 0.5rem;
          color: #b91c1c; /* Red for urgency */
        }

        .subtitle {
          color: #6b7280;
        }

        .report-table {
          width: 100%;
          border-collapse: collapse;
          margin-bottom: 2rem;
        }

        .report-table th, .report-table td {
          padding: 1rem;
          border-bottom: 1px solid #e5e7eb;
          text-align: left;
        }

        .report-table th {
          background-color: #f9fafb;
          font-weight: 600;
          text-transform: uppercase;
          font-size: 0.8rem;
          letter-spacing: 0.05em;
        }

        .text-right { text-align: right !important; }
        .text-danger { color: #dc2626; }
        .font-bold { font-weight: 700; }
        .font-mono { font-family: monospace; }

        .empty-report {
          text-align: center;
          padding: 3rem;
          background-color: #f0fdf4;
          border-radius: 0.5rem;
          color: #166534;
        }

        .report-footer {
          text-align: center;
          color: #9ca3af;
          font-size: 0.8rem;
          margin-top: 4rem;
        }

        @media print {
          .no-print { display: none !important; }
          .report-container { padding: 0; background: white; }
          .paper { box-shadow: none; padding: 0; max-width: 100%; }
          body { background: white; }
        }
      `})]})},u6=()=>{const{categories:t,addCategory:e,deleteCategory:r}=Wr(),[n,A]=Y.useState(""),[i,o]=Y.useState(""),c=d=>{if(d.preventDefault(),!!n.trim()){if(t.includes(n.trim())){o("Esta categora ya existe.");return}e(n.trim()),A(""),o("")}},u=d=>{if(window.confirm(`Ests seguro de eliminar la categora "${d}"?`))try{r(d),o("")}catch(p){o(p.message)}};return _.jsxs("div",{className:"page-container",children:[_.jsx("div",{className:"page-header",children:_.jsxs("div",{children:[_.jsx("h1",{className:"page-title",children:"Configuracin"}),_.jsx("p",{className:"page-subtitle",children:"Gestiona las opciones del sistema"})]})}),_.jsx("div",{className:"settings-grid",children:_.jsxs("div",{className:"card settings-card",children:[_.jsxs("div",{className:"card-header",children:[_.jsx(Nv,{size:20,className:"text-primary"}),_.jsx("h2",{children:"Categoras de Productos"})]}),_.jsxs("div",{className:"card-body",children:[_.jsx("p",{className:"text-muted mb-4",children:"Define las categoras disponibles para clasificar tus productos."}),_.jsxs("form",{onSubmit:c,className:"add-category-form",children:[_.jsx("input",{type:"text",value:n,onChange:d=>A(d.target.value),placeholder:"Nueva categora...",className:"form-input"}),_.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:!n.trim(),children:[_.jsx(Yh,{size:18}),"Agregar"]})]}),i&&_.jsx("div",{className:"alert alert-danger",children:i}),_.jsx("div",{className:"category-list",children:t.map(d=>_.jsxs("div",{className:"category-item",children:[_.jsx("span",{children:d}),_.jsx("button",{onClick:()=>u(d),className:"icon-btn text-danger",title:"Eliminar categora",children:_.jsx(Jh,{size:18})})]},d))})]})]})}),_.jsx("style",{children:`
        .settings-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
          gap: var(--spacing-lg);
        }

        .settings-card {
          padding: 0;
          overflow: hidden;
        }

        .card-header {
          padding: var(--spacing-lg);
          border-bottom: 1px solid var(--color-border);
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          background-color: var(--color-background);
        }

        .card-header h2 {
          font-size: 1.1rem;
          font-weight: 600;
          margin: 0;
        }

        .card-body {
          padding: var(--spacing-lg);
          background-color: var(--color-surface);
        }

        .mb-4 { margin-bottom: var(--spacing-md); }

        .add-category-form {
          display: flex;
          gap: var(--spacing-sm);
          margin-bottom: var(--spacing-lg);
        }

        .form-input {
          flex: 1;
          padding: 8px 12px;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          font-size: 0.95rem;
          background-color: var(--color-surface);
          color: var(--color-text);
        }

        .form-input:focus {
          outline: none;
          border-color: var(--color-primary);
          box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
        }

        .alert {
          padding: var(--spacing-sm) var(--spacing-md);
          border-radius: var(--radius-md);
          margin-bottom: var(--spacing-md);
          font-size: 0.9rem;
        }

        .alert-danger {
          background-color: rgba(239, 68, 68, 0.1);
          color: var(--color-danger);
          border: 1px solid var(--color-danger);
        }

        .category-list {
          display: flex;
          flex-direction: column;
          gap: 1px;
          background-color: var(--color-border);
          border-radius: var(--radius-md);
          overflow: hidden;
          border: 1px solid var(--color-border);
        }

        .category-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: var(--spacing-sm) var(--spacing-md);
          background-color: var(--color-surface);
        }

        .category-item:hover {
          background-color: var(--color-background);
        }

        .text-primary { color: var(--color-primary); }
      `})]})};function h6(){return _.jsx(y3,{children:_.jsx(C3,{children:_.jsx(v3,{children:_.jsx(K4,{children:_.jsx(L3,{children:_.jsxs(M4,{children:[_.jsx(Dr,{path:"/",element:_.jsx(o6,{})}),_.jsx(Dr,{path:"/inventory",element:_.jsx(P3,{})}),_.jsx(Dr,{path:"/inventory/new",element:_.jsx(jm,{})}),_.jsx(Dr,{path:"/inventory/edit/:id",element:_.jsx(jm,{})}),_.jsx(Dr,{path:"/movements",element:_.jsx(bU,{})}),_.jsx(Dr,{path:"/movements/new/:type",element:_.jsx(_U,{})}),_.jsx(Dr,{path:"/assemblies",element:_.jsx(IU,{})}),_.jsx(Dr,{path:"/assemblies/new",element:_.jsx(SU,{})}),_.jsx(Dr,{path:"/qr-generator",element:_.jsx(fM,{})}),_.jsx(Dr,{path:"/reports",element:_.jsx(a6,{})}),_.jsx(Dr,{path:"/reports/value",element:_.jsx(l6,{})}),_.jsx(Dr,{path:"/reports/low-stock",element:_.jsx(c6,{})}),_.jsx(Dr,{path:"/settings",element:_.jsx(u6,{})})]})})})})})})}Wf.createRoot(document.getElementById("root")).render(_.jsx(Yi.StrictMode,{children:_.jsx(h6,{})}));
